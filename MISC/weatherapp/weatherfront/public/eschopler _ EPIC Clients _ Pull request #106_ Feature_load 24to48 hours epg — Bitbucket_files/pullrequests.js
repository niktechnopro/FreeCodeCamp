webpackJsonp([6],{1049:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(16),o=r(i),a=n(14),l=r(a),u=n(5),s=r(u),c=n(8),d=r(c),f=n(7),h=r(f),p=n(6),m=r(p),g=n(0),v=r(g),b=n(1057),_=r(b),y=n(1052),w=n(1050),k=function(e){function t(){var e,n,r,i;(0,s.default)(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=(0,h.default)(this,(e=t.__proto__||(0,l.default)(t)).call.apply(e,[this].concat(a))),r.renderAction=function(e){var t=e.text,n=e.onClick,r=e.href,i=e.linkComponent;return n||r?v.default.createElement(w.Action,{key:t},v.default.createElement(_.default,{appearance:"link",spacing:"none",onClick:n,href:r,component:i},t)):v.default.createElement(w.Action,{key:t},t)},i=n,(0,h.default)(r,i)}return(0,m.default)(t,e),(0,d.default)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.title,i=t.actions,a=t.appearance,l=t.icon,u=t.linkComponent,s=y.baseAppearanceObj[a]||y.baseAppearanceObj.info,c=l||s.Icon;return v.default.createElement(w.Container,{backgroundColor:s.backgroundColor},v.default.createElement(w.IconWrapper,null,v.default.createElement(c,{primaryColor:s.primaryIconColor,secondaryColor:s.backgroundColor})),v.default.createElement("div",null,r?v.default.createElement(w.Title,null,r):null,n?v.default.createElement(w.Description,null,n):null,i&&i.length>0?v.default.createElement(w.Actions,null,i.map(function(t){return e.renderAction((0,o.default)({},t,{linkComponent:u}))})):null))}}]),t}(g.Component);k.defaultProps={appearance:"info"},t.default=k},1050:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.IconWrapper=t.Action=t.Actions=t.Description=t.Title=t.Container=void 0;var i=n(18),o=r(i),a=(0,o.default)(["\n  display: flex;\n  border-radius: ","px;\n  background-color: ",";\n  padding: ","px;\n"],["\n  display: flex;\n  border-radius: ","px;\n  background-color: ",";\n  padding: ","px;\n"]),l=(0,o.default)(["\n  margin: 0;\n  ",";\n"],["\n  margin: 0;\n  ",";\n"]),u=(0,o.default)(["\n  * + & {\n    margin-top: 8px;\n  }\n"],["\n  * + & {\n    margin-top: 8px;\n  }\n"]),s=(0,o.default)(["\n  display: inline-flex;\n  * + & {\n    margin-top: 8px;\n  }\n"],["\n  display: inline-flex;\n  * + & {\n    margin-top: 8px;\n  }\n"]),c=(0,o.default)(["\n  & + &::before {\n    color: ",";\n    content: '·';\n    display: inline-block;\n    text-align: center;\n    vertical-align: middle;\n    width: ","px;\n  }\n"],["\n  & + &::before {\n    color: ",";\n    content: '·';\n    display: inline-block;\n    text-align: center;\n    vertical-align: middle;\n    width: ","px;\n  }\n"]),d=(0,o.default)(["\n  flex: 0 0 auto;\n  width: ","px;\n  > span {\n    margin: -2px 0;\n    vertical-align: top;\n  }\n"],["\n  flex: 0 0 auto;\n  width: ","px;\n  > span {\n    margin: -2px 0;\n    vertical-align: top;\n  }\n"]),f=n(2),h=r(f),p=n(93);t.Container=h.default.section(a,p.borderRadius,function(e){return e.backgroundColor},p.math.multiply(p.gridSize,2)),t.Title=h.default.h1(l,p.typography.h500),t.Description=h.default.div(u),t.Actions=h.default.div(s),t.Action=h.default.div(c,p.colors.N500,p.math.multiply(p.gridSize,2)),t.IconWrapper=h.default.div(d,p.math.multiply(p.gridSize,5))},1051:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1049);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(i).default}})},1052:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.baseAppearanceObj=void 0;var i=n(93),o=n(1073),a=r(o),l=n(1070),u=r(l),s=n(1069),c=r(s),d=n(1071),f=r(d),h=n(1072),p=r(h);t.baseAppearanceObj={info:{backgroundColor:i.colors.B50,Icon:f.default,primaryIconColor:i.colors.B500},warning:{backgroundColor:i.colors.Y50,Icon:a.default,primaryIconColor:i.colors.Y500},error:{backgroundColor:i.colors.R50,Icon:u.default,primaryIconColor:i.colors.R500},confirmation:{backgroundColor:i.colors.G50,Icon:c.default,primaryIconColor:i.colors.G500},change:{backgroundColor:i.colors.P50,Icon:p.default,primaryIconColor:i.colors.P500}}},1053:function(e,t,n){"use strict";var r=n(3),i=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ButtonWithoutAnalytics=t.ButtonBase=t.defaultProps=void 0;var o=i(n(21)),a=i(n(9)),l=i(n(10)),u=i(n(13)),s=i(n(11)),c=i(n(12)),d=i(n(20)),f=i(n(15)),h=r(n(0)),p=i(n(2)),m=n(52),g=i(n(477)),v=i(n(1056)),b=i(n(1055)),_=i(n(1063)),y=i(n(1058)),w=i(n(1060)),k=i(n(1061)),x=i(n(1062)),E=n(1065),C=E.name,P=E.version,O=p.default.button.withConfig({displayName:"Button__StyledButton",componentId:"sc-1o41kgk-0"})(["\n  ",";\n"],_.default);O.displayName="StyledButton";var S=p.default.a.withConfig({displayName:"Button__StyledLink",componentId:"sc-1o41kgk-1"})(["\n  a& {\n    ",";\n  }\n"],_.default);S.displayName="StyledLink";var T=p.default.span.withConfig({displayName:"Button__StyledSpan",componentId:"sc-1o41kgk-2"})(["\n  ",";\n"],_.default);T.displayName="StyledSpan";var D=function(){var e=(0,p.default)(b.default).withConfig({displayName:"Button__component",componentId:"sc-1o41kgk-3"})(["&,a&,&:hover,&:active,&:focus{","}"],_.default);return e.displayName="StyledCustomComponent",e},M={appearance:"default",isDisabled:!1,isSelected:!1,isLoading:!1,spacing:"default",type:"button",shouldFitContainer:!1,autoFocus:!1};t.defaultProps=M;var A=function(e){function t(){var e,n;(0,a.default)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=(0,u.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(i))),(0,f.default)((0,d.default)((0,d.default)(n)),"button",void 0),(0,f.default)((0,d.default)((0,d.default)(n)),"state",{isActive:!1,isFocus:!1,isHover:!1}),(0,f.default)((0,d.default)((0,d.default)(n)),"customComponent",null),(0,f.default)((0,d.default)((0,d.default)(n)),"isInteractive",function(){return!n.props.isDisabled&&!n.props.isLoading}),(0,f.default)((0,d.default)((0,d.default)(n)),"onMouseEnter",function(){n.setState({isHover:!0})}),(0,f.default)((0,d.default)((0,d.default)(n)),"onMouseLeave",function(){return n.setState({isHover:!1,isActive:!1})}),(0,f.default)((0,d.default)((0,d.default)(n)),"onMouseDown",function(e){e.preventDefault(),n.setState({isActive:!0})}),(0,f.default)((0,d.default)((0,d.default)(n)),"onMouseUp",function(){return n.setState({isActive:!1})}),(0,f.default)((0,d.default)((0,d.default)(n)),"onFocus",function(e){n.setState({isFocus:!0}),n.props.onFocus&&n.props.onFocus(e)}),(0,f.default)((0,d.default)((0,d.default)(n)),"onBlur",function(e){n.setState({isFocus:!1}),n.props.onBlur&&n.props.onBlur(e)}),(0,f.default)((0,d.default)((0,d.default)(n)),"onInnerClick",function(e){return n.isInteractive()||e.stopPropagation(),!0}),(0,f.default)((0,d.default)((0,d.default)(n)),"getInnerRef",function(e){n.button=e,n.props.innerRef&&n.props.innerRef(e)}),n}return(0,c.default)(t,e),(0,l.default)(t,[{key:"componentWillReceiveProps",value:function(e){this.props.component!==e.component&&delete this.customComponent}},{key:"componentDidMount",value:function(){this.props.autoFocus&&this.button&&this.button.focus()}},{key:"getStyledComponent",value:function(){return this.props.component?(this.customComponent||(this.customComponent=D()),this.customComponent):this.props.href?this.props.isDisabled?T:S:O}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.iconBefore,r=e.iconAfter,i=e.isLoading,a=e.shouldFitContainer,l=e.spacing,u=e.appearance,s=e.isSelected,c=e.isDisabled,d=(0,v.default)(this),f=this.getStyledComponent(),p=!((!n||r||t)&&(!r||n||t));return h.default.createElement(f,(0,o.default)({innerRef:this.getInnerRef},d),h.default.createElement(w.default,{onClick:this.onInnerClick,fit:!!a},i?h.default.createElement(x.default,{spacing:l,appearance:u,isSelected:s,isDisabled:c}):null,n?h.default.createElement(k.default,{isLoading:i,spacing:d.spacing,isOnlyChild:p},n):null,t?h.default.createElement(y.default,{isLoading:i,followsIcon:!!n,spacing:d.spacing},t):null,r?h.default.createElement(k.default,{isLoading:i,spacing:d.spacing,isOnlyChild:p},r):null))}}]),t}(h.Component);(0,f.default)(A,"defaultProps",M);var N=A;t.ButtonBase=N;var j=(0,g.default)(A);t.ButtonWithoutAnalytics=j;var R=(0,m.createAndFireEvent)("atlaskit"),B=(0,m.withAnalyticsContext)({componentName:"button",packageName:C,packageVersion:P})((0,m.withAnalyticsEvents)({onClick:R({action:"clicked",actionSubject:"button",attributes:{componentName:"button",packageName:C,packageVersion:P}})})(j));t.default=B},1054:function(e,t,n){"use strict";var r=n(3),i=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(9)),a=i(n(10)),l=i(n(13)),u=i(n(11)),s=i(n(12)),c=r(n(0)),d=i(n(477)),f=r(n(1059)),h=function(e){function t(){return(0,o.default)(this,t),(0,l.default)(this,(0,u.default)(t).apply(this,arguments))}return(0,s.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){var e=this.props,t=e.appearance,n=e.children;return c.default.createElement(f.default,null,c.Children.map(n,function(e,n){return e?c.default.createElement(f.GroupItem,{key:n},t?(0,c.cloneElement)(e,{appearance:t}):e):null}))}}]),t}(c.Component),p=(0,d.default)(h);t.default=p},1055:function(e,t,n){"use strict";var r=n(3),i=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(29)),a=i(n(9)),l=i(n(10)),u=i(n(13)),s=i(n(11)),c=i(n(12)),d=r(n(0)),f=n(52),h=function(e){function t(){return(0,a.default)(this,t),(0,u.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=(0,f.cleanProps)(this.props),t=(e.appearance,e.children),n=e.component,r=(e.isActive,e.isDisabled,e.isFocus,e.isHover,e.isSelected,e.shouldFitContainer,e.fit,e.iconBefore,e.iconAfter,e.isLoading,(0,o.default)(e,["appearance","children","component","isActive","isDisabled","isFocus","isHover","isSelected","shouldFitContainer","fit","iconBefore","iconAfter","isLoading"]));if(!n)throw new Error("No custom component provided while trying to use custom button component");var i=n;return d.default.createElement(i,r,t)}}]),t}(d.Component),p=h;t.default=p},1056:function(e,t,n){"use strict";var r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(25)),o=function(e,t){var n=e.appearance,r=e.className,i=e.isDisabled,o=e.isLoading,a=e.isSelected,l=e.spacing,u=e.shouldFitContainer;return{appearance:n,className:r,disabled:i,isActive:t.isActive,isFocus:t.isFocus,isHover:t.isHover,isLoading:o,isSelected:a,spacing:l,fit:u}},a=function(e){var t=e.onBlur,n=e.onFocus,r=e.onMouseDown,i=e.onMouseEnter,o=e.onMouseLeave,a=e.onMouseUp,l=e.props.tabIndex;return{onBlur:t,onClick:e.props.isLoading?function(e){e.preventDefault()}:e.props.onClick,onFocus:n,onMouseDown:r,onMouseEnter:i,onMouseLeave:o,onMouseUp:a,tabIndex:l}},l=function(e){return{href:e.href,target:e.target}},u=function(e){return{"aria-haspopup":e.ariaHaspopup,"aria-expanded":e.ariaExpanded,"aria-controls":e.ariaControls,form:e.form,type:e.type}},s=function(e){var t=e.props,n=e.state,r=(0,i.default)({id:t.id},o(t,n),a(e),{"aria-label":t.ariaLabel});return t.component?(0,i.default)({},t,r):t.href?t.isDisabled?r:(0,i.default)({},r,l(t)):(0,i.default)({},r,u(t))},c=s;t.default=c},1057:function(e,t,n){"use strict";var r=n(1),i=n(3);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"defaultProps",{enumerable:!0,get:function(){return o.defaultProps}}),Object.defineProperty(t,"ButtonGroup",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"themeNamespace",{enumerable:!0,get:function(){return l.themeNamespace}});var o=i(n(1053)),a=r(n(1054)),l=n(479)},1058:function(e,t,n){"use strict";var r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(25)),o=r(n(0)),a=n(93),l=n(478),u=function(e){return e.followsIcon?"baseline":"center"},s=a.math.divide(a.gridSize,2),c=function(e){return"none"===e.spacing?0:"0 ".concat(s(e),"px")},d=function(e){var t=(0,i.default)({alignItems:u(e),alignSelf:u(e),flex:"1 1 auto",margin:c(e),maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},(0,l.getLoadingStyle)(e));return o.default.createElement("span",{style:t},e.children)},f=d;t.default=f},1059:function(e,t,n){"use strict";var r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.GroupItem=t.default=void 0;var i=r(n(2)),o=4,a=i.default.div.withConfig({displayName:"ButtonGroup",componentId:"duns38-0"})(["\n  display: inline-flex;\n  margin: 0 -","px;\n"],o/2);t.default=a;var l=i.default.div.withConfig({displayName:"ButtonGroup__GroupItem",componentId:"duns38-1"})(["\n  flex: 1 0 auto;\n  margin: 0 ","px;\n"],o/2);t.GroupItem=l},1060:function(e,t,n){"use strict";var r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(21)),o=r(n(0)),a=function(e){var t={alignSelf:"center",display:"inline-flex",flexWrap:"nowrap",maxWidth:"100%",position:"relative"};e.fit&&(t.width="100%",t.justifyContent="center");var n={};return e.onClick&&(n.onClick=e.onClick),o.default.createElement("span",(0,i.default)({style:t},n),e.children)},l=a;t.default=l},1061:function(e,t,n){"use strict";var r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(25)),o=r(n(0)),a=n(93),l=n(478),u=function(e){return"none"===e.spacing?0:e.isOnlyChild?"0 -".concat(a.math.divide(a.gridSize,4)(e),"px"):"0 ".concat(a.math.divide(a.gridSize,2)(e),"px")},s=function(e){var t=(0,i.default)({alignSelf:"center",display:"flex",flexShrink:0,lineHeight:0,fontSize:0,margin:u(e),userSelect:"none"},(0,l.getLoadingStyle)(e));return o.default.createElement("span",{style:t},e.children)},c=s;t.default=c},1062:function(e,t,n){"use strict";var r=n(3),i=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(9)),a=i(n(10)),l=i(n(13)),u=i(n(11)),s=i(n(12)),c=i(n(20)),d=i(n(15)),f=r(n(0)),h=i(n(2)),p=i(n(1077)),m=h.default.div.withConfig({displayName:"LoadingSpinner__LoadingDiv",componentId:"xoee7l-0"})(["\n  display: flex;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n"]),g=function(e){function t(){var e,n;(0,o.default)(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=(0,l.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(i))),(0,d.default)((0,c.default)((0,c.default)(n)),"invertSpinner",function(){var e=n.props,t=e.appearance,r=e.isSelected,i=e.isDisabled;return!!r||!i&&("primary"===t||"danger"===t||"help"===t)}),n}return(0,s.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){var e=this.props.spacing,t="medium";return"default"!==e&&(t="small"),f.default.createElement(m,{spacing:this.props.spacing},f.default.createElement(p.default,{size:t,invertColor:this.invertSpinner()}))}}]),t}(f.Component);t.default=g},1063:function(e,t,n){"use strict";function r(e){var t=(0,a.fontSize)(e),n="".concat(a.math.divide(a.math.multiply(a.gridSize,4),t)(e),"em"),r="".concat(a.math.divide(a.math.multiply(a.gridSize,3),t)(e),"em"),i="default",l=n,u=n,s="none",c="0 ".concat((0,a.gridSize)(e),"px"),d="0.1s, 0.15s",h="background 0.1s ease-out, box-shadow 0.15s cubic-bezier(0.47, 0.03, 0.49, 1.38)",p="middle",m="auto",g=f("background",e),v=f("color",e),b=f("boxShadowColor",e),_=b?(0,o.css)(["\n        box-shadow: 0 0 0 2px ",";\n      "],b):null,y=f("textDecoration",e);"compact"===e.spacing&&(l=r,u=r),"none"===e.spacing&&(l="auto",u="inherit",c="0",p="baseline"),e.isHover&&(i="pointer",h="background 0s ease-out, box-shadow 0.15s cubic-bezier(0.47, 0.03, 0.49, 1.38)"),e.isActive&&(d="0s"),e.isFocus&&(s="none",d="0s, 0.2s"),e.disabled&&(i="not-allowed");var w=function(e){return e.isLoading?"pointer-events: none;":null};return e.fit&&(m="100%"),(0,o.css)(["\n    align-items: baseline;\n    background: ",";\n    border-radius: ","px;\n    border-width: 0;\n    box-sizing: border-box;\n    color: "," !important;\n    cursor: ",";\n    display: inline-flex;\n    font-size: inherit;\n    font-style: normal;\n    height: ",";\n    line-height: ",";\n    margin: 0;\n    max-width: 100%;\n    outline: "," !important;\n    padding: ",";\n    text-align: center;\n    text-decoration: ",";\n    transition: ",";\n    transition-duration: ",";\n    vertical-align: ",";\n    white-space: nowrap;\n    width: ",";\n    "," &::-moz-focus-inner {\n      border: 0;\n      margin: 0;\n      padding: 0;\n    }\n    ",";\n  "],g,a.borderRadius,v,i,l,u,s,c,y,h,d,p,m,_,w)}var i=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,t.getPropertyAppearance=void 0;var o=n(2),a=n(93),l=i(n(1064)),u=n(479),s=function(e){var t=e.theme;return t&&t[u.themeNamespace]||{}},c=function(e,t,n,r){var i=n[t],o=r[t],a=r.default;return i&&i[e]||o&&o[e]||a[e]},d=function(e){var t=e.disabled,n=e.isActive,r=e.isFocus,i=e.isHover,o=e.isSelected;return t?"disabled":o&&r?"focusSelected":o?"selected":n?"active":i?"hover":r?"focus":"default"},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default,r=t.appearance,i=n.fallbacks,o=n.theme,a=s(t),u=c(e,r,a,o);return u?u[d(t)]||u.default||i[e]:i[e]||"initial"};t.getPropertyAppearance=f},1064:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(93),i=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(e)){t=e.substring(1).split(""),3===t.length&&(t=[t[0],t[0],t[1],t[1],t[2],t[2]]),t="0x".concat(t.join(""));return"rgba(".concat([t>>16&255,t>>8&255,255&t].join(","),", ").concat(n,")")}throw new Error("Bad Hex")},o={fallbacks:{background:(0,r.themed)({light:r.colors.N20A,dark:r.colors.DN70}),color:(0,r.themed)({light:r.colors.N400,dark:r.colors.DN400}),textDecoration:"none"},theme:{default:{background:{default:(0,r.themed)({light:r.colors.N20A,dark:r.colors.DN70}),hover:(0,r.themed)({light:r.colors.N30A,dark:r.colors.DN60}),active:(0,r.themed)({light:i(r.colors.B75,.6),dark:r.colors.B75}),disabled:(0,r.themed)({light:r.colors.N20A,dark:r.colors.DN70}),selected:(0,r.themed)({light:r.colors.N700,dark:r.colors.DN0}),focusSelected:(0,r.themed)({light:r.colors.N700,dark:r.colors.DN0})},boxShadowColor:{focus:(0,r.themed)({light:i(r.colors.B200,.6),dark:r.colors.B75}),focusSelected:(0,r.themed)({light:i(r.colors.B200,.6),dark:r.colors.B75})},color:{default:(0,r.themed)({light:r.colors.N400,dark:r.colors.DN400}),active:(0,r.themed)({light:r.colors.B400,dark:r.colors.B400}),disabled:(0,r.themed)({light:r.colors.N70,dark:r.colors.DN30}),selected:(0,r.themed)({light:r.colors.N20,dark:r.colors.DN400}),focusSelected:(0,r.themed)({light:r.colors.N20,dark:r.colors.DN400})}},primary:{background:{default:(0,r.themed)({light:r.colors.B400,dark:r.colors.B100}),hover:(0,r.themed)({light:r.colors.B300,dark:r.colors.B75}),active:(0,r.themed)({light:r.colors.B500,dark:r.colors.B200}),disabled:(0,r.themed)({light:r.colors.N20A,dark:r.colors.DN70}),selected:(0,r.themed)({light:r.colors.N700,dark:r.colors.DN0}),focusSelected:(0,r.themed)({light:r.colors.N700,dark:r.colors.DN0})},boxShadowColor:{focus:(0,r.themed)({light:i(r.colors.B200,.6),dark:r.colors.B75}),focusSelected:(0,r.themed)({light:i(r.colors.B200,.6),dark:r.colors.B75})},color:{default:(0,r.themed)({light:r.colors.N0,dark:r.colors.DN30}),disabled:(0,r.themed)({light:r.colors.N70,dark:r.colors.DN30}),selected:(0,r.themed)({light:r.colors.N20,dark:r.colors.DN400}),focusSelected:(0,r.themed)({light:r.colors.N20,dark:r.colors.DN400})}},warning:{background:{default:(0,r.themed)({light:r.colors.Y300,dark:r.colors.Y300}),hover:(0,r.themed)({light:r.colors.Y200,dark:r.colors.Y200}),active:(0,r.themed)({light:r.colors.Y400,dark:r.colors.Y400}),disabled:(0,r.themed)({light:r.colors.N20A,dark:r.colors.DN70}),selected:(0,r.themed)({light:r.colors.Y400,dark:r.colors.Y400}),focusSelected:(0,r.themed)({light:r.colors.Y400,dark:r.colors.Y400})},boxShadowColor:{focus:(0,r.themed)({light:r.colors.Y500,dark:r.colors.Y500}),focusSelected:(0,r.themed)({light:r.colors.Y500,dark:r.colors.Y500})},color:{default:(0,r.themed)({light:r.colors.N800,dark:r.colors.N800}),disabled:(0,r.themed)({light:r.colors.N70,dark:r.colors.DN30}),selected:(0,r.themed)({light:r.colors.N800,dark:r.colors.N800}),focusSelected:(0,r.themed)({light:r.colors.N800,dark:r.colors.N800})}},danger:{background:{default:(0,r.themed)({light:r.colors.R400,dark:r.colors.R400}),hover:(0,r.themed)({light:r.colors.R300,dark:r.colors.R300}),active:(0,r.themed)({light:r.colors.R500,dark:r.colors.R500}),disabled:(0,r.themed)({light:r.colors.N20A,dark:r.colors.DN70}),selected:(0,r.themed)({light:r.colors.R500,dark:r.colors.R500}),focusSelected:(0,r.themed)({light:r.colors.R500,dark:r.colors.R500})},boxShadowColor:{focus:(0,r.themed)({light:r.colors.R100,dark:r.colors.R100}),focusSelected:(0,r.themed)({light:r.colors.R100,dark:r.colors.R100})},color:{default:(0,r.themed)({light:r.colors.N0,dark:r.colors.N0}),disabled:(0,r.themed)({light:r.colors.N70,dark:r.colors.DN30}),selected:(0,r.themed)({light:r.colors.N0,dark:r.colors.N0}),focusSelected:(0,r.themed)({light:r.colors.N0,dark:r.colors.N0})}},help:{background:{default:(0,r.themed)({light:r.colors.P400,dark:r.colors.P400}),hover:(0,r.themed)({light:r.colors.P200,dark:r.colors.P200}),active:(0,r.themed)({light:r.colors.P500,dark:r.colors.P500}),disabled:(0,r.themed)({light:r.colors.N20A,dark:r.colors.DN70}),selected:(0,r.themed)({light:r.colors.N700,dark:r.colors.DN0}),focusSelected:(0,r.themed)({light:r.colors.R500,dark:r.colors.R500})},boxShadowColor:{focus:(0,r.themed)({light:r.colors.P100,dark:r.colors.P100}),focusSelected:(0,r.themed)({light:r.colors.P100,dark:r.colors.P100})},color:{default:(0,r.themed)({light:r.colors.N0,dark:r.colors.N0}),disabled:(0,r.themed)({light:r.colors.N70,dark:r.colors.DN30}),selected:(0,r.themed)({light:r.colors.N20,dark:r.colors.DN400}),focusSelected:(0,r.themed)({light:r.colors.N0,dark:r.colors.N0})}},link:{background:{default:(0,r.themed)({light:"none",dark:"none"}),selected:(0,r.themed)({light:r.colors.N700,dark:r.colors.N20}),focusSelected:(0,r.themed)({light:r.colors.N700,dark:r.colors.N20})},boxShadowColor:{focus:(0,r.themed)({light:i(r.colors.B200,.6),dark:r.colors.B75}),focusSelected:(0,r.themed)({light:i(r.colors.B200,.6),dark:r.colors.B75})},color:{default:(0,r.themed)({light:r.colors.B400,dark:r.colors.B100}),hover:(0,r.themed)({light:r.colors.B300,dark:r.colors.B75}),active:(0,r.themed)({light:r.colors.B500,dark:r.colors.B200}),disabled:(0,r.themed)({light:r.colors.N70,dark:r.colors.DN100}),selected:(0,r.themed)({light:r.colors.N20,dark:r.colors.N700}),focusSelected:(0,r.themed)({light:r.colors.N20,dark:r.colors.N700})},textDecoration:{hover:"underline"}},subtle:{background:{default:(0,r.themed)({light:"none",dark:"none"}),hover:(0,r.themed)({light:r.colors.N30A,dark:r.colors.DN60}),active:(0,r.themed)({light:i(r.colors.B75,.6),dark:r.colors.B75}),disabled:(0,r.themed)({light:"none",dark:"none"}),selected:(0,r.themed)({light:r.colors.N700,dark:r.colors.DN0}),focusSelected:(0,r.themed)({light:r.colors.N700,dark:r.colors.DN0})},boxShadowColor:{focus:(0,r.themed)({light:i(r.colors.B200,.6),dark:r.colors.B75}),focusSelected:(0,r.themed)({light:i(r.colors.B200,.6),dark:r.colors.B75})},color:{default:(0,r.themed)({light:r.colors.N400,dark:r.colors.DN400}),active:(0,r.themed)({light:r.colors.B400,dark:r.colors.B400}),disabled:(0,r.themed)({light:r.colors.N70,dark:r.colors.DN100}),selected:(0,r.themed)({light:r.colors.N20,dark:r.colors.DN400}),focusSelected:(0,r.themed)({light:r.colors.N20,dark:r.colors.DN400})}},"subtle-link":{background:{default:(0,r.themed)({light:"none",dark:"none"}),selected:(0,r.themed)({light:r.colors.N700,dark:r.colors.N20}),focusSelected:(0,r.themed)({light:r.colors.N700,dark:r.colors.N20})},boxShadowColor:{focus:(0,r.themed)({light:i(r.colors.B200,.6),dark:r.colors.B75}),focusSelected:(0,r.themed)({light:i(r.colors.B200,.6),dark:r.colors.B75})},color:{default:(0,r.themed)({light:r.colors.N200,dark:r.colors.DN400}),hover:(0,r.themed)({light:r.colors.N90,dark:r.colors.B50}),active:(0,r.themed)({light:r.colors.N400,dark:r.colors.DN300}),disabled:(0,r.themed)({light:r.colors.N70,dark:r.colors.DN100}),selected:(0,r.themed)({light:r.colors.N20,dark:r.colors.DN400}),focusSelected:(0,r.themed)({light:r.colors.N20,dark:r.colors.DN400})},textDecoration:{hover:"underline"}}}};t.default=o},1065:function(e,t){e.exports={name:"@atlaskit/button",version:"9.0.16",sideEffects:!1}},1066:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.size=t.IconWrapper=void 0;var i=n(40),o=r(i),a=n(77),l=r(a),u=n(33),s=r(u),c=n(14),d=r(c),f=n(5),h=r(f),p=n(8),m=r(p),g=n(7),v=r(g),b=n(6),_=r(b),y=n(18),w=r(y),k=(0,w.default)(["\n  "," color: ",";\n  display: inline-block;\n  fill: ",";\n  flex-shrink: 0;\n  line-height: 1;\n\n  > svg {\n    "," max-height: 100%;\n    max-width: 100%;\n    overflow: hidden;\n    pointer-events: none;\n    vertical-align: bottom;\n  }\n  /* Stop-color doesn't properly apply in chrome when the inherited/current color changes.\n   * We have to initially set stop-color to inherit (either via DOM attribute or an initial CSS\n   * rule) and then override it with currentColor for the color changes to be picked up.\n   */\n  stop {\n    stop-color: currentColor;\n  }\n"],["\n  "," color: ",";\n  display: inline-block;\n  fill: ",";\n  flex-shrink: 0;\n  line-height: 1;\n\n  > svg {\n    "," max-height: 100%;\n    max-width: 100%;\n    overflow: hidden;\n    pointer-events: none;\n    vertical-align: bottom;\n  }\n  /* Stop-color doesn't properly apply in chrome when the inherited/current color changes.\n   * We have to initially set stop-color to inherit (either via DOM attribute or an initial CSS\n   * rule) and then override it with currentColor for the color changes to be picked up.\n   */\n  stop {\n    stop-color: currentColor;\n  }\n"]),x=n(0),E=r(x),C=n(2),P=r(C),O=n(43),S=r(O),T=n(93),D=n(480),M=function(e){return e.size?"height: "+D.sizes[e.size]+"; width: "+D.sizes[e.size]+";":null},A=t.IconWrapper=P.default.span(k,M,function(e){return e.primaryColor||"currentColor"},function(e){return e.secondaryColor||T.colors.background},M),N=function(e){function t(){return(0,h.default)(this,t),(0,v.default)(this,(t.__proto__||(0,d.default)(t)).apply(this,arguments))}return(0,_.default)(t,e),(0,m.default)(t,[{key:"render",value:function(){var e=this.props,n=e.glyph,r=e.dangerouslySetGlyph,i=e.onClick,o=e.primaryColor,a=e.secondaryColor,l=e.size;return r?E.default.createElement(A,{onClick:i,primaryColor:o,secondaryColor:a,size:l,"aria-label":this.props.label,dangerouslySetInnerHTML:{__html:t.insertDynamicGradientID(r)}}):E.default.createElement(A,{onClick:i,primaryColor:o,secondaryColor:a,size:l,"aria-label":this.props.label},n?E.default.createElement(n,{role:"presentation"}):null)}}],[{key:"insertDynamicGradientID",value:function(e){var t=(0,S.default)();return e.replace(/id="([^"]+)-idPlaceholder"/g,"id=$1-"+t).replace(/fill="url\(#([^"]+)-idPlaceholder\)"/g,'fill="url(#$1-'+t+')"')}}]),t}(x.Component);N.defaultProps={onClick:function(){}},t.default=N;t.size=(0,s.default)(D.sizes).reduce(function(e,t){return(0,l.default)(e,(0,o.default)({},t,t))},{})},1067:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(14),o=r(i),a=n(5),l=r(a),u=n(8),s=r(u),c=n(7),d=r(c),f=n(6),h=r(f),p=n(0),m=r(p),g=n(1068),v=r(g),b=function(e){function t(){return(0,l.default)(this,t),(0,d.default)(this,(t.__proto__||(0,o.default)(t)).apply(this,arguments))}return(0,h.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){return m.default.createElement(v.default,this.props)}}]),t}(p.Component);b.defaultProps={size:"medium",weight:"normal"},t.default=b},1068:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(18),o=r(i),a=(0,o.default)(["\n  width: ",";\n  height: ",";\n  display: inline-block;\n  border-radius: 50%;\n  background-color: ",";\n  opacity: ",";\n"],["\n  width: ",";\n  height: ",";\n  display: inline-block;\n  border-radius: 50%;\n  background-color: ",";\n  opacity: ",";\n"]),l=n(2),u=r(l),s=n(480);t.default=u.default.div(a,function(e){return s.sizes[e.size]},function(e){return s.sizes[e.size]},function(e){return e.color||"currentColor"},function(e){return"strong"===e.weight?.3:.15})},1069:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),a=r(o),l=n(157),u=r(l),s=function(e){return a.default.createElement(u.default,i({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill-rule="evenodd"><circle fill="currentColor" cx="12" cy="12" r="10"/><path d="M9.707 11.293a1 1 0 1 0-1.414 1.414l2 2a1 1 0 0 0 1.414 0l4-4a1 1 0 1 0-1.414-1.414L11 12.586l-1.293-1.293z" fill="inherit"/></g></svg>'},e))};s.displayName="CheckCircleIcon",t.default=s},1070:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),a=r(o),l=n(157),u=r(l),s=function(e){return a.default.createElement(u.default,i({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill-rule="evenodd"><path d="M13.416 4.417a2.002 2.002 0 0 0-2.832 0l-6.168 6.167a2.002 2.002 0 0 0 0 2.833l6.168 6.167a2.002 2.002 0 0 0 2.832 0l6.168-6.167a2.002 2.002 0 0 0 0-2.833l-6.168-6.167z" fill="currentColor"/><path d="M12 14a1 1 0 0 1-1-1V8a1 1 0 0 1 2 0v5a1 1 0 0 1-1 1m0 3a1 1 0 0 1 0-2 1 1 0 0 1 0 2" fill="inherit"/></g></svg>'},e))};s.displayName="ErrorIcon",t.default=s},1071:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),a=r(o),l=n(157),u=r(l),s=function(e){return a.default.createElement(u.default,i({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill-rule="evenodd"><path d="M2 12c0 5.523 4.477 10 10 10s10-4.477 10-10S17.523 2 12 2 2 6.477 2 12z" fill="currentColor"/><rect fill="inherit" x="11" y="10" width="2" height="7" rx="1"/><circle fill="inherit" cx="12" cy="8" r="1"/></g></svg>'},e))};s.displayName="InfoIcon",t.default=s},1072:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),a=r(o),l=n(157),u=r(l),s=function(e){return a.default.createElement(u.default,i({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill-rule="evenodd"><circle fill="currentColor" cx="12" cy="12" r="10"/><circle fill="inherit" cx="12" cy="18" r="1"/><path d="M15.89 9.05a3.975 3.975 0 0 0-2.957-2.942C10.321 5.514 8.017 7.446 8 9.95l.005.147a.992.992 0 0 0 .982.904c.552 0 1-.447 1.002-.998a2.004 2.004 0 0 1 4.007-.002c0 1.102-.898 2-2.003 2H12a1 1 0 0 0-1 .987v2.014a1.001 1.001 0 0 0 2.004 0v-.782c0-.217.145-.399.35-.472A3.99 3.99 0 0 0 15.89 9.05" fill="inherit"/></g></svg>'},e))};s.displayName="QuestionCircleIcon",t.default=s},1073:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(0),a=r(o),l=n(157),u=r(l),s=function(e){return a.default.createElement(u.default,i({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" focusable="false" role="presentation"><g fill-rule="evenodd"><path d="M12.938 4.967c-.518-.978-1.36-.974-1.876 0L3.938 18.425c-.518.978-.045 1.771 1.057 1.771h14.01c1.102 0 1.573-.797 1.057-1.771L12.938 4.967z" fill="currentColor"/><path d="M12 15a1 1 0 0 1-1-1V9a1 1 0 0 1 2 0v5a1 1 0 0 1-1 1m0 3a1 1 0 0 1 0-2 1 1 0 0 1 0 2" fill="inherit"/></g></svg>'},e))};s.displayName="WarningIcon",t.default=s},1074:function(e,t,n){"use strict";var r=n(3),i=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(9)),a=i(n(10)),l=i(n(13)),u=i(n(11)),s=i(n(12)),c=i(n(20)),d=i(n(15)),f=r(n(0)),h=n(58),p=i(n(2)),m=n(481),g=i(n(1075)),v=i(n(1076)),b=p.default.div.withConfig({displayName:"Spinner__Outer",componentId:"sc-1ejgacn-0"})(["\n  display: inline-block;\n  vertical-align: middle;\n"]);b.displayName="Outer";var _=function(e){function t(e){var n;return(0,o.default)(this,t),n=(0,l.default)(this,(0,u.default)(t).call(this,e)),(0,d.default)((0,c.default)((0,c.default)(n)),"transitionNode",void 0),(0,d.default)((0,c.default)((0,c.default)(n)),"enter",function(){n.props.delay?n.setState({phase:"DELAY"}):n.setState({phase:"ENTER"})}),(0,d.default)((0,c.default)((0,c.default)(n)),"idle",function(){n.setState({phase:"IDLE"})}),(0,d.default)((0,c.default)((0,c.default)(n)),"exit",function(){n.setState({phase:"LEAVE"})}),(0,d.default)((0,c.default)((0,c.default)(n)),"endListener",function(e,t){var r=function r(i){return"svg"!==i.target.tagName&&("DELAY"===n.state.phase?(n.setState({phase:"ENTER"}),n.endListener(e,t)):t(),e&&e.removeEventListener("animationend",r))};return e&&e.addEventListener("animationend",r)}),(0,d.default)((0,c.default)((0,c.default)(n)),"validateSize",function(){var e=n.props.size,t=m.SIZES_MAP[e]||e;return"number"==typeof t?t:m.DEFAULT_SIZE}),n.state={phase:""},n}return(0,s.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){var e=this,t=this.state.phase,n=this.props,r=n.delay,i=n.invertColor,o=n.isCompleting,a=this.validateSize(),l=Math.round(a/10),u=a/2-l/2;return f.default.createElement(b,null,f.default.createElement(h.Transition,{addEndListener:this.endListener,appear:!0,in:!o,mountOnEnter:!0,unmountOnExit:!0,onEnter:this.enter,onEntered:this.idle,onExit:this.exit,onExited:function(){return e.props.onComplete()},ref:function(t){e.transitionNode=t}},f.default.createElement(g.default,{delay:r/1e3,phase:t,size:a},f.default.createElement(v.default,{focusable:"false",height:a,invertColor:i,phase:t,size:a,viewBox:"0 0 ".concat(a," ").concat(a),width:a,xmlns:"http://www.w3.org/2000/svg"},f.default.createElement("circle",{cx:a/2,cy:a/2,r:u})))))}}]),t}(f.Component);t.default=_,(0,d.default)(_,"defaultProps",{delay:100,isCompleting:!1,invertColor:!1,onComplete:function(){},size:"medium"})},1075:function(e,t,n){"use strict";var r=n(3);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.getContainerAnimation=void 0;var i=r(n(2)),o={noop:(0,i.keyframes)(["\n    from { opacity: 0; }\n    to { opacity: 0; }\n  "]),enterRotate:(0,i.keyframes)(["\n    from { transform: rotate(50deg); }\n    to { transform: rotate(230deg); }\n  "]),leaveRotate:(0,i.keyframes)(["\n    from { transform: rotate(230deg); }\n    to { transform: rotate(510deg); }\n  "]),leaveOpacity:(0,i.keyframes)(["\n    from { opacity: 1; }\n    to { opacity: 0; }\n  "])},a=function(e){var t=e.delay,n=e.phase;return"DELAY"===n?"animation: ".concat(t,"s ").concat(o.noop,";"):"ENTER"===n||"IDLE"===n?"animation: 1s ease-in-out forwards ".concat(o.enterRotate,";"):"LEAVE"===n?"animation: 0.53s ease-in-out forwards ".concat(o.leaveRotate,",\n      0.2s ease-in-out 0.33s ").concat(o.leaveOpacity,";"):""};t.getContainerAnimation=a;var l=function(e){return"".concat(e.size,"px")},u=i.default.div.withConfig({displayName:"styledContainer__Container",componentId:"sc-1qs8wxp-0"})(["\n  "," display: flex;\n  height: ",";\n  width: ",";\n\n  /* Rapidly creating and removing spinners will result in multiple spinners being visible while\n   * they complete their exit animations. This rules hides the spinner if another one has been\n   * added. */\n  div + & {\n    display: none;\n  }\n"],a,l,l);u.displayName="SpinnerContainer";var s=u;t.default=s},1076:function(e,t,n){"use strict";var r=n(3),i=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.svgStyles=t.getStrokeColor=void 0;var o=i(n(29)),a=r(n(2)),l=n(93),u=n(481),s=function(e){return Math.round(e/10)},c=function(e){var t=s(e),n=e/2-t/2;return Math.PI*n*2},d={noop:(0,a.keyframes)(["\n    from { opacity: 0; }\n    to { opacity: 0; }\n  "]),rotate:(0,a.keyframes)(["\n    to { transform: rotate(360deg); }\n  "]),enterOpacity:(0,a.keyframes)(["\n    from { opacity: 0; }\n    to { opacity: 1; }\n  "]),smallEnterStroke:(0,a.keyframes)(["\n    from { stroke-dashoffset: ","px; }\n    to { stroke-dashoffset: ","px; }\n  "],c(u.SIZES_MAP.small),.8*c(u.SIZES_MAP.small)),mediumEnterStroke:(0,a.keyframes)(["\n    from { stroke-dashoffset: ","px; }\n    to { stroke-dashoffset: ","px; }\n  "],c(u.SIZES_MAP.medium),.8*c(u.SIZES_MAP.medium)),largeEnterStroke:(0,a.keyframes)(["\n    from { stroke-dashoffset: ","px; }\n    to { stroke-dashoffset: ","px; }\n  "],c(u.SIZES_MAP.large),.8*c(u.SIZES_MAP.large)),xlargeEnterStroke:(0,a.keyframes)(["\n    from { stroke-dashoffset: ","px; }\n    to { stroke-dashoffset: ","px; }\n  "],c(u.SIZES_MAP.xlarge),.8*c(u.SIZES_MAP.xlarge))},f=function(e){var t=Object.keys(u.SIZES_MAP).find(function(t){return e===u.SIZES_MAP[t]});if(t)return d["".concat(t,"EnterStroke")];var n=c(e);return(0,a.keyframes)(["\n    from { stroke-dashoffset: ","px; }\n    to { stroke-dashoffset: ","px; }\n  "],n,.8*n)},h=(0,l.themed)({light:l.colors.N500,dark:l.colors.N0}),p=(0,l.themed)({light:l.colors.N0,dark:l.colors.N0}),m=function(e){var t=e.invertColor,n=(0,o.default)(e,["invertColor"]);return t?p(n):h(n)};t.getStrokeColor=m;var g=(0,a.css)(["\n  ",";\n"],function(e){var t=c(e.size),n="0.86s cubic-bezier(0.4, 0.15, 0.6, 0.85) infinite ".concat(d.rotate),r="0.8s ease-in-out ".concat(f(e.size)),i="0.2s ease-in-out ".concat(d.enterOpacity),o=[n];return"ENTER"===e.phase&&o.push(r,i),(0,a.css)(["\n      animation: ",";\n      fill: none;\n      stroke: ",";\n      stroke-dasharray: ","px;\n      stroke-dashoffset: ","px;\n      stroke-linecap: round;\n      stroke-width: ","px;\n      transform-origin: center;\n    "],o.join(", "),m,t,.8*t,s(e.size))});t.svgStyles=g;var v=a.default.svg.withConfig({displayName:"styledSvg__Svg",componentId:"y2l69q-0"})(["\n  ",";\n"],g);v.displayName="SpinnerSvg";var b=v;t.default=b},1077:function(e,t,n){"use strict";var r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.default}});var i=r(n(1074))},1078:function(e,t,n){"use strict";var r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(25)),o=r(n(53)),a=function(e){var t=e.children,n=e.props,r=e.theme,a="object"===(0,o.default)(n)?"default":n,l="object"===(0,o.default)(n)?(0,i.default)({},n):{};return Object.keys(r).forEach(function(e){e in l||(l[e]=r[e]({appearance:a}))}),t(l)};t.default=a},1079:function(e,t,n){"use strict";function r(e){return"\n    body { background: ".concat(v.background(e),"; }\n  ")}function i(e){return{theme:(0,h.default)({},b.CHANNEL,{mode:e})}}var o=n(3),a=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(n(9)),u=a(n(10)),s=a(n(13)),c=a(n(11)),d=a(n(12)),f=a(n(20)),h=a(n(15)),p=o(n(0)),m=a(n(17)),g=o(n(2)),v=o(n(158)),b=n(483),_=n(194),y=g.default.div.withConfig({displayName:"AtlaskitThemeProvider__LegacyReset",componentId:"sc-431dkp-0"})(["\n  background-color: ",";\n  color: ",";\n\n  a {\n    color: ",";\n  }\n  a:hover {\n    color: ",";\n  }\n  a:active {\n    color: ",";\n  }\n  a:focus {\n    outline-color: ",";\n  }\n  h1 {\n    color: ",";\n  }\n  h2 {\n    color: ",";\n  }\n  h3 {\n    color: ",";\n  }\n  h4 {\n    color: ",";\n  }\n  h5 {\n    color: ",";\n  }\n  h6 {\n    color: ",";\n  }\n  small {\n    color: ",";\n  }\n"],v.background,v.text,v.link,v.linkHover,v.linkActive,v.linkOutline,v.heading,v.heading,v.heading,v.heading,v.heading,v.subtleHeading,v.subtleText),w=function(e){function t(e){var n;return(0,l.default)(this,t),n=(0,s.default)(this,(0,c.default)(t).call(this,e)),(0,h.default)((0,f.default)((0,f.default)(n)),"stylesheet",void 0),n.state=i(e.mode),n}return(0,d.default)(t,e),(0,u.default)(t,[{key:"getChildContext",value:function(){return{hasAtlaskitThemeProvider:!0}}},{key:"componentWillMount",value:function(){if(!this.context.hasAtlaskitThemeProvider){var e=r(this.state);this.stylesheet=document.createElement("style"),this.stylesheet.type="text/css",this.stylesheet.innerHTML=e,document&&document.head&&document.head.appendChild(this.stylesheet)}}},{key:"componentWillReceiveProps",value:function(e){if(e.mode!==this.props.mode){var t=i(e.mode);if(this.stylesheet){var n=r(t);this.stylesheet.innerHTML=n}this.setState(t)}}},{key:"componentWillUnmount",value:function(){this.stylesheet&&document&&document.head&&(document.head.removeChild(this.stylesheet),delete this.stylesheet)}},{key:"render",value:function(){var e=this.props.children,t=this.state.theme;return p.default.createElement(_.Provider,{value:{mode:t[b.CHANNEL].mode}},p.default.createElement(g.ThemeProvider,{theme:t},p.default.createElement(y,null,e)))}}]),t}(p.Component);t.default=w,(0,h.default)(w,"defaultProps",{mode:b.DEFAULT_THEME_MODE}),(0,h.default)(w,"childContextTypes",{hasAtlaskitThemeProvider:m.default.bool}),(0,h.default)(w,"contextTypes",{hasAtlaskitThemeProvider:m.default.bool})},1080:function(e,t,n){"use strict";var r=n(3),i=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(21)),a=i(n(9)),l=i(n(10)),u=i(n(13)),s=i(n(11)),c=i(n(12)),d=r(n(0)),f=r(n(2)),h=r(n(158)),p=n(194),m=function(e){return function(t){return t[e]||t.textColor}},g=f.default.div.withConfig({displayName:"Reset__Div",componentId:"sc-15i6ali-0"})(["\n  ",";\n"],function(e){return(0,f.css)(["\n    background-color: ",";\n    color: ",";\n\n    a {\n      color: ",";\n    }\n    a:hover {\n      color: ",";\n    }\n    a:active {\n      color: ",";\n    }\n    a:focus {\n      outline-color: ",";\n    }\n    h1,\n    h2,\n    h3,\n    h4,\n    h5 {\n      color: ",";\n    }\n    h6 {\n      color: ",";\n    }\n    small {\n      color: ",";\n    }\n  "],e.backgroundColor,e.textColor,m("linkColor"),m("linkColorHover"),m("linkColorActive"),m("linkColorOutline"),m("headingColor"),m("subtleHeadingColor"),m("subtleTextColor"))}),v={backgroundColor:h.N0,linkColor:h.B400,linkColorHover:h.B300,linkColorActive:h.B500,linkColorOutline:h.B100,headingColor:h.N800,subtleHeadingColor:h.N200,subtleTextColor:h.N200,textColor:h.N900},b=function(e){function t(){return(0,a.default)(this,t),(0,u.default)(this,(0,s.default)(t).apply(this,arguments))}return(0,c.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this;return d.default.createElement(p.Consumer,null,function(t){return d.default.createElement(g,(0,o.default)({},v,t,e.props),e.props.children)})}}]),t}(d.Component);t.default=b},1081:function(e,t,n){"use strict";var r=n(1),i=n(3);Object.defineProperty(t,"__esModule",{value:!0}),t.e500=t.e400=t.e300=t.e200=t.e100=void 0;var o=i(n(158)),a=r(n(264)),l=(0,a.default)({light:"box-shadow: 0 1px 1px ".concat(o.N50A,", 0 0 1px 0 ").concat(o.N60A,";"),dark:"box-shadow: 0 1px 1px ".concat(o.DN50A,", 0 0 1px ").concat(o.DN60A,";")});t.e100=l;var u=(0,a.default)({light:"box-shadow: 0 4px 8px -2px ".concat(o.N50A,", 0 0 1px ").concat(o.N60A,";"),dark:"box-shadow: 0 4px 8px -2px ".concat(o.DN50A,", 0 0 1px ").concat(o.DN60A,";")});t.e200=u;var s=(0,a.default)({light:"box-shadow: 0 8px 16px -4px ".concat(o.N50A,", 0 0 1px ").concat(o.N60A,";"),dark:"box-shadow: 0 8px 16px -4px ".concat(o.DN50A,", 0 0 1px ").concat(o.DN60A,";")});t.e300=s;var c=(0,a.default)({light:"box-shadow: 0 12px 24px -6px ".concat(o.N50A,", 0 0 1px ").concat(o.N60A,";"),dark:"box-shadow: 0 12px 24px -6px ".concat(o.DN50A,", 0 0 1px ").concat(o.DN60A,";")});t.e400=c;var d=(0,a.default)({light:"box-shadow: 0 20px 32px -8px ".concat(o.N50A,", 0 0 1px ").concat(o.N60A,";"),dark:"box-shadow: 0 20px 32px -8px ".concat(o.DN50A,", 0 0 1px ").concat(o.DN60A,";")});t.e500=d},1082:function(e,t,n){"use strict";function r(e){return function(t){return a.default.createElement(l.default,null,function(n){return a.default.createElement(e,(0,o.default)({},t,{theme:n}))})}}var i=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.withTheme=r;var o=i(n(21)),a=i(n(0)),l=i(n(482))},1083:function(e,t,n){"use strict";var r=n(3);Object.defineProperty(t,"__esModule",{value:!0}),t.h100=t.h200=t.h300=t.h400=t.h500=t.h600=t.h700=t.h800=t.h900=void 0;var i=n(2),o=r(n(158)),a=n(93),l=function(e,t){return"\n  font-size: ".concat(e/(0,a.fontSize)(),"em;\n  font-style: inherit;\n  line-height: ").concat(t/e,";\n")},u=function(){return(0,i.css)(["\n  "," color: ",";\n  font-weight: 500;\n  letter-spacing: -0.01em;\n  margin-top: ","px;\n"],l(35,40),o.heading,6.5*(0,a.gridSize)())};t.h900=u;var s=function(){return(0,i.css)(["\n  "," color: ",";\n  font-weight: 600;\n  letter-spacing: -0.01em;\n  margin-top: ","px;\n"],l(29,32),o.heading,5*(0,a.gridSize)())};t.h800=s;var c=function(){return(0,i.css)(["\n  "," color: ",";\n  font-weight: 500;\n  letter-spacing: -0.01em;\n  margin-top: ","px;\n"],l(24,28),o.heading,5*(0,a.gridSize)())};t.h700=c;var d=function(){return(0,i.css)(["\n  "," color: ",";\n  font-weight: 500;\n  letter-spacing: -0.008em;\n  margin-top: ","px;\n"],l(20,24),o.heading,3.5*(0,a.gridSize)())};t.h600=d;var f=function(){return(0,i.css)(["\n  "," color: ",";\n  font-weight: 600;\n  letter-spacing: -0.006em;\n  margin-top: ","px;\n"],l(16,20),o.heading,3*(0,a.gridSize)())};t.h500=f;var h=function(){return(0,i.css)(["\n  "," color: ",";\n  font-weight: 600;\n  letter-spacing: -0.003em;\n  margin-top: ","px;\n"],l(14,16),o.heading,2*(0,a.gridSize)())};t.h400=h;var p=function(){return(0,i.css)(["\n  "," color: ",";\n  font-weight: 600;\n  margin-top: ","px;\n  text-transform: uppercase;\n"],l(12,16),o.heading,2.5*(0,a.gridSize)())};t.h300=p;var m=function(){return(0,i.css)(["\n  "," color: ",";\n  font-weight: 600;\n  margin-top: ","px;\n"],l(12,16),o.subtleHeading,2*(0,a.gridSize)())};t.h200=m;var g=function(){return(0,i.css)(["\n  "," color: ",";\n  font-weight: 700;\n  margin-top: ","px;\n"],l(11,16),o.subtleHeading,2*(0,a.gridSize)())};t.h100=g},1084:function(e,t,n){"use strict";function r(e,t){return function(n){return e(n)+t}}function i(e,t){return function(n){return e(n)-t}}function o(e,t){return function(n){return e(n)*t}}function a(e,t){return function(n){return e(n)/t}}Object.defineProperty(t,"__esModule",{value:!0}),t.add=r,t.subtract=i,t.multiply=o,t.divide=a},1279:function(e,t,n){var r,i;r=[t],void 0!==(i=function(e){"use strict";function t(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)(?:.*version\/)([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return"mozilla"===t[1]&&/\btrident\b/.test(e)&&(t[1]="msie"),{browser:t[1]||"",version:t[2]||"0"}}function n(e){if("object"==typeof e)return Object.keys(e).filter(function(t){return e[t]})[0]}function r(){var e=t(a),r=e.browser,b=e.version;u="chrome"===r,s="msie"===r,c="mozilla"===r,f=u||"webkit"===r,d=f&&!u,h="opera"===r,i=n({Chrome:u,Firefox:c,IE:s,Safari:d,Opera:h}),p=parseInt(b,10),m=-1!==l.indexOf("Linux"),g=-1!==l.indexOf("Mac"),v=-1!==l.indexOf("Win"),o=n({Win:v,Mac:g,Linux:m})}var i,o,a=window.navigator.userAgent,l=window.navigator.platform,u=!1,s=!1,c=!1,d=!1,f=!1,h=!1,p=NaN,m=!1,g=!1,v=!1;e.isChrome=function(){return u},e.isIE=function(){return s},e.isMozilla=function(){return c},e.isSafari=function(){return d},e.isWebkit=function(){return f},e.isOpera=function(){return h},e.shortBrowser=function(){return i},e.majorVersion=function(){return p},e.isLinux=function(){return m},e.isMac=function(){return g},e.isWin=function(){return v},e.shortPlatform=function(){return o},e._setUserAgent=function(e){a=e,r()},e._setPlatform=function(e){l=e,r()},e._getFirstTruthyPropKey=n,r()}.apply(t,r))&&(e.exports=i)},1295:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=r(i),a=n(19),l=r(a),u=n(178),s=r(u),c=n(167),d=r(c),f=n(421),h=r(f),p=function(e,t){this.endPoint=e,this.comment=this.newModel(),this.commentForm=(0,h.default)(this.comment),this.insertWhere=t?"before":"after",this.$elem=null};p.prototype.newModel=function(){var e=new s.default({content:""},{urlRoot:this.endPoint.toString()});return e.on("sync",l.default.once(this.insertNewComment),this),e},p.prototype.decorate=function(e){var t=this;return this.$elem=e,this.commentForm.decorate(e),this.commentForm.onCancel(function(){t.commentForm.shrinkSize()}),this.enterDocument(),this},p.prototype.enterDocument=function(){},p.prototype.insertNewComment=function(e){this.comment=this.newModel(),this.commentForm.comment=this.comment,this.commentForm.shrinkSize(),this.commentForm.clearContents(),new d.default(e).render(this.commentForm.$elem,this.insertWhere),(0,o.default)(document).trigger("comment-added",e)},t.default=p,e.exports=t.default},1296:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=r(i),a=n(1307),l=r(a),u=function(e){this.diff_=e,this.sbsDiff_=new l.default(e,18),this.$elem_=null};u.prototype.createDom=function(){this.$elem_=(0,o.default)('<section class="bb-sbs-diff"></section>')},u.prototype.render=function(e){this.createDom(),this.$elem_.appendTo(e),this.sbsDiff_.render(this.$elem_),this.enterDocument()},u.prototype.enterDocument=function(){(0,o.default)(document).bind("diff-load-start",o.default.proxy(this.loadingStart_,this)).bind("diff-load-end",o.default.proxy(this.loadingEnd_,this))},u.prototype.exitDocument=function(){},u.prototype.loadingStart_=function(e,t){t===this.diff_.filename()&&this.$elem_.addClass("loading-diff")},u.prototype.loadingStart_=function(e,t){t===this.diff_.filename()&&this.$elem_.removeClass("loading-diff")},u.prototype.setWidth=function(e){this.sbsDiff_.setWidth(e)},u.prototype.setHeight=function(e){this.sbsDiff_.setHeight(e)},u.prototype.scrollToFirstHunk=function(){this.sbsDiff_.scrollToFirstHunk()},t.default=u,e.exports=t.default},1297:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){if(!(this instanceof i))return new i(e,t,n);this.pagesPerBlock_=t,this.linesPerPage_=n,this.blocks_={from:[],to:[]},this.filename_={from:"",to:""},this.incremental_=[];var r=f.default.concat("repositories",c.default.baseUrl,c.default.slug,"changesets",u.default,"diff");return(0,a.default)("#compare")&&(0,a.default)("#compare").data("compare-files-url")&&(r=(0,a.default)("#compare").data("compare-files-url")),this.url_=e||r.toString(),this}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=r(o),l=n(492),u=r(l),s=n(36),c=r(s),d=n(104),f=r(d);i.prototype=function(){var e=i.prototype;return e.queueBlocks_=function(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=this.blocks_[e];a.default.inArray(r,i)<0&&i.push(r)}},e.from=function(e,t){return this.queueBlocks_("from",e),this.filename_.from=t,this},e.to=function(e,t){return this.queueBlocks_("to",e),this.filename_.to=t,this},e.incremental=function(e){return this.incremental_.push(e),this},e.load=function(e){if(this.complete_=e,0===this.blocks_.from.length&&0===this.blocks_.to.length)e&&e();else{var t=this.filename_.from||this.filename_.to;(0,a.default)(document).trigger("diff-load-start",[t]),a.default.ajax({type:"GET",url:this.url_,data:{linesPerPage:this.linesPerPage_,fromBlock:this.blocks_.from.shift(),toBlock:this.blocks_.to.shift(),filename:t},dataType:"json",success:a.default.proxy(this.success_,this)})}},e.success_=function(e){var t=this.filename_.from||this.filename_.to;(0,a.default)(document).trigger("diff-load-end",[t]);for(var n=e[0],r=n.from_file,i=n.to_file,o=0;o<this.incremental_.length;o++)this.incremental_[o](r,i);this.load(this.complete_)},e}(),t.default=i,e.exports=t.default},1298:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=r(i),a=n(19),l=r(a),u=n(1422),s=r(u),c=n(1297),d=r(c),f=n(1299),h=r(f),p=n(488),m=r(p),g=n(132),v=r(g),b=n(1304),_=r(b),y=s.default.DIFF_INSERT,w=s.default.DIFF_EQUAL,k=s.default.DIFF_DELETE,x=function e(t,n,r,i,o,a,l,u){if(!(this instanceof e))return new e(t,n,r,i,o,a,l,u);this.hunks=t,this.pagesPerBlock=n,this.linesPerPage=r,this.from=i,this.to=o,this.unifiedMap=a,this.note=l,this.url=u,this.elem_=null;try{this.diffHighlighting_(new s.default,t)}catch(e){}return this};x.sideBySideFromData=function(e){for(var t=[],n=0,r=e.hunks.length;n<r;n++){var i,o=e.hunks[n];i="add"===o.type?new m.default(v.default.pointBeforeLine(o.from_start),v.default.ofLength(o.to_start,o.to_count),o.from_lines,o.to_lines):"mod"===o.type?m.default.ofLengths(o.from_start,o.from_count,o.to_start,o.to_count,o.from_lines,o.to_lines):new m.default(v.default.ofLength(o.from_start,o.from_count),v.default.pointBeforeLine(o.to_start),o.from_lines,o.to_lines),o.conflict&&i.conflict(),t[n]=i}var a=e.from_pages_per_block,l=e.from_lines_per_page,u=_.default.unzip(t),s=new h.default(a,l,e.from_file,u[0]),c=new h.default(a,l,e.to_file,u[1]),d=e.unified_map,f=e.note;return new x(t,a,l,s,c,d,f)},x.CONTEXT_LOW=3,x.CONTEXT_MED=20,x.CONTEXT_FULL=-1,x.prototype=function(){var e=x.prototype;return e.setElement=function(e){this.elem_=e},e.getElement=function(){return this.elem_},e.ensureVisible=function(e,t){var n=this,r=new d.default(this.url,this.pagesPerBlock,this.linesPerPage);this.from.exists()&&this.from.queueBlocks(r,e.fromRange),this.to.queueBlocks(r,e.toRange),r.load(function(){n.from.exists()&&n.from.ensureVisible(e.fromRange),n.to.ensureVisible(e.toRange),t&&t()})},e.isUnified=function(){return this.to.isUnified()},e.filename=function(){return this.from.filename||this.to.filename},e.hasConflicts=function(){for(var e=this.zeroContextHunks||this.hunks,t=0;t<e.length;t++)if(e[t].isConflict())return!0;return!1},e.hasNote=function(){return!!this.note},e.hasDiffContent=function(){return this.hunks.length>0},e.numContext=function(){return this.from.numContext()},e.contextScrollPositions_=function(e,t){var n,r,i=[0],o=[0];for(n=1;n<=e.numLines;n++)if("number"==typeof(r=e.viewport2file[n])){var a=e.file_.position[r];i[n]=t.file2viewport[a]}else i[n]=i[n-1]+1;for(n=1;n<=t.numLines;n++)if("number"==typeof(r=t.viewport2file[n])){var l=t.file_.position[r];o[n]=e.file2viewport[l]}else o[n]=o[n-1]+1;return[i,o]},e.hunksWithContext_=function(e,t,n){for(var r=t.file2viewport,i=n.file2viewport,o=[],a=0;a<e.length;a++){var l=e[a],u=l.fromRange,s=l.toRange;o.push(new m.default(new v.default(r[u.low],r[u.high]),new v.default(i[s.low],i[s.high])))}return o},e.diffHighlighting_=function(e,t){function n(e){return r.html(e),r.text()}for(var r=(0,o.default)("<div>"),i=0;i<t.length;i++){var a=t[i];if(a.fromLines&&a.toLines&&a.isChange()&&!a.isConflict()){var l=e.diff_main(n(a.fromLines.join("\n")),n(a.toLines.join("\n")));e.diff_cleanupSemantic(l),a.fromRange.linesHtml=o.default.map(o.default.grep(l,o.default.proxy(this.isFrom_,this)),o.default.proxy(this.markup_,this)).join("").split("\n"),a.toRange.linesHtml=o.default.map(o.default.grep(l,o.default.proxy(this.isTo_,this)),o.default.proxy(this.markup_,this)).join("").split("\n")}}},e.isFrom_=function(e){var t=e[0];return t===k||t===w},e.isTo_=function(e){var t=e[0];return t===w||t===y},e.markup_=function(e){var t=e[0];return t===w?l.default.escape(e[1]):o.default.map(e[1].split("\n"),t===k?o.default.proxy(this.markupRemoved_,this):o.default.proxy(this.markupAdded_,this)).join("\n")},e.markupRemoved_=function(e){return"<del>"+l.default.escape(e)+"</del>"},e.markupAdded_=function(e){return"<ins>"+l.default.escape(e)+"</ins>"},e.hunkBefore=function(e){var t=o.default.inArray(e,this.hunks);return t<=0?null:this.hunks[t-1]},e.hunkAfter=function(e){var t=o.default.inArray(e,this.hunks);return t<0||t===this.hunks.length-1?null:this.hunks[t+1]},e.hunkAfterFromLine=function(e){return this.searchHunksAfter_(function(t){return e<t.fromRange.low})},e.hunkBeforeFromLine=function(e){return this.searchHunksBefore_(function(t){return t.fromRange.low<e})},e.hunkAfterToLine=function(e){return this.searchHunksAfter_(function(t){return e<t.toRange.low})},e.hunkBeforeToLine=function(e){return this.searchHunksBefore_(function(t){return t.toRange.low<e})},e.searchHunksAfter_=function(e){for(var t=this.zeroContextHunks||this.hunks,n=0,r=t.length-1,i=null;n<=r;){var o=Math.floor((n+r)/2),a=t[o];e(a)?(i=a,r=o-1):n=o+1}return i},e.searchHunksBefore_=function(e){for(var t=this.zeroContextHunks||this.hunks,n=0,r=t.length-1,i=null;n<=r;){var o=Math.floor((n+r)/2),a=t[o];e(a)?(i=a,n=o+1):r=o-1}return i},e}(),t.default=x,e.exports=t.default},1299:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){void 0===a&&(a=(0,u.default)(".gutter-box"));for(var t=0,n=a.length;t<n;++t)e(t,a.eq(t))}function o(e,t,n,r){if(!(this instanceof o))return new o(e,t,n,r);var i=n.meta;return this.numLines||(this.numLines=0),i?(this.name=i.name,this.filename=i.filename,this.position=i.position,this.numLines=i.numLines,this.maxLineNum=i.numLines,this.longestLine=i.longestLine,this.longestRevisionBlameLength=i.longestRevisionBlameLength,this.longestAuthorBlameLength=i.longestAuthorBlameLength,this.pagesPerBlock=e,this.linesPerPage=t,this.gutterWidths=i.gutterWidths,this.zeroContextRanges_=r,this.blocks={},this.blocksRendered={},this.merge(n),this.scrollBoxDom=null,this.numbersBoxDom=null,this.revisionBlameBoxDom=null,this.lineHeightPx=null,this):null}Object.defineProperty(t,"__esModule",{value:!0});var a,l=n(4),u=r(l),s=n(1303),c=r(s),d=n(132),f=r(d),h=n(148),p=r(h);o.DELIMITER=">",o.prototype=function(){function e(e){return e.scrollBoxDom||(e.scrollBoxDom=(0,u.default)("#"+e.name+"-box")[0]),e.scrollBoxDom}function t(e){return e.numbersBoxDom||(e.numbersBoxDom=(0,u.default)("#"+e.name+"-numbers-box")[0]),e.numbersBoxDom}function n(e){return e.revisionBlameBoxDom||(e.revisionBlameBoxDom=(0,u.default)("#"+e.name+"-revision-blame-box")[0]),e.revisionBlameBoxDom}function r(e){return e.authorBlameBoxDom||(e.authorBlameBoxDom=(0,u.default)("#"+e.name+"-auth-blame-box")[0]),e.authorBlameBoxDom}function a(e,t,n,r,i){e.id=t.name+"-"+i+"-"+n+"-"+r}function l(e,t,n){return e.pageDom_(t,n),e.blocks[t][n].numbersDom}function s(e,t,n){return e.pageDom_(t,n),e.blocks[t][n].revBlameDom}function d(e,t,n){return e.pageDom_(t,n),e.blocks[t][n].authBlameDom}function h(e,t,n,r){return e.pageDom_(t,n),e.blocks[t][n].gutterDom[r]}var m=o.prototype;m.isUnified=function(){return!1},m.numContext=function(){return-1},m.exists=function(){return!!this.blocks},m.merge=function(e){var t=e.block_num;t>=0&&(this.blocks[t]=e.pages)},m.queueBlocks=function(e,t){var n=this;e[this.name](this.blocksToFetch(t),this.filename).incremental(function(e,t){n.merge("from"===n.name?e:t)})};var g=function(){var e=["addition","change","deletion","conflict","start","end"],t=null;if("Explorer"===p.default.browser){var n=document.createElement("div");t=function(e){var t=n;return t.innerHTML="<pre>"+e+"</pre>",t.removeChild(t.firstChild)}}else t=function(e){var t=document.createElement("pre");return t.innerHTML=e,t};return function(n,r,i){for(var o=t((r||n.html)+"\n"),a=[],l=0,u=e.length;l<u;l++){var s=e[l];n[s]&&a.push(s)}for(i=i||[],l=0,u=i.length;l<u;l++)a.push(i[l]);var c=a.join(" ");return c&&(o.className=c),o}}();m.ensureVisible=function(e){if(this.numLines>0)for(var t=this.pagesPerBlock*this.linesPerPage,n=Math.floor((e.low-1)/t),r=Math.floor((e.high-1)/t),i=n;i<=r;i++)for(var o=i*t,a=e.low-1-o,l=Math.min(e.high-1-o,(i+1)*t-1),u=Math.floor(a/this.linesPerPage),s=Math.floor(l/this.linesPerPage),c=u;c<=s;c++)!this.isNotInDom_(i,c)&&this.pageDom_(i,c).parentNode||this.insertPage_(i,c)},m.blocksToFetch=function(e){for(var t=this.linesPerPage*this.pagesPerBlock,n=Math.floor(e.low/t),r=Math.floor(e.high/t),i=[],o=n;o<=r;o++)this.blocks[o]||(this.blocks[o]=this.blocksToFetch.loadingSentinel,i.push(o));return i},m.blocksToFetch.loadingSentinel={loading:!0},m.isNotInDom_=function(e,t){return this.blocks[e]&&this.blocks[e][t]&&(!this.blocksRendered[e]||!this.blocksRendered[e][t])},m.zeroContextRanges=function(){return this.zeroContextRanges_},m.coords_=function(e){var t=e-1,n=this.pagesPerBlock*this.linesPerPage,r=Math.floor(t/n),i=t%n;return{block:r,page:Math.floor(i/this.linesPerPage),lineIndex:i%this.linesPerPage}},m.insertPage_=function(o,a){var c=(0,u.default)(e(this)),f=(0,u.default)(t(this)),p=(0,u.default)(n(this)),m=(0,u.default)(r(this)),g=(o*this.pagesPerBlock+a)*this.linesPerPage*this.lineHeightPx;c[0].appendChild((0,u.default)(this.pageDom_(o,a)).css("top",g).css("width",c.data("width"))[0]),f[0].appendChild((0,u.default)(l(this,o,a)).css("top",g)[0]),0!==p.length&&p.children(".content-box")[0].appendChild((0,u.default)(s(this,o,a)).css("top",g)[0]),0!==m.length&&m.children(".content-box")[0].appendChild((0,u.default)(d(this,o,a)).css("top",g)[0]),i(function(e,t){t.children(".content-box")[0].appendChild((0,u.default)(h(this,o,a,e)).css("top",g)[0])})};var v=function(e,t,n,r){var i=document.createElement("div"),o=(t*e.pagesPerBlock+n)*e.linesPerPage+1;i.className="page line-numbers";for(var a=0,l=r.length;a<l;a++){var u=o+a,s=e.permalinker_.url(e.name,e.filename,u),c=g(r[a],'<a href="'+s+'">'+u+"</a>");i.appendChild(c)}return i},b=function(){return function(e,t,n,r){var i=document.createElement("div");i.className="page revision-blame";for(var o=0,a=r.length;o<a;o++){var l=g(r[o],"<span>"+(r[o].start?r[o].revision:"&nbsp;")+"</span>",[r[o].blameclass]);i.appendChild(l)}return i}}(),_=function(){return function(e,t,n,r){var i=document.createElement("div");i.className="page author-blame";for(var o=0,a=r.length;o<a;o++){var l=g(r[o],"<span>"+(r[o].start?r[o].author:"&nbsp;")+"</span>");i.appendChild(l)}return i}}(),y=function(){return function(e,t,n,r){for(var i=[],o=0;o<r[0].gutters.length;++o){i[o]=document.createElement("div");for(var a=0,l=r.length;a<l;a++){var u=g(r[a],r[a].gutters[o]);i[o].appendChild(u)}}return i}}();return m.pageDom_=function(e,t){var i=this.blocks[e];if(this.isNotInDom_(e,t)){var o=this.evalPage_(e,t),l=this.createPageDom_(o),u=v(this,e,t,o),s=e*this.pagesPerBlock+t;l.className+=0===s?" page-first ":"",u.className+=0===s?" page-first ":"",a(l,this,e,s,"page"),a(u,this,e,s,"numbers");var c;n(this)?(c=b(this,e,t,o),a(c,this,e,s,"revision-blame")):c=document.createElement("div");var d;r(this)?(d=_(this,e,t,o),a(d,this,e,s,"auth-blame")):d=document.createElement("div");var f=y(this,e,t,o);i[t]={pageDom:l,numbersDom:u,revBlameDom:c,authBlameDom:d,gutterDom:f}}return i[t].pageDom},m.evalPage_=function(e,t){for(var n=(e*this.pagesPerBlock+t)*this.linesPerPage+1,r=f.default.ofLength(n,this.linesPerPage),i=u.default.grep(this.zeroContextRanges(),function(e){return r.overlaps(e)}),o=this.blocks[e][t],a=0;a<i.length;a++){var l=i[a];if(l.linesHtml)for(var s=0;s<l.length;s++){var c=l.low+s,d=c-n;d>=0&&d<this.linesPerPage&&(o[c-n].html=l.linesHtml[s])}}return this.blocksRendered[e]=this.blocksRendered[e]||{},this.blocksRendered[e][t]=!0,o},m.createPageDom_=function(e){var t=document.createElement("div");t.className="page";for(var n=0,r=e.length;n<r;n++)t.appendChild(g(e[n]));return t},m.permalinker_=new c.default,m.longestLineDom=function(){return g(this.longestLine)},m}(),t.default=o,e.exports=t.default},1300:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=r(i),a=n(19),l=r(a),u=n(1579),s=r(u),c=function(e,t,n,r){this.hunks=l.default.filter(e,function(e){return"from"===t?e.isDeletion()||e.isChange():e.isAddition()||e.isChange()}),this.numLines=n,this.lineHeight=r,this.side=t,this.$window_=null,this.$elem_=null};c.prototype.createDom=function(){this.$window_=(0,o.default)(window),this.$elem_=(0,o.default)('<div class="hunk-map">');for(var e="from"===this.side,t=e?"<del>":"<ins>",n=0;n<this.hunks.length;n++){var r=this.hunks[n],i=e?r.fromRange:r.toRange,a=(0,o.default)(t).toggleClass("change",r.isChange()).toggleClass("conflict",r.isConflict()).css({top:this.percent(i.low-1)+"%",height:this.percent(i.length)+"%"});this.$elem_.append(a)}},c.prototype.percent=function(e){return e/this.numLines*100},c.prototype.render=function(e){this.createDom(),e.append(this.$elem_),this.enterDocument()},c.prototype.enterDocument=function(){this.$elem_.bind("click.hunk-map",o.default.proxy(this.onClick_,this))},c.prototype.exitDocument=function(){this.$elem_.unbind("click.hunk-map")},c.prototype.onClick_=function(e){var t=e.clientY-(this.$elem_.offset().top-this.$window_.scrollTop()),n=Math.round(t/this.$elem_.height()*this.numLines);n=Math.min(Math.max(1,n),this.numLines),(0,o.default)(this).trigger("hunk-map/click",[n])},c.prototype.scrollbars=function(e,t){var n=this.$elem_.parent().height(),r=(0,s.default)(),i=t?r:0,o=i+(e?r:0);this.$elem_.css({marginTop:i,height:Math.min(this.numLines*this.lineHeight,n-i-o)})},t.default=c,e.exports=t.default},1301:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=r(i),a=n(1302),l=r(a),u=n(132),s=r(u),c=function(e,t,n,r){this.numLines=t,this.lineHeight=r,this.pane_=new e(n,t*r)};c.scrollable=function(e,t,n){return new c(l.default,e,t,n)},c.prototype.createDom=function(){},c.prototype.render=function(e){this.createDom(),this.pane_.render(e),this.$elem_=this.pane_.$elem_,this.enterDocument()},c.prototype.enterDocument=function(){(0,o.default)(this.pane_).bind("aperture-pane/scroll",o.default.proxy(this.onScroll_,this))},c.prototype.exitDocument=function(){(0,o.default)(this.pane_).unbind("aperture-pane/scroll"),this.pane_.exitDocument()},c.prototype.$content=function(){return this.pane_.$content()},c.prototype.onScroll_=function(e,t,n){var r=Math.floor(n/this.lineHeight)+1,i=n-this.lineTopPx(r);(0,o.default)(this).trigger("aperture-lined-pane/scroll",[r,t,i])},c.prototype.setPaneWidth=function(e){this.pane_.setPaneWidth(e)},c.prototype.scrollx=function(){return this.pane_.scrollx()},c.prototype.scrolly=function(){return this.pane_.scrolly()},c.prototype.lineTopPx=function(e){return(e-1)*this.lineHeight},c.prototype.scrollToLine=function(e,t,n){var r=this.pane_.setScrollLeftNoEvent(t),i=this.pane_.setScrollTopNoEvent(this.lineTopPx(e)+n);return[Math.floor(i/this.lineHeight)+1,r,i%this.lineHeight]},c.prototype.isVisible=function(){return this.pane_.isVisible()},c.prototype.visibleRange=function(){var e=this.pane_.visibleRange();if(null===e)return null;var t=Math.floor(e.low/this.lineHeight)+1,n=Math.min(this.numLines,Math.ceil(e.high/this.lineHeight));return new s.default(t,n)},t.default=c,e.exports=t.default},1302:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=r(i),a=n(132),l=r(a),u=function(e,t){this.contentWidth=e,this.contentHeight=t,this.scrollLeft_=0,this.scrollTop_=0,this.maxScrollLeft_=0,this.maxScrollTop_=0,this.ignoreHorizontalScrolls_=0,this.ignoreVerticalScrolls_=0,this.$elem_=null,this.$scroller_=null,this.$content_=null};u.template_=['<div class="aperture-pane">','<div class="aperture-pane-scroller">','<div class="aperture-pane-content"></div>',"</div>","</div>"].join(""),u.prototype.createDom=function(){this.$elem_=(0,o.default)(u.template_),this.$scroller_=this.$elem_.find(".aperture-pane-scroller"),this.$content_=this.$scroller_.find(".aperture-pane-content")},u.prototype.render=function(e){this.createDom(),e.append(this.$elem_),"number"!=typeof this.contentWidth&&(this.$content().append(this.contentWidth),this.contentWidth=this.$elem_.width(),this.$content().empty()),this.$content().width(this.contentWidth),"number"!=typeof this.contentHeight&&(this.$content().append(this.contentHeight),this.contentHeight=this.$elem_.height(),this.$content().empty()),this.$content().height(this.contentHeight),this.setScrollBounds_(),this.enterDocument()},u.prototype.setPaneWidth=function(e){this.$elem_.width(e),this.contentWidth=this.$elem_.width(),this.setScrollBounds_()},u.prototype.setPaneHeight=function(e){this.$elem_.height(e),this.contentHeight=this.$elem_.height(),this.setScrollBounds_()},u.prototype.scrollx=function(){return this.maxScrollLeft_>0},u.prototype.scrolly=function(){return this.maxScrollTop_>0},u.prototype.setScrollBounds_=function(){var e=this.$scroller_.scrollLeft()||0,t=this.$scroller_.scrollTop()||0;this.$scroller_.scrollLeft(this.contentWidth).scrollTop(this.contentHeight),this.maxScrollLeft_=this.$scroller_.scrollLeft(),this.maxScrollTop_=this.$scroller_.scrollTop(),this.$scroller_.scrollLeft(e).scrollTop(t)},u.prototype.enterDocument=function(){this.$scroller_.bind("scroll.pane",o.default.proxy(this.onScroll_,this))},u.prototype.exitDocument=function(){this.$scroller_.unbind("scroll.pane")},u.prototype.$content=function(){return this.$content_},u.prototype.onScroll_=function(e){var t=this.$scroller_.scrollLeft(),n=this.$scroller_.scrollTop(),r=t!==this.scrollLeft_,i=n!==this.scrollTop_;this.scrollLeft_=t,this.scrollTop_=n,this.ignoreHorizontalScrolls_||this.ignoreVerticalScrolls_?(this.ignoreHorizontalScrolls_&&r&&(this.ignoreHorizontalScrolls_-=1),this.ignoreVerticalScrolls_&&i&&(this.ignoreVerticalScrolls_-=1)):(0,o.default)(this).trigger("aperture-pane/scroll",[t,n])},u.prototype.setScrollLeftNoEvent=function(e){return e=Math.max(0,Math.min(this.maxScrollLeft_,e)),this.scrollLeft_!==e&&(this.ignoreHorizontalScrolls_+=1,this.$scroller_.scrollLeft(e)),e},u.prototype.setScrollTopNoEvent=function(e){return e=Math.max(0,Math.min(this.maxScrollTop_,e)),this.scrollTop_!==e&&(this.ignoreVerticalScrolls_+=1,this.$scroller_.scrollTop(e)),e},u.prototype.isVisible=function(){return!0},u.prototype.visibleRange=function(){return l.default.ofLength(this.$scroller_.scrollTop(),this.$elem_.height())},t.default=u,e.exports=t.default},1303:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){this.baseUrl_=window.top.location.href.replace(location.hash,"")};r.prototype.regex_=/^#chg_(.*)_(newline|oldline)(\d+)$/,r.prototype.parse=function(e){var t=this.regex_.exec(e);if(t)return{path:t[1],file:"oldline"===t[2]?"from":"to",line:parseInt(t[3],10)}},r.prototype.url=function(e,t,n){return this.baseUrl_+"#chg_"+encodeURIComponent(t)+"_"+("from"===e?"oldline":"newline")+n},t.default=r,e.exports=t.default},1304:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(132),o=r(i),a={unzip:function(e){for(var t=[],n=[],r=0;r<e.length;r++){var i=e[r];t.push(i.fromRange),n.push(i.toRange)}return[t,n]},nonEmpty:function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];r.length>0&&t.push(r)}return t},expand:function(e,t){for(var n=[],r=0;r<e.length;r++)n.push(e[r].expand(t));return a.merge(n)},mergeAdjacent:function(e,t,n){var r,i,a,l;return e[0].low>1?0===t?(r=[new o.default(1,e[0].high)],r.concat(e.slice(1))):t===e.length?(i=e[e.length-1],r=e.slice(0,e.length-1),r.push(new o.default(i.low,n)),r):(r=e.slice(0,t-1),a=e[t-1],l=e[t],r.push(new o.default(a.low,l.high)),r.concat(e.slice(t+1))):t===e.length-1?(i=e[e.length-1],r=e.slice(0,e.length-1),r.push(new o.default(i.low,n)),r):(r=e.slice(0,t),a=e[t],l=e[t+1],r.push(new o.default(a.low,l.high)),r.concat(e.slice(t+2)))},expandAtIndex:function(e,t,n,r){var i,l,u,s,c;return e[0].low>1?0===t?(l=new o.default(Math.max(1,e[0].low-n),e[0].high),[l].concat(e.slice(1))):t===e.length?(u=e[e.length-1],i=e.slice(0,e.length-1),i.push(new o.default(u.low,Math.min(u.high+n,r))),i):(i=e.slice(0,t-1),s=e[t-1],c=e[t],i.push(new o.default(s.low,Math.min(s.high+n,r))),i.push(new o.default(Math.max(c.low-n,Math.min(s.high+n,r)),c.high)),a.merge(i.concat(e.slice(t)))):t===e.length-1?(u=e[e.length-1],i=e.slice(0,e.length-1),i.push(new o.default(u.low,Math.min(u.high+n,r))),i):(i=e.slice(0,t),s=e[t],c=e[t+1],i.push(new o.default(s.low,Math.min(s.high+n,r))),i.push(new o.default(Math.max(c.low-n,Math.min(s.high+n,r)),c.high)),a.merge(i.concat(e.slice(t+2))))},merge:function(e){var t,n=[];if(e.length>0){for(var r=e[0],i=1;i<e.length;i++){var o=e[i];null!==(t=r.merge(o))?r=t:(n.push(r),r=o)}n.push(r)}return n}};t.default=a,e.exports=t.default},1305:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=r(i),a=n(1301),l=r(a),u=function(e,t){this.file_=e,this.lineHeight=t,this.numLines=e.numLines,this.numbers_=l.default.scrollable(e.numLines,35,t),this.lines_=l.default.scrollable(e.numLines,this.file_.longestLineDom(),t),this.$elem_=null};u.prototype.createDom=function(){this.$elem_=(0,o.default)('<div class="scrollable-file-pane">')},u.prototype.render=function(e){this.createDom(),e.append(this.$elem_),this.numbers_.render(this.$elem_),this.lines_.render(this.$elem_),this.numbers_.$elem_.addClass("scrollable-file-pane-numbers"),this.numbers_.$content().addClass("file-numbers"),this.lines_.$elem_.addClass("scrollable-file-pane-lines"),this.lines_.$content().addClass("file-lines"),this.file_.lineHeightPx=this.lineHeight,this.file_.numbersBoxDom=this.numbers_.$content()[0],this.file_.scrollBoxDom=this.lines_.$content()[0],this.enterDocument()},u.prototype.setPaneWidth=function(e){var t=35;this.numbers_.setPaneWidth(t),this.lines_.setPaneWidth(e-t)},u.prototype.scrollx=function(){return this.lines_.scrollx()},u.prototype.scrolly=function(){return this.lines_.scrolly()},u.prototype.enterDocument=function(){(0,o.default)(this.lines_).bind("aperture-lined-pane/scroll",o.default.proxy(this.onScroll_,this))},u.prototype.exitDocument=function(){(0,o.default)(this.lines_).unbind("aperture-lined-pane/scroll"),this.numbers_.exitDocument(),this.lines_.exitDocument()},u.prototype.onScroll_=function(e,t,n,r){this.numbers_.scrollToLine(t,n,r),(0,o.default)(this).trigger("scrollable-file-pane/scroll",[t,n,r])},u.prototype.scrollToLine=function(e,t,n){var r=this.lines_.scrollToLine(e,t,n);return this.numbers_.scrollToLine(r[0],r[1],r[2]),r},u.prototype.scrollToLineAndFire=function(e,t,n){var r=this.scrollToLine(e,t,n);(0,o.default)(this).trigger("scrollable-file-pane/scroll",r)},u.prototype.visibleRange=function(){return this.lines_.visibleRange()},t.default=u,e.exports=t.default},1306:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=r(i),a=window.SegmentPane=function(e,t){this.sbsdiff=e,this.lineHeight=t,this.width=null,this.$elem_=null,this.canvas_=null,this.visiblePaths_=[]};a.prototype.createDom=function(){this.$elem_=(0,o.default)('<div class="segment-pane">');var e=document.createElement("canvas");this.$elem_.append(e),this.canvas_=e,null!==this.width&&this.setPaneWidth(this.width)},a.prototype.render=function(e){this.createDom(),e.append(this.$elem_),this.enterDocument()},a.prototype.enterDocument=function(){},a.prototype.exitDocument=function(){},a.prototype.setPaneWidth=function(e){this.width!==e&&(this.width=e,null!==this.$elem_&&(this.$elem_.width(e),this.height=this.$elem_.height(),this.canvas_.width=e,this.canvas_.height=this.$elem_.height()))},a.STROKE="#ccc",a.prototype.add_={stroke:"#ddffdd",fill:"#ddffdd"},a.prototype.del_={stroke:"#fee8e9",fill:"#fee8e9"},a.prototype.mod_={stroke:"#f5f5f5",fill:"#f5f5f5"},a.prototype.con_={stroke:"#ffffdf",fill:"#ffffdf"},a.prototype.border_={stroke:"#ccc",fill:"#ccc"},a.prototype.rangeY=function(e,t,n){var r=this.lineHeight,i=(e.low-t)*r-n+1,o=(e.high-t)*r-n+1+r;return i===o&&(i+=r,o=i),[i,o]},a.prototype.draw=function(e,t,n,r,i){var o,a,l=this.canvas_.getContext("2d"),u=this.width,s=this.height;for(l.clearRect(0,0,u+1,s+1),l.setTransform(1,0,0,1,-.5,-.5),o=0,a=e.length;o<a;o++){var c=e[o],d=this.rangeY(c.fromRange,t,n),f=this.rangeY(c.toRange,r,i);if(c.isConflict()){var h=this.sbsdiff.hunkBefore(c),p=this.sbsdiff.hunkAfter(c);if(c.isConflictStart=p&&p.isConflict()&&p.isChange(),c.isEntireConflict=!(h&&h.isConflict()&&h.isChange()||p&&p.isConflict()&&p.isChange()),c.isConflictStart){var m=this.rangeY(p.fromRange,t,n),g=this.rangeY(p.toRange,r,i);d[1]=m[1],f[1]=g[1]}else if(!c.isEntireConflict)continue}c.isConflict()?l.fillStyle=this.con_.fill:c.isAddition()?l.fillStyle=this.add_.fill:c.isDeletion()?l.fillStyle=this.del_.fill:l.fillStyle=this.mod_.fill,l.strokeStyle=this.border_.stroke,l.beginPath(),l.moveTo(0,d[0]),l.bezierCurveTo(u/2,d[0],u/2,f[0],u+1,f[0]),l.lineTo(u+1,f[1]),l.bezierCurveTo(u/2,f[1],u/2,d[1],0,d[1]),l.lineTo(0,d[0]),l.fill(),l.beginPath(),l.moveTo(0,d[0]),l.bezierCurveTo(u/2,d[0],u/2,f[0],u+1,f[0]),l.moveTo(u+1,f[1]),l.bezierCurveTo(u/2,f[1],u/2,d[1],0,d[1]),l.stroke()}},t.default=a,e.exports=t.default},1307:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=r(i),a=n(488),l=r(a),u=n(1300),s=r(u),c=n(1305),d=r(c),f=n(1306),h=r(f),p=function(e,t){this.sbsdiff_=e,this.lineHeight=t,this.focusOffset=5,this.width_=null,this.height_=null,this.fromHunkMap_=new s.default(this.sbsdiff_.hunks,"from",this.sbsdiff_.from.numLines,t),this.fromFile_=new d.default(this.sbsdiff_.from,t),this.segments_=new h.default(e,t),this.toFile_=new d.default(this.sbsdiff_.to,t),this.toHunkMap_=new s.default(this.sbsdiff_.hunks,"to",this.sbsdiff_.to.numLines,t),this.$elem_=null};p.prototype.createDom=function(){this.$elem_=(0,o.default)('<div class="diffract diffract-sbsdiff">'),null!==this.height_&&this.setHeight(this.height_)},p.prototype.render=function(e){this.createDom(),e.append(this.$elem_),this.fromHunkMap_.render(this.$elem_),this.fromFile_.render(this.$elem_),this.segments_.render(this.$elem_),this.toFile_.render(this.$elem_),this.toHunkMap_.render(this.$elem_),this.setWidth(this.width_),this.enterDocument()},p.prototype.setWidth=function(e){if(this.width_=e,this.$elem_){var t=30,n=18,r=e-t-n;this.fromFile_.setPaneWidth(Math.floor(r/2)-1),this.segments_.setPaneWidth(t),this.toFile_.setPaneWidth(Math.ceil(r/2)-1),1===this.$elem_.parent().length&&this.scrollbars()}},p.prototype.setHeight=function(e){this.height_=e,this.$elem_&&(this.$elem_.height(e),1===this.$elem_.parent().length&&this.scrollbars())},p.prototype.scrollbars=function(){this.fromHunkMap_.scrollbars(this.fromFile_.scrollx(),this.fromFile_.scrolly()),this.toHunkMap_.scrollbars(this.toFile_.scrollx(),this.toFile_.scrolly()),this.fromFile_.$elem_.toggleClass("all-lines-visible",!this.fromFile_.scrolly()),this.toFile_.$elem_.toggleClass("all-lines-visible",!this.toFile_.scrolly())},p.prototype.enterDocument=function(){(0,o.default)([this.fromFile_,this.toFile_]).bind("scrollable-file-pane/scroll",o.default.proxy(this.onScroll_,this)),(0,o.default)([this.fromHunkMap_,this.toHunkMap_]).bind("hunk-map/click",o.default.proxy(this.onHunkMapClick_,this))},p.prototype.exitDocument=function(){(0,o.default)([this.fromFile_,this.toFile_]).unbind("scrollable-file-pane/scroll"),(0,o.default)([this.fromHunkMap_,this.toHunkMap_]).unbind("hunk-map/click"),this.fromHunkMap_.exitDocument(),this.fromFile_.exitDocument(),this.segments_.exitDocument(),this.toFile_.exitDocument(),this.toHunkMap_.exitDocument()},p.prototype.onScroll_=function(e,t,n,r){var i=e.target,o=i===this.fromFile_?this.toFile_:this.fromFile_,a=i.file_.position,u=Math.min(t+this.focusOffset,i.numLines),s=a[u],c=a[u-1]===s,d=c?this.lineHeight:r,f=Math.max(c?0:1,s-this.focusOffset),h=o.scrollToLine(f,n,d);f=h[0],d=h[2];var p=new l.default(this.fromFile_.visibleRange(),this.toFile_.visibleRange());this.sbsdiff_.ensureVisible(p);var m=i===this.fromFile_;this.segments_.draw(p.overlapping(this.sbsdiff_.hunks),m?t:f,m?r:d,m?f:t,m?d:r)},p.prototype.onHunkMapClick_=function(e,t){(e.target===this.fromHunkMap_?this.fromFile_:this.toFile_).scrollToLineAndFire(t-this.focusOffset,0,0)},p.prototype.scrollToFirstHunk=function(){var e=this.sbsdiff_.hunks[0];e.isAddition()?this.toFile_.scrollToLineAndFire(e.toRange.low-this.focusOffset,0,0):this.fromFile_.scrollToLineAndFire(e.fromRange.low-this.focusOffset,0,0)},t.default=p,e.exports=t.default},132:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t,n){return this instanceof e?(this.low=t,this.high=n,this.length=n-t+1,this):new e(t,n)};r.ofLength=function(e,t){return new r(e,e+t-1)},r.ofLine=function(e){return r.ofLength(e,1)},r.ofLines=function(e,t){return new r(e,t)},r.pointAfterLine=function(e){return new r(e,e-1)},r.pointBeforeLine=function(e){return r.pointAfterLine(e-1)},r.prototype={constructor:r,isPoint:function(){return this.low-1===this.high},before:function(e){return this.isPoint()&&e.isPoint()?this.high<e.low:this.isPoint()?this.low<=e.low-1:e.isPoint()?this.high<=e.low:this.high<e.low},after:function(e){return e.before(this)},overlaps:function(e){return this.isPoint()&&e.isPoint()?this.equals(e):this.isPoint()?e.overlaps(this):e.isPoint()?this.low-1<=e.low&&e.low<=this.high:this.low<=e.high&&e.low<=this.high},adjacent:function(e){return this.isPoint()&&e.isPoint()?this.equals(e):this.isPoint()?this.low+1===e.low||this.low===e.high:e.isPoint()?e.adjacent(this):this.high+1===e.low||e.low+1===this.high},expand:function(e){if(0===e)return this;var t,n;return this.isPoint()?(t=Math.max(1,this.low-(e-1)),n=this.low+e):(t=Math.max(1,this.low-e),n=this.high+e),new r(t,n)},merge:function(e){if(this.isPoint()&&e.isPoint())return this.equals(e)?this:null;if(this.isPoint())return e.merge(this);if(e.isPoint())return this.overlaps(e)||this.adjacent(e)?this:null;if(this.overlaps(e)||this.adjacent(e)){var t=Math.min(this.low,e.low),n=Math.max(this.high,e.high);return new r(t,n)}return null},equals:function(e){return this.low===e.low&&this.high===e.high},toString:function(){return"["+this.low+", "+this.high+"]"}},t.default=r,e.exports=t.default},1323:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(31),o=r(i),a=n(4),l=r(a),u=n(19),s=r(u),c=n(315),d=r(c);n(657),t.default=o.default.Model.extend({idAttribute:"username",isNew:function(){return!this.get("last_updated_on")},parse:function(e){return e.user?s.default.extend({last_updated_on:e.participated_on||(new Date).toISOString(),approved:e.user.approved||e.approved,reviewers:!0,reviewer:"REVIEWER"===e.role,avatar:e.user.links.avatar.href},e.user):e},toJSON:function(){var e=o.default.Model.prototype.toJSON.call(this);return e.date=this.get("last_updated_on")?l.default.localize((0,d.default)(this.get("last_updated_on"))):void 0,e.hasComments=!!this.get("comments"),e},url:function(){return this.collection.likesUrl}}),e.exports=t.default},1340:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(19),o=r(i),a=n(490),l=r(a);t.default=l.default.extend({parse:function(e){return e.avatar_url=e.avatar_url||e.avatar,e},toEscapedJSON:function(){return{avatar_url:this.get("avatar_url"),display_name:o.default.escape(this.get("display_name")),username:o.default.escape(this.get("username")),is_teammate:this.get("is_teammate"),is_team:this.get("is_team")}}}),e.exports=t.default},1341:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=r(i),a={triggerChange:function(){(0,o.default)("body").trigger("prDependencies:changed")},bindChange:function(e){(0,o.default)("body").on("prDependencies:changed",e)},unbindChange:function(e){(0,o.default)("body").off("prDependencies:changed",e)}};t.default=a,e.exports=t.default},1344:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,o.default)("#commits").find(".pjax"),n={".author .aui-avatar-inner img":"Author Avatar",".commit-labels a":"Branch Lozenge",".aui-nav-breadcrumbs a":"Breadcrumb",".hash.execute":"Commit Hash",".filter-search.no-help":"Commit Search",".commit-status--dialog-trigger":"Build Status",".subject a":"Linkified Text In Commit Message",".show-all-branches":"Show All Branches"};(0,o.default)(".aui-nav-breadcrumbs, #commits").on("click",function(e){Object.keys(n).forEach(function(t){(0,o.default)(e.target).closest(t).length&&m.default.trackEvent("Commit List","Clicked",n[t])})}),(0,o.default)("#checkout-branch-button").on("click",function(e){m.default.trackEvent("Commit List","Clicked","Check Out Branch")}),(0,o.default)(".branch-dialog-trigger").on("click",function(e){m.default.trackEvent("Commit List","Clicked","Branch Selector")}),(0,h.default)(e.find("a.unmapped-user")),(0,s.default)(e,{$pjaxContainer:t}),l.default.container=t,e.pjax(".commit-labels a",l.default),e.pjax(".branch-name",l.default),t.on("pjax:end",function(){(0,d.default)()})};var i=n(4),o=r(i),a=n(730),l=r(a),u=n(168),s=r(u),c=n(169),d=r(c),f=n(872),h=r(f),p=n(65),m=r(p);e.exports=t.default},1351:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')},e.exports=t.default},1354:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,o){try{var a=t[i](o),l=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)});e(l)}return r("next")})}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(44),a=r(o),l=n(4),u=r(l),s=n(24),c=n(1559),d=r(c),f=(0,s.memoize)(function(){var e=i(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.default.get((0,u.default)(document.body).data("static-url")+"dist/webpack/"+t+".js").then(function(e){return e.data});case 2:return n=e.sent,r=new Worker(URL.createObjectURL(new Blob([n],{type:"text/javascript"}))),e.abrupt("return",new d.default(r));case 5:case"end":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}());t.default=f,e.exports=t.default},1375:function(e,t,n){var r,i,o;!function(a,l){i=[e,n(1580)],r=l,void 0!==(o="function"==typeof r?r.apply(t,i):r)&&(e.exports=o)}(0,function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(t),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function(){function e(t){r(this,e),this.resolveOptions(t),this.initSelection()}return e.prototype.resolveOptions=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action=e.action,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""},e.prototype.initSelection=function(){this.text?this.selectFake():this.target&&this.selectTarget()},e.prototype.selectFake=function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px",this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,i.default)(this.fakeElem),this.copyText()},e.prototype.removeFake=function(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},e.prototype.selectTarget=function(){this.selectedText=(0,i.default)(this.target),this.copyText()},e.prototype.copyText=function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)},e.prototype.handleResult=function(e){e?this.emitter.emit("success",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)}):this.emitter.emit("error",{action:this.action,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},e.prototype.clearSelection=function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()},e.prototype.destroy=function(){this.removeFake()},a(e,[{key:"action",set:function(){var e=arguments.length<=0||void 0===arguments[0]?"copy":arguments[0];if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":o(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}();e.exports=l})},1376:function(e,t,n){var r,i,o;!function(a,l){i=[e,n(1375),n(1592),n(1432)],r=l,void 0!==(o="function"==typeof r?r.apply(t,i):r)&&(e.exports=o)}(0,function(e,t,n,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}var s=i(t),c=i(n),d=i(r),f=function(e){function t(n,r){o(this,t);var i=a(this,e.call(this));return i.resolveOptions(r),i.listenClick(n),i}return l(t,e),t.prototype.resolveOptions=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText},t.prototype.listenClick=function(e){var t=this;this.listener=(0,d.default)(e,"click",function(e){return t.onClick(e)})},t.prototype.onClick=function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new s.default({action:this.action(t),target:this.target(t),text:this.text(t),trigger:t,emitter:this})},t.prototype.defaultAction=function(e){return u("action",e)},t.prototype.defaultTarget=function(e){var t=u("target",e);if(t)return document.querySelector(t)},t.prototype.defaultText=function(e){return u("text",e)},t.prototype.destroy=function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)},t}(c.default);e.exports=f})},1420:function(e,t){function n(e,t){for(;e&&e.nodeType!==r;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}var r=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var i=Element.prototype;i.matches=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector}e.exports=n},1421:function(e,t,n){function r(e,t,n,r,i){var a=o.apply(this,arguments);return e.addEventListener(n,a,i),{destroy:function(){e.removeEventListener(n,a,i)}}}function i(e,t,n,i,o){return"function"==typeof e.addEventListener?r.apply(null,arguments):"function"==typeof n?r.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,function(e){return r(e,t,n,i,o)}))}function o(e,t,n,r){return function(n){n.delegateTarget=a(n.target,t),n.delegateTarget&&r.call(e,n)}}var a=n(1420);e.exports=i},1422:function(e,t,n){"use strict";function r(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32}var i=-1,o=1,a=0;r.Diff,r.prototype.diff_main=function(e,t,n,r){void 0===r&&(r=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var i=r;if(null==e||null==t)throw new Error("Null input. (diff_main)");if(e==t)return e?[[a,e]]:[];void 0===n&&(n=!0);var o=n,l=this.diff_commonPrefix(e,t),u=e.substring(0,l);e=e.substring(l),t=t.substring(l),l=this.diff_commonSuffix(e,t);var s=e.substring(e.length-l);e=e.substring(0,e.length-l),t=t.substring(0,t.length-l);var c=this.diff_compute_(e,t,o,i);return u&&c.unshift([a,u]),s&&c.push([a,s]),this.diff_cleanupMerge(c),c},r.prototype.diff_compute_=function(e,t,n,r){var l;if(!e)return[[o,t]];if(!t)return[[i,e]];var u=e.length>t.length?e:t,s=e.length>t.length?t:e,c=u.indexOf(s);if(-1!=c)return l=[[o,u.substring(0,c)],[a,s],[o,u.substring(c+s.length)]],e.length>t.length&&(l[0][0]=l[2][0]=i),l;if(1==s.length)return[[i,e],[o,t]];var d=this.diff_halfMatch_(e,t);if(d){var f=d[0],h=d[1],p=d[2],m=d[3],g=d[4],v=this.diff_main(f,p,n,r),b=this.diff_main(h,m,n,r);return v.concat([[a,g]],b)}return n&&e.length>100&&t.length>100?this.diff_lineMode_(e,t,r):this.diff_bisect_(e,t,r)},r.prototype.diff_lineMode_=function(e,t,n){var r=this.diff_linesToChars_(e,t);e=r.chars1,t=r.chars2;var l=r.lineArray,u=this.diff_main(e,t,!1,n);this.diff_charsToLines_(u,l),this.diff_cleanupSemantic(u),u.push([a,""]);for(var s=0,c=0,d=0,f="",h="";s<u.length;){switch(u[s][0]){case o:d++,h+=u[s][1];break;case i:c++,f+=u[s][1];break;case a:if(c>=1&&d>=1){u.splice(s-c-d,c+d),s=s-c-d;for(var r=this.diff_main(f,h,!1,n),p=r.length-1;p>=0;p--)u.splice(s,0,r[p]);s+=r.length}d=0,c=0,f="",h=""}s++}return u.pop(),u},r.prototype.diff_bisect_=function(e,t,n){for(var r=e.length,a=t.length,l=Math.ceil((r+a)/2),u=l,s=2*l,c=new Array(s),d=new Array(s),f=0;f<s;f++)c[f]=-1,d[f]=-1;c[u+1]=0,d[u+1]=0;for(var h=r-a,p=h%2!=0,m=0,g=0,v=0,b=0,_=0;_<l&&!((new Date).getTime()>n);_++){for(var y=-_+m;y<=_-g;y+=2){var w,k=u+y;w=y==-_||y!=_&&c[k-1]<c[k+1]?c[k+1]:c[k-1]+1;for(var x=w-y;w<r&&x<a&&e.charAt(w)==t.charAt(x);)w++,x++;if(c[k]=w,w>r)g+=2;else if(x>a)m+=2;else if(p){var E=u+h-y;if(E>=0&&E<s&&-1!=d[E]){var C=r-d[E];if(w>=C)return this.diff_bisectSplit_(e,t,w,x,n)}}}for(var P=-_+v;P<=_-b;P+=2){var C,E=u+P;C=P==-_||P!=_&&d[E-1]<d[E+1]?d[E+1]:d[E-1]+1;for(var O=C-P;C<r&&O<a&&e.charAt(r-C-1)==t.charAt(a-O-1);)C++,O++;if(d[E]=C,C>r)b+=2;else if(O>a)v+=2;else if(!p){var k=u+h-P;if(k>=0&&k<s&&-1!=c[k]){var w=c[k],x=u+w-k;if(C=r-C,w>=C)return this.diff_bisectSplit_(e,t,w,x,n)}}}}return[[i,e],[o,t]]},r.prototype.diff_bisectSplit_=function(e,t,n,r,i){var o=e.substring(0,n),a=t.substring(0,r),l=e.substring(n),u=t.substring(r),s=this.diff_main(o,a,!1,i),c=this.diff_main(l,u,!1,i);return s.concat(c)},r.prototype.diff_linesToChars_=function(e,t){function n(e){for(var t="",n=0,o=-1,a=r.length;o<e.length-1;){o=e.indexOf("\n",n),-1==o&&(o=e.length-1);var l=e.substring(n,o+1);n=o+1,(i.hasOwnProperty?i.hasOwnProperty(l):void 0!==i[l])?t+=String.fromCharCode(i[l]):(t+=String.fromCharCode(a),i[l]=a,r[a++]=l)}return t}var r=[],i={};return r[0]="",{chars1:n(e),chars2:n(t),lineArray:r}},r.prototype.diff_charsToLines_=function(e,t){for(var n=0;n<e.length;n++){for(var r=e[n][1],i=[],o=0;o<r.length;o++)i[o]=t[r.charCodeAt(o)];e[n][1]=i.join("")}},r.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;n<i;)e.substring(o,i)==t.substring(o,i)?(n=i,o=n):r=i,i=Math.floor((r-n)/2+n);return i},r.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,r=Math.min(e.length,t.length),i=r,o=0;n<i;)e.substring(e.length-i,e.length-o)==t.substring(t.length-i,t.length-o)?(n=i,o=n):r=i,i=Math.floor((r-n)/2+n);return i},r.prototype.diff_commonOverlap_=function(e,t){var n=e.length,r=t.length;if(0==n||0==r)return 0;n>r?e=e.substring(n-r):n<r&&(t=t.substring(0,n));var i=Math.min(n,r);if(e==t)return i;for(var o=0,a=1;;){var l=e.substring(i-a),u=t.indexOf(l);if(-1==u)return o;a+=u,0!=u&&e.substring(i-a)!=t.substring(0,a)||(o=a,a++)}},r.prototype.diff_halfMatch_=function(e,t){function n(e,t,n){for(var r,i,o,l,u=e.substring(n,n+Math.floor(e.length/4)),s=-1,c="";-1!=(s=t.indexOf(u,s+1));){var d=a.diff_commonPrefix(e.substring(n),t.substring(s)),f=a.diff_commonSuffix(e.substring(0,n),t.substring(0,s));c.length<f+d&&(c=t.substring(s-f,s)+t.substring(s,s+d),r=e.substring(0,n-f),i=e.substring(n+d),o=t.substring(0,s-f),l=t.substring(s+d))}return 2*c.length>=e.length?[r,i,o,l,c]:null}if(this.Diff_Timeout<=0)return null;var r=e.length>t.length?e:t,i=e.length>t.length?t:e;if(r.length<4||2*i.length<r.length)return null;var o,a=this,l=n(r,i,Math.ceil(r.length/4)),u=n(r,i,Math.ceil(r.length/2));if(!l&&!u)return null;o=u?l&&l[4].length>u[4].length?l:u:l;var s,c,d,f;return e.length>t.length?(s=o[0],c=o[1],d=o[2],f=o[3]):(d=o[0],f=o[1],s=o[2],c=o[3]),[s,c,d,f,o[4]]},r.prototype.diff_cleanupSemantic=function(e){for(var t=!1,n=[],r=0,l=null,u=0,s=0,c=0,d=0,f=0;u<e.length;)e[u][0]==a?(n[r++]=u,s=d,c=f,d=0,f=0,l=e[u][1]):(e[u][0]==o?d+=e[u][1].length:f+=e[u][1].length,l&&l.length<=Math.max(s,c)&&l.length<=Math.max(d,f)&&(e.splice(n[r-1],0,[i,l]),e[n[r-1]+1][0]=o,r--,r--,u=r>0?n[r-1]:-1,s=0,c=0,d=0,f=0,l=null,t=!0)),u++;for(t&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),u=1;u<e.length;){if(e[u-1][0]==i&&e[u][0]==o){var h=e[u-1][1],p=e[u][1],m=this.diff_commonOverlap_(h,p),g=this.diff_commonOverlap_(p,h);m>=g?(m>=h.length/2||m>=p.length/2)&&(e.splice(u,0,[a,p.substring(0,m)]),e[u-1][1]=h.substring(0,h.length-m),e[u+1][1]=p.substring(m),u++):(g>=h.length/2||g>=p.length/2)&&(e.splice(u,0,[a,h.substring(0,g)]),e[u-1][0]=o,e[u-1][1]=p.substring(0,p.length-g),e[u+1][0]=i,e[u+1][1]=h.substring(g),u++),u++}u++}},r.prototype.diff_cleanupSemanticLossless=function(e){function t(e,t){if(!e||!t)return 6;var n=e.charAt(e.length-1),i=t.charAt(0),o=n.match(r.nonAlphaNumericRegex_),a=i.match(r.nonAlphaNumericRegex_),l=o&&n.match(r.whitespaceRegex_),u=a&&i.match(r.whitespaceRegex_),s=l&&n.match(r.linebreakRegex_),c=u&&i.match(r.linebreakRegex_),d=s&&e.match(r.blanklineEndRegex_),f=c&&t.match(r.blanklineStartRegex_);return d||f?5:s||c?4:o&&!l&&u?3:l||u?2:o||a?1:0}for(var n=1;n<e.length-1;){if(e[n-1][0]==a&&e[n+1][0]==a){var i=e[n-1][1],o=e[n][1],l=e[n+1][1],u=this.diff_commonSuffix(i,o);if(u){var s=o.substring(o.length-u);i=i.substring(0,i.length-u),o=s+o.substring(0,o.length-u),l=s+l}for(var c=i,d=o,f=l,h=t(i,o)+t(o,l);o.charAt(0)===l.charAt(0);){i+=o.charAt(0),o=o.substring(1)+l.charAt(0),l=l.substring(1);var p=t(i,o)+t(o,l);p>=h&&(h=p,c=i,d=o,f=l)}e[n-1][1]!=c&&(c?e[n-1][1]=c:(e.splice(n-1,1),n--),e[n][1]=d,f?e[n+1][1]=f:(e.splice(n+1,1),n--))}n++}},r.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,r.whitespaceRegex_=/\s/,r.linebreakRegex_=/[\r\n]/,r.blanklineEndRegex_=/\n\r?\n$/,r.blanklineStartRegex_=/^\r?\n\r?\n/,r.prototype.diff_cleanupEfficiency=function(e){for(var t=!1,n=[],r=0,l=null,u=0,s=!1,c=!1,d=!1,f=!1;u<e.length;)e[u][0]==a?(e[u][1].length<this.Diff_EditCost&&(d||f)?(n[r++]=u,s=d,c=f,l=e[u][1]):(r=0,l=null),d=f=!1):(e[u][0]==i?f=!0:d=!0,l&&(s&&c&&d&&f||l.length<this.Diff_EditCost/2&&s+c+d+f==3)&&(e.splice(n[r-1],0,[i,l]),e[n[r-1]+1][0]=o,r--,l=null,s&&c?(d=f=!0,r=0):(r--,u=r>0?n[r-1]:-1,d=f=!1),t=!0)),u++;t&&this.diff_cleanupMerge(e)},r.prototype.diff_cleanupMerge=function(e){e.push([a,""]);for(var t,n=0,r=0,l=0,u="",s="";n<e.length;)switch(e[n][0]){case o:l++,s+=e[n][1],n++;break;case i:r++,u+=e[n][1],n++;break;case a:r+l>1?(0!==r&&0!==l&&(t=this.diff_commonPrefix(s,u),0!==t&&(n-r-l>0&&e[n-r-l-1][0]==a?e[n-r-l-1][1]+=s.substring(0,t):(e.splice(0,0,[a,s.substring(0,t)]),n++),s=s.substring(t),u=u.substring(t)),0!==(t=this.diff_commonSuffix(s,u))&&(e[n][1]=s.substring(s.length-t)+e[n][1],s=s.substring(0,s.length-t),u=u.substring(0,u.length-t))),0===r?e.splice(n-l,r+l,[o,s]):0===l?e.splice(n-r,r+l,[i,u]):e.splice(n-r-l,r+l,[i,u],[o,s]),n=n-r-l+(r?1:0)+(l?1:0)+1):0!==n&&e[n-1][0]==a?(e[n-1][1]+=e[n][1],e.splice(n,1)):n++,l=0,r=0,u="",s=""}""===e[e.length-1][1]&&e.pop();var c=!1;for(n=1;n<e.length-1;)e[n-1][0]==a&&e[n+1][0]==a&&(e[n][1].substring(e[n][1].length-e[n-1][1].length)==e[n-1][1]?(e[n][1]=e[n-1][1]+e[n][1].substring(0,e[n][1].length-e[n-1][1].length),e[n+1][1]=e[n-1][1]+e[n+1][1],e.splice(n-1,1),c=!0):e[n][1].substring(0,e[n+1][1].length)==e[n+1][1]&&(e[n-1][1]+=e[n+1][1],e[n][1]=e[n][1].substring(e[n+1][1].length)+e[n+1][1],e.splice(n+1,1),c=!0)),n++;c&&this.diff_cleanupMerge(e)},r.prototype.diff_xIndex=function(e,t){var n,r=0,a=0,l=0,u=0;for(n=0;n<e.length&&(e[n][0]!==o&&(r+=e[n][1].length),e[n][0]!==i&&(a+=e[n][1].length),!(r>t));n++)l=r,u=a;return e.length!=n&&e[n][0]===i?u:u+(t-l)},r.prototype.diff_prettyHtml=function(e){for(var t=[],n=/&/g,r=/</g,l=/>/g,u=/\n/g,s=0;s<e.length;s++){var c=e[s][0],d=e[s][1],f=d.replace(n,"&amp;").replace(r,"&lt;").replace(l,"&gt;").replace(u,"&para;<br>");switch(c){case o:t[s]='<ins style="background:#e6ffe6;">'+f+"</ins>";break;case i:t[s]='<del style="background:#ffe6e6;">'+f+"</del>";break;case a:t[s]="<span>"+f+"</span>"}}return t.join("")},r.prototype.diff_text1=function(e){for(var t=[],n=0;n<e.length;n++)e[n][0]!==o&&(t[n]=e[n][1]);return t.join("")},r.prototype.diff_text2=function(e){for(var t=[],n=0;n<e.length;n++)e[n][0]!==i&&(t[n]=e[n][1]);return t.join("")},r.prototype.diff_levenshtein=function(e){for(var t=0,n=0,r=0,l=0;l<e.length;l++){var u=e[l][0],s=e[l][1];switch(u){case o:n+=s.length;break;case i:r+=s.length;break;case a:t+=Math.max(n,r),n=0,r=0}}return t+=Math.max(n,r)},r.prototype.diff_toDelta=function(e){for(var t=[],n=0;n<e.length;n++)switch(e[n][0]){case o:t[n]="+"+encodeURI(e[n][1]);break;case i:t[n]="-"+e[n][1].length;break;case a:t[n]="="+e[n][1].length}return t.join("\t").replace(/%20/g," ")},r.prototype.diff_fromDelta=function(e,t){for(var n=[],r=0,l=0,u=t.split(/\t/g),s=0;s<u.length;s++){var c=u[s].substring(1);switch(u[s].charAt(0)){case"+":try{n[r++]=[o,decodeURI(c)]}catch(e){throw new Error("Illegal escape in diff_fromDelta: "+c)}break;case"-":case"=":var d=parseInt(c,10);if(isNaN(d)||d<0)throw new Error("Invalid number in diff_fromDelta: "+c);var f=e.substring(l,l+=d);"="==u[s].charAt(0)?n[r++]=[a,f]:n[r++]=[i,f];break;default:if(u[s])throw new Error("Invalid diff operation in diff_fromDelta: "+u[s])}}if(l!=e.length)throw new Error("Delta length ("+l+") does not equal source text length ("+e.length+").");return n},r.prototype.match_main=function(e,t,n){if(null==e||null==t||null==n)throw new Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,e.length)),e==t?0:e.length?e.substring(n,n+t.length)==t?n:this.match_bitap_(e,t,n):-1},r.prototype.match_bitap_=function(e,t,n){function r(e,r){var i=e/t.length,a=Math.abs(n-r);return o.Match_Distance?i+a/o.Match_Distance:a?1:i}if(t.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var i=this.match_alphabet_(t),o=this,a=this.Match_Threshold,l=e.indexOf(t,n);-1!=l&&(a=Math.min(r(0,l),a),-1!=(l=e.lastIndexOf(t,n+t.length))&&(a=Math.min(r(0,l),a)));var u=1<<t.length-1;l=-1;for(var s,c,d,f=t.length+e.length,h=0;h<t.length;h++){for(s=0,c=f;s<c;)r(h,n+c)<=a?s=c:f=c,c=Math.floor((f-s)/2+s);f=c;var p=Math.max(1,n-c+1),m=Math.min(n+c,e.length)+t.length,g=Array(m+2);g[m+1]=(1<<h)-1;for(var v=m;v>=p;v--){var b=i[e.charAt(v-1)];if(g[v]=0===h?(g[v+1]<<1|1)&b:(g[v+1]<<1|1)&b|(d[v+1]|d[v])<<1|1|d[v+1],g[v]&u){var _=r(h,v-1);if(_<=a){if(a=_,!((l=v-1)>n))break;p=Math.max(1,2*n-l)}}}if(r(h+1,n)>a)break;d=g}return l},r.prototype.match_alphabet_=function(e){for(var t={},n=0;n<e.length;n++)t[e.charAt(n)]=0;for(var n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t},r.prototype.patch_addContext_=function(e,t){if(0!=t.length){for(var n=t.substring(e.start2,e.start2+e.length1),r=0;t.indexOf(n)!=t.lastIndexOf(n)&&n.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)r+=this.Patch_Margin,n=t.substring(e.start2-r,e.start2+e.length1+r);r+=this.Patch_Margin;var i=t.substring(e.start2-r,e.start2);i&&e.diffs.unshift([a,i]);var o=t.substring(e.start2+e.length1,e.start2+e.length1+r);o&&e.diffs.push([a,o]),e.start1-=i.length,e.start2-=i.length,e.length1+=i.length+o.length,e.length2+=i.length+o.length}},r.prototype.patch_make=function(e,t,n){var l,u;if("string"==typeof e&&"string"==typeof t&&void 0===n)l=e,u=this.diff_main(l,t,!0),u.length>2&&(this.diff_cleanupSemantic(u),this.diff_cleanupEfficiency(u));else if(e&&"object"==typeof e&&void 0===t&&void 0===n)u=e,l=this.diff_text1(u);else if("string"==typeof e&&t&&"object"==typeof t&&void 0===n)l=e,u=t;else{if("string"!=typeof e||"string"!=typeof t||!n||"object"!=typeof n)throw new Error("Unknown call format to patch_make.");l=e,u=n}if(0===u.length)return[];for(var s=[],c=new r.patch_obj,d=0,f=0,h=0,p=l,m=l,g=0;g<u.length;g++){var v=u[g][0],b=u[g][1];switch(d||v===a||(c.start1=f,c.start2=h),v){case o:c.diffs[d++]=u[g],c.length2+=b.length,m=m.substring(0,h)+b+m.substring(h);break;case i:c.length1+=b.length,c.diffs[d++]=u[g],m=m.substring(0,h)+m.substring(h+b.length);break;case a:b.length<=2*this.Patch_Margin&&d&&u.length!=g+1?(c.diffs[d++]=u[g],c.length1+=b.length,c.length2+=b.length):b.length>=2*this.Patch_Margin&&d&&(this.patch_addContext_(c,p),s.push(c),c=new r.patch_obj,d=0,p=m,f=h)}v!==o&&(f+=b.length),v!==i&&(h+=b.length)}return d&&(this.patch_addContext_(c,p),s.push(c)),s},r.prototype.patch_deepCopy=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n],o=new r.patch_obj;o.diffs=[];for(var a=0;a<i.diffs.length;a++)o.diffs[a]=i.diffs[a].slice();o.start1=i.start1,o.start2=i.start2,o.length1=i.length1,o.length2=i.length2,t[n]=o}return t},r.prototype.patch_apply=function(e,t){if(0==e.length)return[t,[]];e=this.patch_deepCopy(e);var n=this.patch_addPadding(e);t=n+t+n,this.patch_splitMax(e);for(var r=0,l=[],u=0;u<e.length;u++){var s,c=e[u].start2+r,d=this.diff_text1(e[u].diffs),f=-1;if(d.length>this.Match_MaxBits?-1!=(s=this.match_main(t,d.substring(0,this.Match_MaxBits),c))&&(-1==(f=this.match_main(t,d.substring(d.length-this.Match_MaxBits),c+d.length-this.Match_MaxBits))||s>=f)&&(s=-1):s=this.match_main(t,d,c),-1==s)l[u]=!1,r-=e[u].length2-e[u].length1;else{l[u]=!0,r=s-c;var h;if(h=-1==f?t.substring(s,s+d.length):t.substring(s,f+this.Match_MaxBits),d==h)t=t.substring(0,s)+this.diff_text2(e[u].diffs)+t.substring(s+d.length);else{var p=this.diff_main(d,h,!1);if(d.length>this.Match_MaxBits&&this.diff_levenshtein(p)/d.length>this.Patch_DeleteThreshold)l[u]=!1;else{this.diff_cleanupSemanticLossless(p);for(var m,g=0,v=0;v<e[u].diffs.length;v++){var b=e[u].diffs[v];b[0]!==a&&(m=this.diff_xIndex(p,g)),b[0]===o?t=t.substring(0,s+m)+b[1]+t.substring(s+m):b[0]===i&&(t=t.substring(0,s+m)+t.substring(s+this.diff_xIndex(p,g+b[1].length))),b[0]!==i&&(g+=b[1].length)}}}}}return t=t.substring(n.length,t.length-n.length),[t,l]},r.prototype.patch_addPadding=function(e){for(var t=this.Patch_Margin,n="",r=1;r<=t;r++)n+=String.fromCharCode(r);for(var r=0;r<e.length;r++)e[r].start1+=t,e[r].start2+=t;var i=e[0],o=i.diffs;if(0==o.length||o[0][0]!=a)o.unshift([a,n]),i.start1-=t,i.start2-=t,i.length1+=t,i.length2+=t;else if(t>o[0][1].length){var l=t-o[0][1].length;o[0][1]=n.substring(o[0][1].length)+o[0][1],i.start1-=l,i.start2-=l,i.length1+=l,i.length2+=l}if(i=e[e.length-1],o=i.diffs,0==o.length||o[o.length-1][0]!=a)o.push([a,n]),i.length1+=t,i.length2+=t;else if(t>o[o.length-1][1].length){var l=t-o[o.length-1][1].length;o[o.length-1][1]+=n.substring(0,l),i.length1+=l,i.length2+=l}return n},r.prototype.patch_splitMax=function(e){for(var t=this.Match_MaxBits,n=0;n<e.length;n++)if(!(e[n].length1<=t)){var l=e[n];e.splice(n--,1);for(var u=l.start1,s=l.start2,c="";0!==l.diffs.length;){var d=new r.patch_obj,f=!0;for(d.start1=u-c.length,d.start2=s-c.length,""!==c&&(d.length1=d.length2=c.length,d.diffs.push([a,c]));0!==l.diffs.length&&d.length1<t-this.Patch_Margin;){var h=l.diffs[0][0],p=l.diffs[0][1];h===o?(d.length2+=p.length,s+=p.length,d.diffs.push(l.diffs.shift()),f=!1):h===i&&1==d.diffs.length&&d.diffs[0][0]==a&&p.length>2*t?(d.length1+=p.length,u+=p.length,f=!1,d.diffs.push([h,p]),l.diffs.shift()):(p=p.substring(0,t-d.length1-this.Patch_Margin),d.length1+=p.length,u+=p.length,h===a?(d.length2+=p.length,s+=p.length):f=!1,d.diffs.push([h,p]),p==l.diffs[0][1]?l.diffs.shift():l.diffs[0][1]=l.diffs[0][1].substring(p.length))}c=this.diff_text2(d.diffs),c=c.substring(c.length-this.Patch_Margin);var m=this.diff_text1(l.diffs).substring(0,this.Patch_Margin);""!==m&&(d.length1+=m.length,d.length2+=m.length,0!==d.diffs.length&&d.diffs[d.diffs.length-1][0]===a?d.diffs[d.diffs.length-1][1]+=m:d.diffs.push([a,m])),f||e.splice(++n,0,d)}}},r.prototype.patch_toText=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=e[n];return t.join("")},r.prototype.patch_fromText=function(e){var t=[];if(!e)return t;for(var n=e.split("\n"),l=0,u=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;l<n.length;){var s=n[l].match(u);if(!s)throw new Error("Invalid patch string: "+n[l]);var c=new r.patch_obj;for(t.push(c),c.start1=parseInt(s[1],10),""===s[2]?(c.start1--,c.length1=1):"0"==s[2]?c.length1=0:(c.start1--,c.length1=parseInt(s[2],10)),c.start2=parseInt(s[3],10),""===s[4]?(c.start2--,c.length2=1):"0"==s[4]?c.length2=0:(c.start2--,c.length2=parseInt(s[4],10)),l++;l<n.length;){var d=n[l].charAt(0);try{var f=decodeURI(n[l].substring(1))}catch(e){throw new Error("Illegal escape in patch_fromText: "+f)}if("-"==d)c.diffs.push([i,f]);else if("+"==d)c.diffs.push([o,f]);else if(" "==d)c.diffs.push([a,f]);else{if("@"==d)break;if(""!==d)throw new Error('Invalid patch mode "'+d+'" in: '+f)}l++}}return t},r.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},r.patch_obj.prototype.toString=function(){var e,t;e=0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1,t=0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2;for(var n,r=["@@ -"+e+" +"+t+" @@\n"],l=0;l<this.diffs.length;l++){switch(this.diffs[l][0]){case o:n="+";break;case i:n="-";break;case a:n=" "}r[l+1]=n+encodeURI(this.diffs[l][1])+"\n"}return r.join("").replace(/%20/g," ")},e.exports=r,e.exports.diff_match_patch=r,e.exports.DIFF_DELETE=i,e.exports.DIFF_INSERT=o,e.exports.DIFF_EQUAL=a},1431:function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},1432:function(e,t,n){function r(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!l.string(t))throw new TypeError("Second argument must be a String");if(!l.fn(n))throw new TypeError("Third argument must be a Function");if(l.node(e))return i(e,t,n);if(l.nodeList(e))return o(e,t,n);if(l.string(e))return a(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function i(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}function o(e,t,n){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,n)})}}}function a(e,t,n){return u(document.body,e,t,n)}var l=n(1431),u=n(1421);e.exports=r},1433:function(e,t,n){(function(t){var n,n;!function(t){e.exports=t()}(function(){return function e(t,r,i){function o(l,u){if(!r[l]){if(!t[l]){var s="function"==typeof n&&n;if(!u&&s)return n(l,!0);if(a)return a(l,!0);var c=new Error("Cannot find module '"+l+"'");throw c.code="MODULE_NOT_FOUND",c}var d=r[l]={exports:{}};t[l][0].call(d.exports,function(e){var n=t[l][1][e];return o(n||e)},d,d.exports,e,t,r,i)}return r[l].exports}for(var a="function"==typeof n&&n,l=0;l<i.length;l++)o(i[l]);return o}({1:[function(e,n,r){(function(e){"use strict";function t(){c=!0;for(var e,t,n=d.length;n;){for(t=d,d=[],e=-1;++e<n;)t[e]();n=d.length}c=!1}function r(e){1!==d.push(e)||c||i()}var i,o=e.MutationObserver||e.WebKitMutationObserver;if(o){var a=0,l=new o(t),u=e.document.createTextNode("");l.observe(u,{characterData:!0}),i=function(){u.data=a=++a%2}}else if(e.setImmediate||void 0===e.MessageChannel)i="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var n=e.document.createElement("script");n.onreadystatechange=function(){t(),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},e.document.documentElement.appendChild(n)}:function(){setTimeout(t,0)};else{var s=new e.MessageChannel;s.port1.onmessage=t,i=function(){s.port2.postMessage(0)}}var c,d=[];n.exports=r}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)})}).call(t,n(26))},1438:function(e,t,n){"use strict";function r(){}function i(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=b,this.queue=[],this.outcome=void 0,e!==r&&u(this,e)}function o(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function a(e,t,n){p(function(){var r;try{r=t(n)}catch(t){return m.reject(e,t)}r===e?m.reject(e,new TypeError("Cannot resolve promise with itself")):m.resolve(e,r)})}function l(e){var t=e&&e.then;if(e&&"object"==typeof e&&"function"==typeof t)return function(){t.apply(e,arguments)}}function u(e,t){function n(t){o||(o=!0,m.reject(e,t))}function r(t){o||(o=!0,m.resolve(e,t))}function i(){t(r,n)}var o=!1,a=s(i);"error"===a.status&&n(a.value)}function s(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}function c(e){return e instanceof this?e:m.resolve(new this(r),e)}function d(e){var t=new this(r);return m.reject(t,e)}function f(e){function t(e,t){function r(e){a[t]=e,++l!==i||o||(o=!0,m.resolve(s,a))}n.resolve(e).then(r,function(e){o||(o=!0,m.reject(s,e))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var i=e.length,o=!1;if(!i)return this.resolve([]);for(var a=new Array(i),l=0,u=-1,s=new this(r);++u<i;)t(e[u],u);return s}function h(e){function t(e){n.resolve(e).then(function(e){o||(o=!0,m.resolve(l,e))},function(e){o||(o=!0,m.reject(l,e))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var i=e.length,o=!1;if(!i)return this.resolve([]);for(var a=-1,l=new this(r);++a<i;)t(e[a]);return l}var p=n(1433),m={},g=["REJECTED"],v=["FULFILLED"],b=["PENDING"];e.exports=i,i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){if("function"!=typeof e&&this.state===v||"function"!=typeof t&&this.state===g)return this;var n=new this.constructor(r);if(this.state!==b){a(n,this.state===v?e:t,this.outcome)}else this.queue.push(new o(n,e,t));return n},o.prototype.callFulfilled=function(e){m.resolve(this.promise,e)},o.prototype.otherCallFulfilled=function(e){a(this.promise,this.onFulfilled,e)},o.prototype.callRejected=function(e){m.reject(this.promise,e)},o.prototype.otherCallRejected=function(e){a(this.promise,this.onRejected,e)},m.resolve=function(e,t){var n=s(l,t);if("error"===n.status)return m.reject(e,n.value);var r=n.value;if(r)u(e,r);else{e.state=v,e.outcome=t;for(var i=-1,o=e.queue.length;++i<o;)e.queue[i].callFulfilled(t)}return e},m.reject=function(e,t){e.state=g,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},i.resolve=c,i.reject=d,i.all=f,i.race=h},1559:function(e,t,n){"use strict";function r(e){var t=this;t._worker=e,t._callbacks={},e.addEventListener("message",function(e){var n=JSON.parse(e.data),r=n[0],i=n[1],o=n[2],a=t._callbacks[r];a&&(delete t._callbacks[r],a(i,o))})}var i="undefined"!=typeof Promise?Promise:n(1438),o=0;r.prototype.postMessage=function(e){var t=this,n=o++,r=[n,e];return new i(function(e,i){t._callbacks[n]=function(t,n){if(t)return i(new Error(t.message));e(n)},t._worker.postMessage(JSON.stringify(r))})},e.exports=r},157:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Skeleton=t.size=void 0;var i=n(1067);Object.defineProperty(t,"Skeleton",{enumerable:!0,get:function(){return r(i).default}});var o=n(1066),a=r(o);t.default=a.default,t.size=o.size},1579:function(e,t,n){var r,i,o;!function(n,a){i=[],r=a,void 0!==(o="function"==typeof r?r.apply(t,i):r)&&(e.exports=o)}(0,function(){var e=null;return function(){if(null!==e)return e;if("loading"!==window.document.readyState){var t,n;return t=window.document.createElement("div"),n=window.document.createElement("div"),t.style.width="100px",t.style.overflowX="scroll",n.style.width="100px",window.document.body.appendChild(t),window.document.body.appendChild(n),e=t.offsetHeight-n.offsetHeight,window.document.body.removeChild(t),window.document.body.removeChild(n),e}}})},158:function(e,t,n){"use strict";var r=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.DN600A=t.DN700A=t.DN800A=t.DN0=t.DN10=t.DN20=t.DN30=t.DN40=t.DN50=t.DN60=t.DN70=t.DN80=t.DN90=t.DN100=t.DN200=t.DN300=t.DN400=t.DN500=t.DN600=t.DN700=t.DN800=t.DN900=t.N800A=t.N700A=t.N600A=t.N500A=t.N400A=t.N300A=t.N200A=t.N100A=t.N90A=t.N80A=t.N70A=t.N60A=t.N50A=t.N40A=t.N30A=t.N20A=t.N10A=t.N900=t.N800=t.N700=t.N600=t.N500=t.N400=t.N300=t.N200=t.N100=t.N90=t.N80=t.N70=t.N60=t.N50=t.N40=t.N30=t.N20=t.N10=t.N0=t.T500=t.T400=t.T300=t.T200=t.T100=t.T75=t.T50=t.P500=t.P400=t.P300=t.P200=t.P100=t.P75=t.P50=t.B500=t.B400=t.B300=t.B200=t.B100=t.B75=t.B50=t.G500=t.G400=t.G300=t.G200=t.G100=t.G75=t.G50=t.Y500=t.Y400=t.Y300=t.Y200=t.Y100=t.Y75=t.Y50=t.R500=t.R400=t.R300=t.R200=t.R100=t.R75=t.R50=void 0,t.colorPalette=t.colorPalette24=t.colorPalette16=t.colorPalette8=t.green=t.yellow=t.red=t.purple=t.teal=t.blue=t.primary=t.linkOutline=t.linkActive=t.linkHover=t.link=t.codeBlock=t.subtleHeading=t.heading=t.placeholderText=t.subtleText=t.textActive=t.textHover=t.text=t.backgroundOnLayer=t.backgroundHover=t.backgroundActive=t.background=t.DN10A=t.DN20A=t.DN30A=t.DN40A=t.DN50A=t.DN60A=t.DN70A=t.DN80A=t.DN90A=t.DN100A=t.DN200A=t.DN300A=t.DN400A=t.DN500A=void 0;var i=r(n(48)),o=r(n(264));t.R50="#FFEBE6",t.R75="#FFBDAD";var a="#FF8F73";t.R100=a,t.R200="#FF7452";var l="#FF5630";t.R300=l;var u="#DE350B";t.R400=u;var s="#BF2600";t.R500=s,t.Y50="#FFFAE6";var c="#FFF0B3";t.Y75=c,t.Y100="#FFE380";var d="#FFC400";t.Y200=d;var f="#FFAB00";t.Y300=f;var h="#FF991F";t.Y400=h,t.Y500="#FF8B00";var p="#E3FCEF";t.G50=p,t.G75="#ABF5D1";var m="#79F2C0";t.G100=m,t.G200="#57D9A3";var g="#36B37E";t.G300=g;var v="#00875A";t.G400=v;var b="#006644";t.G500=b;var _="#DEEBFF";t.B50=_;var y="#B3D4FF";t.B75=y;var w="#4C9AFF";t.B100=w;var k="#2684FF";t.B200=k;var x="#0065FF";t.B300=x;var E="#0052CC";t.B400=E;var C="#0747A6";t.B500=C;var P="#EAE6FF";t.P50=P;var O="#C0B6F2";t.P75=O;var S="#998DD9";t.P100=S,t.P200="#8777D9";var T="#6554C0";t.P300=T;var D="#5243AA";t.P400=D;var M="#403294";t.P500=M,t.T50="#E6FCFF";var A="#B3F5FF";t.T75=A;var N="#79E2F2";t.T100=N;var j="#00C7E6";t.T200=j;var R="#00B8D9";t.T300=R,t.T400="#00A3BF",t.T500="#008DA6";var B="#FFFFFF";t.N0=B,t.N10="#FAFBFC";var L="#F4F5F7";t.N20=L;var F="#EBECF0";t.N30=F;var I="#DFE1E6";t.N40=I;var q="#C1C7D0";t.N50=q,t.N60="#B3BAC5";var $="#A5ADBA";t.N70=$,t.N80="#97A0AF",t.N90="#8993A4";var U="#7A869A";t.N100=U;var H="#6B778C";t.N200=H,t.N300="#5E6C84",t.N400="#505F79";var z="#42526E";t.N500=z,t.N600="#344563",t.N700="#253858";var W="#172B4D";t.N800=W;var V="#091E42";t.N900=V,t.N10A="rgba(9, 30, 66, 0.02)",t.N20A="rgba(9, 30, 66, 0.04)",t.N30A="rgba(9, 30, 66, 0.08)",t.N40A="rgba(9, 30, 66, 0.13)",t.N50A="rgba(9, 30, 66, 0.25)",t.N60A="rgba(9, 30, 66, 0.31)",t.N70A="rgba(9, 30, 66, 0.36)",t.N80A="rgba(9, 30, 66, 0.42)",t.N90A="rgba(9, 30, 66, 0.48)",t.N100A="rgba(9, 30, 66, 0.54)",t.N200A="rgba(9, 30, 66, 0.60)",t.N300A="rgba(9, 30, 66, 0.66)",t.N400A="rgba(9, 30, 66, 0.71)",t.N500A="rgba(9, 30, 66, 0.77)",t.N600A="rgba(9, 30, 66, 0.82)",t.N700A="rgba(9, 30, 66, 0.89)",t.N800A="rgba(9, 30, 66, 0.95)",t.DN900="#E6EDFA",t.DN800="#DCE5F5",t.DN700="#CED9EB";var G="#B8C7E0";t.DN600=G,t.DN500="#ABBBD6",t.DN400="#9FB0CC";var Q="#8C9CB8";t.DN300=Q;var Y="#7988A3";t.DN200=Y,t.DN100="#67758F",t.DN90="#56637A",t.DN80="#455166";var K="#3B475C";t.DN70=K,t.DN60="#313D52";var J="#283447";t.DN50=J,t.DN40="#202B3D";var Z="#1B2638";t.DN30=Z,t.DN20="#121A29",t.DN10="#0E1624",t.DN0="#0D1424",t.DN800A="rgba(13, 20, 36, 0.06)",t.DN700A="rgba(13, 20, 36, 0.14)",t.DN600A="rgba(13, 20, 36, 0.18)",t.DN500A="rgba(13, 20, 36, 0.29)",t.DN400A="rgba(13, 20, 36, 0.36)",t.DN300A="rgba(13, 20, 36, 0.40)",t.DN200A="rgba(13, 20, 36, 0.47)",t.DN100A="rgba(13, 20, 36, 0.53)",t.DN90A="rgba(13, 20, 36, 0.63)",t.DN80A="rgba(13, 20, 36, 0.73)",t.DN70A="rgba(13, 20, 36, 0.78)",t.DN60A="rgba(13, 20, 36, 0.81)",t.DN50A="rgba(13, 20, 36, 0.85)",t.DN40A="rgba(13, 20, 36, 0.89)",t.DN30A="rgba(13, 20, 36, 0.92)",t.DN20A="rgba(13, 20, 36, 0.95)",t.DN10A="rgba(13, 20, 36, 0.97)";var X=(0,o.default)({light:B,dark:Z});t.background=X;var ee=(0,o.default)({light:_,dark:y});t.backgroundActive=ee;var te=(0,o.default)({light:F,dark:K});t.backgroundHover=te;var ne=(0,o.default)({light:B,dark:J});t.backgroundOnLayer=ne;var re=(0,o.default)({light:V,dark:G});t.text=re;var ie=(0,o.default)({light:W,dark:G});t.textHover=ie;var oe=(0,o.default)({light:E,dark:E});t.textActive=oe;var ae=(0,o.default)({light:H,dark:Q});t.subtleText=ae;var le=(0,o.default)({light:U,dark:Y});t.placeholderText=le;var ue=(0,o.default)({light:W,dark:G});t.heading=ue;var se=(0,o.default)({light:H,dark:Q});t.subtleHeading=se;var ce=(0,o.default)({light:L,dark:J});t.codeBlock=ce;var de=(0,o.default)({light:E,dark:w});t.link=de;var fe=(0,o.default)({light:x,dark:k});t.linkHover=fe;var he=(0,o.default)({light:C,dark:w});t.linkActive=he;var pe=(0,o.default)({light:w,dark:k});t.linkOutline=pe;var me=(0,o.default)({light:E,dark:w});t.primary=me;var ge=(0,o.default)({light:E,dark:w});t.blue=ge;var ve=(0,o.default)({light:R,dark:j});t.teal=ve;var be=(0,o.default)({light:T,dark:S});t.purple=be;var _e=(0,o.default)({light:l,dark:l});t.red=_e;var ye=(0,o.default)({light:f,dark:f});t.yellow=ye;var we=(0,o.default)({light:g,dark:g});t.green=we;var ke=[{background:W,text:B},{background:u,text:B},{background:D,text:P},{background:E,text:y},{background:R,text:W},{background:v,text:B},{background:h,text:W},{background:$,text:W}];t.colorPalette8=ke;var xe=ke.concat([{background:z,text:B},{background:a,text:W},{background:O,text:W},{background:w,text:W},{background:N,text:W},{background:m,text:b},{background:d,text:W},{background:B,text:W}]);t.colorPalette16=xe;var Ee=(0,i.default)(xe).concat([{background:U,text:B},{background:I,text:W},{background:q,text:s},{background:P,text:M},{background:_,text:C},{background:A,text:W},{background:p,text:b},{background:c,text:W}]);t.colorPalette24=Ee;var Ce=function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"8"){case"8":return ke;case"16":return xe;case"24":return Ee;default:throw new Error("The only available color palette is 8, 16, 24")}};t.colorPalette=Ce},1580:function(e,t){function n(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var r=window.getSelection(),i=document.createRange();i.selectNodeContents(e),r.removeAllRanges(),r.addRange(i),t=r.toString()}return t}e.exports=n},1592:function(e,t){function n(){}n.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){function r(){i.off(e,r),t.apply(n,arguments)}var i=this;return r._=t,this.on(e,r,n)},emit:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,i=n.length;for(r;r<i;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],i=[];if(r&&t)for(var o=0,a=r.length;o<a;o++)r[o].fn!==t&&r[o].fn._!==t&&i.push(r[o]);return i.length?n[e]=i:delete n[e],this}},e.exports=n},1617:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return function(){var n=t.apply(void 0,arguments);return e(n),n}}function o(e){return e&&e.links&&e.links.avatar?{avatar_url:e.links.avatar.href,display_name:e.display_name,email_address:"",is_active:!0,is_admin:!1,name:e.username,type:x.default.UserType.NORMAL}:null}function a(e,t){if(!e)return null;var n=e.user||e;return{role:t,state:e.approved?x.default.ApprovalState.APPROVED:x.default.ApprovalState.UNAPPROVED,user:o(n)}}function l(e){return a(e,x.default.UserRole.AUTHOR)}function u(e){return{role:x.default.UserRole.AUTHOR,state:x.default.ApprovalState.UNAPPROVED,user:{avatar_url:(0,_.default)("body").data("static-url")+P,display_name:e,email_address:"",is_active:!1,is_admin:!1,name:e,type:x.default.UserType.NORMAL}}}function s(e){return a(e,x.default.UserRole.REVIEWER)}function c(e){return a(e,x.default.UserRole.PARTICIPANT)}function d(e){return e?new Date(e).toISOString():null}function f(e,t,n){if(!e)return null;var r=e.branch?e.branch.name:null;return{display_id:r||"",id:r||"",is_default:r===w.default.mainbranch.name,latest_commit:e.commit&&e.commit.hash,repository:p(e.repository)||n,type:t}}function h(e){return e?{id:String(e.id),name:e.name,key:e.key,description:e.description||"",type:e.type,owner:o(e.owner),is_public:e.public||!1,avatar_url:e.avatarUrl}:null}function p(e){return e?{id:e.uuid,is_forkable:"no_forks"!==e.fork_policy,is_public:!e.is_private,name:e.name,origin:null,owner:e.owner,scm_id:"git"===e.scm?x.default.scmId.GIT:x.default.scmId.HG,slug:e.full_name.substring(e.full_name.indexOf("/")+1)}:null}function m(e){if(!w.default.mainbranch.name)throw new Error("Refs are only serializable on pages that include the main branch information in the DOM.");return{id:e.name,display_id:e.name,is_default:e.name===w.default.mainbranch.name,latest_commit:e.target.hash,repository:p(e.repository),type:O[e.type]}}function g(e,t){var n=Boolean((0,_.default)('[data-participants-flag="true"]').length);return e.reduce(function(e,r){return t&&r.user.username===t.username?e:(r.role.toLowerCase()===x.default.UserRole.REVIEWER||!n||r.approved?e.reviewers.push(s(r)):e.participants.push(c(r)),e)},{participants:[],reviewers:[]})}function v(e){if(!e)return null;var t=g(e.participants,e.author),n=t.participants,r=t.reviewers;return{author:e.author?l(e.author):u(gettext("[Deleted user]")),created_date:d(e.created_on),description:e.description,from_ref:f(e.source,x.default.RefType.BRANCH),id:String(e.id),links:e.links,participants:n,reviewers:r,state:e.state,title:e.title,to_ref:f(e.destination,x.default.RefType.BRANCH),updated_date:d(e.updated_on),version:+new Date(e.updated_on),comment_count:e.comment_count||0,task_count:e.task_count||0}}Object.defineProperty(t,"__esModule",{value:!0});var b=n(4),_=r(b),y=n(36),w=r(y),k=n(851),x=r(k),E=n(485),C=r(E),P="img/default_avatar/user_blue.svg",O={bookmark:x.default.RefType.BRANCH,branch:x.default.RefType.BRANCH,named_branch:x.default.RefType.BRANCH};t.default={date:d,user:i((0,C.default)(x.default.user),o),author:i((0,C.default)(x.default.author),l),reviewer:i((0,C.default)(x.default.reviewer),s),participant:i((0,C.default)(x.default.participant),c),ref:i((0,C.default)(x.default.ref),m),prSourceToRef:i((0,C.default)(x.default.ref),f),repository:i((0,C.default)(x.default.repository),p),project:i((0,C.default)(x.default.project),h),pullRequest:i((0,C.default)(x.default.pull_request),v),unknownUser:u},e.exports=t.default},1618:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(24);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!e.length)return{};var t={FAILED:0,INPROGRESS:0,SUCCESSFUL:0,STOPPED:0,TOTAL:e.length};e.forEach(function(e){t[e.state]++});var n="SUCCESSFUL";t.FAILED>0?n="FAILED":t.STOPPED>0?n="STOPPED":t.INPROGRESS>0&&(n="INPROGRESS");var i=(0,r.find)(e,function(e){return e.state===n}),o=i.url||"";return{state:n,counts:t,url:o}},e.exports=t.default},1621:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=new l.default.Deferred;return(0,s.default)(e,{id:"merge-"+(0,o.default)(t.destBranch,{isIdentifier:!0}),conflictUrl:t.conflictUrl,skipRedirect:t.skipRedirect||!1,getData:function(){return{action:t.action,mergeEvent:t.mergeEvent||!1,source:t.source||"{}::{}".format(t.repository,t.sourceBranch),sourceBranch:t.sourceBranch,sourceRepo:t.repository,dest:t.dest||"{}::{}".format(t.repository,t.destBranch),destBranch:t.destBranch,destRepo:t.repository,sameRepo:!0,canCloseBranch:!1,hasConflicts:t.hasConflicts,mergeCommands:t.mergeCommands||"",commitMessageSlug:t.sourceBranch,syncBranch:!!t.syncBranch,mergeStrategies:t.mergeStrategies}},success:function(){n.resolve(t.destBranch,t.sourceBranch)}}),n};var i=n(499),o=r(i),a=n(4),l=r(a),u=n(425),s=r(u);e.exports=t.default},1678:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.importReviewersPicker=void 0,t.default=function(){function e(e,t){t(p.toSelect2Data())}function t(e){g.off("respond"),g.on("respond",function(t){e.callback({results:t.results})}),g.query(e.term)}function n(e,t){t.append(x.default.toHtml("mention-result",e.toEscapedJSON()))}function r(e,t){t.append(x.default.toHtml("selected-reviewer-template",e.toJSON()))}function i(e){return e.length<h.default.MENTIONS_MIN_QUERY_LENGTH?gettext("Continue typing to search for a user"):interpolate(gettext("Found no matches for %(query)s"),{query:l.default.escape(e)},!0)}var a=(0,o.default)("#reviewers"),u=(0,o.default)(".suggested-reviewers"),c=(0,o.default)("#id_dest_repo"),f=c.length&&c.val()||d.default,p=new v.default(a.data("reviewers"),{locked:a.data("locked"),suggested:a.data("suggested"),parse:!0}),g=new s.default([],{model:_.default,matcher:function(e,t){return!!p.canAdd(e)&&e.matches(t,this)},queryEndpoint:"/xhr/mentions/repositories/"+f,queryParamKey:"term"});m.default.global.features["fabric-user-picker"]?E().then(function(e){e({$field:a,fetchUsers:function(e,n){t({callback:function(e){var t=e.results;n(t)},term:e})},reviewers:p})}):(a.auiSelect2({placeholder:gettext("Start typing to search for a user"),containerCssClass:"text long-field",dropdownCssClass:"bb-typeahead-suggestions aui-dropdown2 aui-style-default bb-user-suggestions",multiple:!0,initSelection:e,query:t,formatResult:n,formatSelection:r,formatNoMatches:i}),p.on("add remove reset",function(){a.auiSelect2("data",p.toSelect2Data())}),a.on("change",function(e){e.added&&p.add(e.added.toJSON()),e.removed&&p.remove(e.removed),p.edited=!0})),new w.default({el:u,collection:p.suggested,reviewers:p}).render(),c.on("change",function(){var e=c.val();g._queryEndpoint="/xhr/mentions/repositories/"+e,g.queryCache={},g.reset(),p.setDestination(e)})};var i=n(4),o=r(i),a=n(19),l=r(a);n(23);var u=n(474),s=r(u),c=n(36),d=r(c),f=n(726),h=r(f),p=n(63),m=r(p),g=n(3050),v=r(g),b=n(1340),_=r(b),y=n(3054),w=r(y),k=n(27),x=r(k),E=t.importReviewersPicker=function(){return new Promise(function(e){n.e(2).then(function(t){e(n(3599))}.bind(null,n)).catch(n.oe)})}},194:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Provider=t.Consumer=void 0;var r=n(0),i=(0,r.createContext)({}),o=i.Consumer,a=i.Provider;t.Provider=a,t.Consumer=o},196:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(219);t.default={api:{internal:{branchPermissions:function(e,t,n,i,o){return"/!api/internal/repositories/"+e+"/"+t+"/branch-restrictions/"+(n===r.BRANCH_MATCH_KIND.GLOB?"by-pattern/"+o:"by-branch-type/"+i)},createIssueClassifier:function(e,t,n){return"/"+e+"/"+t+"/admin/issues/"+n},updateIssueClassifier:function(e,t,n,r){return"/"+e+"/"+t+"/admin/issues/"+n+"/"+r},updateRequireIssueKey:function(e,t){return"/!api/internal/repositories/"+e+"/"+t+"/links"},repoWriters:function(e,t){return"/!api/internal/repositories/"+e+"/"+t+"/repo-writers"},repoWriterGroups:function(e,t){return"/!api/internal/repositories/"+e+"/"+t+"/repo-writer-groups"},branchingModelSettings:function(e,t){return"/!api/internal/repositories/"+e+"/"+t+"/branching-model/settings"},branches:function(e,t){return"/!api/1.0/repositories/"+e+"/"+t+"/branches-tags"}},v20:{branchPermissions:function(e,t){return"/!api/2.0/repositories/"+e+"/"+t+"/branch-restrictions"}}},external:{branchPermissionsDocumentation:function(){return"https://confluence.atlassian.com/x/z40AFw"},mergeRestrictionsDocumentation:function(){return"https://confluence.atlassian.com/x/cRNODQ#Workwithpullrequests-Mergechecklist"},premiumInformation:function(){return"https://confluence.atlassian.com/x/ZD0SMw"},branchingModelDocumentation:function(){return"https://confluence.atlassian.com/x/TwlODQ"}},ui:{branchingModel:function(e,t){return"/"+e+"/"+t+"/admin/branching-model"}}},e.exports=t.default},219:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FORM_KEY="branchPermissions",t.BRANCH_MATCH_KIND={GLOB:"glob",BRANCHING_MODEL:"branching_model"},t.BRANCH_TYPE_KIND={FEATURE:"feature",BUGFIX:"bugfix",RELEASE:"release",HOTFIX:"hotfix"},t.BRANCH_KIND={DEVELOPMENT:"development",PRODUCTION:"production"}},2310:function(e,t,n){var r,i;r=[t,e,n(4),n(207),n(485),n(580)],void 0!==(i=function(e,t,n,r,i,o){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var l=Object.getOwnPropertyDescriptor(i,o);if(void 0!==l){if("value"in l)return l.value;var u=l.get;if(void 0===u)return;return u.call(a)}var s=Object.getPrototypeOf(i);if(null===s)return;e=s,t=o,n=a,r=!0,l=s=void 0}},d=a(n),f=a(r),h=a(i),p=a(o),m=f.default.NotImplementedError,g=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=arguments.length<=1||void 0===arguments[1]?null:arguments[1];l(this,t),c(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.initialData=n,this.options.jsonDescriptor&&(this._validate=(0,h.default)(this.options.jsonDescriptor))}return u(t,e),s(t,[{key:"reset",value:function(){this.abort(),this.currentData=null,delete this.initialData,this.trigger("reset")}},{key:"abort",value:function(){this._requestPromise&&(this._requestPromise.abort(),this._requestPromise=null,this.trigger("abort"))}},{key:"fetch",value:function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?this.url:arguments[0];if(this.abort(),this.initialData&&(this.currentData=this.transform(this.initialData),delete this.initialData),this.currentData)return d.default.Deferred().resolve(this.currentData);if(this.trigger("data-requested"),this._requestPromise=this._fetch(t),!this._requestPromise.abort)throw new Error("no abort method on DataProvider#_requestPromise.");return this._requestPromise.then(this.transform,function(){return d.default.Deferred().reject(e.errorTransform.apply(e,arguments))}).done(function(t){e.trigger("data-loaded",t),e.currentData=t}).fail(function(t){e.trigger("data-request-failed",t)}).always(function(){e._requestPromise=null})}},{key:"_fetch",value:function(){throw new m}},{key:"transform",value:function(){var e=this._transform.apply(this,arguments);return this._validate(e),e}},{key:"_transform",value:function(){throw new m}},{key:"_validate",value:function(e){throw new m}},{key:"errorTransform",value:function(){return this._errorTransform.apply(this,arguments)}},{key:"_errorTransform",value:function(){throw new m}},{key:"isFetching",get:function(){return!!this._requestPromise}}]),t}(p.default);t.exports=g}.apply(t,r))&&(e.exports=i)},2311:function(e,t,n){var r,i;r=[t,e,n(23),n(4),n(24),n(1279),n(580)],void 0!==(i=function(e,t,n,r,i,o,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e){var t={};e.forEach(function(e){if(["type","id","text"].forEach(function(t){if("string"!=typeof e[t])throw new Error("Every filter needs a "+t)}),"SELECT"===e.type){var n=e.menu;if(!n)throw new Error("select filters need a menu configuration.");if(n.items){if(n.dataProvider)throw new Error("items is mutually exclusive with dataProvider.")}else if(!n.dataProvider||!n.placeholder){if(!n.dataProvider&&!n.placeholder)throw new Error("select filters need a menu with either hardcoded items or dataProvider and placeholder.");throw new Error("When items aren't provided, dataProvider and placeholder must be.")}}if("MULTISELECT"===e.type&&!w.default.has(e,"menu.items"))throw new Error("multiselect filters need a menu with items.");if(t[e.id])throw new Error("duplicated ID "+e.id);t[e.id]=e})}function d(e,t){t.click(function(){t.attr("aria-pressed",t.attr("aria-pressed")&&"false"!==t.attr("aria-pressed")?null:"true"),t.trigger("change")})}function f(e,t){var n={minimumResultsForSearch:-1},r={};t.auiSelect2(w.default.extend(n,e.menu,r))}function h(e,t){var n=e.menu,r=n.dataProvider,i=(0,y.default)(bitbucket.internal.component.filterBar.loadMore());r.__test=0;var o={minimumInputLength:0,minimumResultsForSearch:0,dropdownAutoWidth:!0,formatSearching:function(){return _.default.I18n.getText("bitbucket.component.filter.bar.searching")},formatNoMatches:function(){return _.default.I18n.getText("bitbucket.component.filter.bar.nomatches")}},a={allowClear:!0,containerCssClass:("filter-bar-async "+(n.containerCssClass||"")).trim(),dropdownCssClass:("filter-bar-async filter-bar-dropdown-"+e.id+" "+(n.dropdownCssClass||"")).trim(),query:function(e){r.setFilter("term",e.term),e.page<=1&&(i.spin(),r.reset());var t=r.fetchNext?{more:function(){return!r.reachedEnd},promise:r.fetchNext()}:{more:function(){return!1},promise:r.fetch()},o=t.more,a=t.promise,l=(0,y.default)(".select2-more-results").html(bitbucket.internal.component.filterBar.loadMore());l.spin(),a.then(function(t){l.spinStop(),i.spinStop(),e.callback({context:e.context,results:n.transform?t.map(n.transform):t,more:o()})})},formatLoadMore:function(){return" "},ajax:void 0};t.auiSelect2(w.default.extend(o,n,a)),t.on("select2-opening",function(e){t.select2("val")&&(e.preventDefault(),t.select2("val","",!0))}),e.searchPlaceholder&&!k.default.isIE()&&t.one("select2-open",function(){(0,y.default)(".filter-bar-dropdown-"+e.id+" .select2-search > input").attr("placeholder",e.searchPlaceholder).after(i)})}function p(e,t,n){t.on("aui-dropdown2-item-check aui-dropdown2-item-uncheck","aui-item-checkbox",function(){n.trigger("change")})}function m(e){return e.reduce(function(e,t){return e[t.id]=t.text,e},{})}function g(e,t,n,r){var i=(0,y.default)('[aria-owns="'+e+'"], [aria-controls="'+e+'"]');if(!t.length)return void i.text(r);var o=m(n),a=t.map(function(e){return o[e]}),l=3,u=t.length>l?a.slice(0,l).join(", ")+", +"+(t.length-l):a.join(", ");i.text(u)}var v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var l=Object.getOwnPropertyDescriptor(i,o);if(void 0!==l){if("value"in l)return l.value;var u=l.get;if(void 0===u)return;return u.call(a)}var s=Object.getPrototypeOf(i);if(null===s)return;e=s,t=o,n=a,r=!0,l=s=void 0}},_=l(n),y=l(r),w=l(i),k=l(o),x=l(a),E={SELECT:"SELECT",TOGGLE:"TOGGLE",MULTISELECT:"MULTISELECT"},C=function(e){function t(e,n){var r=this;u(this,t),b(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,n),c(n.filters);var i=this._$filterBar=(0,y.default)(bitbucket.internal.component.filterBar.main({id:n.id,filters:n.filters.map(function(e){return e.menu&&e.menu.items&&e.menu.transform?(e=w.default.deepClone(e),e.menu.items=e.menu.items.map(e.menu.transform),e):e}),query:n.query}));n.filters.forEach(function(e){var t=i.find("#"+e.id);switch(e.type){case E.TOGGLE:d(e,t);break;case E.SELECT:e.menu.items?f(e,t):h(e,t);break;case E.MULTISELECT:p(e,t,i)}}),(0,y.default)(e).append(i),n.query?function(){var e=function(e){e.length>0?(o.hide(),t.show(),l.addClass("expanded")):(t.hide(),o.show(),document.activeElement!==a&&l.removeClass("expanded"))},t=(0,y.default)(".query-clear-icon"),o=(0,y.default)(".query-search-icon"),a=document.getElementById(n.query.id),l=(0,y.default)(a);(0,y.default)("#query-form").on("submit",function(e){return e.preventDefault()}),o.on("click",function(){return l.focus()}),t.on("click",function(){l.val(""),l.trigger("keyup"),l.blur()}),l.on("focus",function(){return l.addClass("expanded")}),l.on("blur",function(){return e(l.val())});var u=l.val();e(u);var s=w.default.debounce(function(){return r.trigger("change")},n.query.debounce);l.on("keyup",function(){var t=l.val();t!==u&&(e(t),u=t,s())}),i.on("change",function(e){e.target!==a&&r.trigger("change")})}():i.on("change",function(){r.trigger("change")}),this.on("change",function(){r.options.filters.filter(function(e){return e.type===E.MULTISELECT}).forEach(function(e){g(e.id,r.state[e.id],e.menu.items,e.text)})})}return s(t,e),v(t,[{key:"state",get:function(){var e=w.default.transform(this.options.filters,function(e,t){var n=(0,y.default)(document.getElementById(t.id));t.type===E.TOGGLE?e[t.id]=!!n.attr("aria-pressed")&&"false"!==n.attr("aria-pressed"):t.type===E.SELECT?e[t.id]=n.val():t.type===E.MULTISELECT&&(e[t.id]=n.find("aui-item-checkbox[checked]").map(function(e,t){return t.dataset.value}).get())},{});return this.options.query&&(e[this.options.query.id]=this._$filterBar.find("#"+this.options.query.id).val()),e},set:function(e){w.default.map(e,function(e,t){var n=(0,y.default)(document.getElementById(t));n.length&&(n.is("button")?n.attr("aria-pressed",e):n.is("aui-dropdown-menu")?n.find("aui-item-checkbox").each(function(t,n){var r=(0,y.default)(n);-1===e.indexOf(r.attr("data-value"))?r.removeAttr("checked"):r.attr("checked",!0)}):n.select2("val",e))}),this.options.query&&this._$filterBar.find("#"+this.options.query.id).val(e[this.options.query.id]),this.trigger("change")}}],[{key:"Types",get:function(){return E}}]),t}(x.default);t.exports=C}.apply(t,r))&&(e.exports=i)},241:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=r(i),a=n(19),l=r(a);n(23);var u=n(167),s=r(u),c=function(e,t,n,r,i){this.url=e,this.diff=r,this.identifier=t,this.showComments=!!n,this.commentUrlRoot=i,this.$elem=null};c.prototype.tipsySettings_={title:function(){return gettext("Show more lines")},delayIn:500,gravity:"s",offset:-3,live:!0},c.prototype.decorate=function(e){this.$elem=e,this.enterDocument(),this.loadHiddenContextComments()},c.prototype.enterDocument=function(){this.$elem.on("click",".skipped-container .ellipsis",o.default.proxy(this.expand,this)),this.$elem.find(".skipped-container .ellipsis").tooltip(this.tipsySettings_)},c.prototype.loadHiddenContextComments=function(){var e=this.$elem.data("linecommentroots")||{},t=this;l.default.each(l.default.keys(e),function(n){if(!(0,o.default)("#comment-{}".format(n)).length){var r=e[n],i=t.$elem.find(".skipped-container"),a=l.default.find(i,function(e){var n=(0,o.default)(e),i=t.data(n);return r.line_from?i.above_fnum>r.line_from||!i.above_fnum:i.above_tnum>r.line_to||!i.above_tnum});(0,o.default)(a).find(".ellipsis").trigger("click",r)}})},c.prototype.expand=function(e,t){e.preventDefault(),this.$elem.find(".skipped-container .ellipsis").tooltip("hide");var n=(0,o.default)(e.target).closest(".skipped-container");if(!n.hasClass("disabled")){n.addClass("disabled");var r=setTimeout(function(){n.addClass("loading")},300),i=function(){clearTimeout(r),n.removeClass("disabled loading")},a=this;o.default.ajax({url:a.url,data:a.data(n,t),dataType:"json",complete:i,statusCode:{200:function(e){var t=n.closest(".bb-udiff"),r=t.attr("data-filename"),i=(0,o.default)(e.lines);if((0,o.default)(".tipsy").remove(),a.setPermalinks(i),n.replaceWith(i),e.thread_ids){var l=s.default.decorateThreads(a.commentUrlRoot,e.thread_ids,r);a.diff&&a.diff.acceptLineComments(l)}t.trigger("context-expander/load",e)},204:function(){n.remove()}}})}},c.prototype.data=function(e,t){var n=e.prevAll(".udiff-line:first").find(".line-numbers"),r=e.next().find(".line-numbers"),i=this.$elem.data("rename-info")||{},o=!!this.$elem.data("ignore-whitespace"),a={};return n.length&&(a.below_fnum=n.data("fnum"),a.below_tnum=n.data("tnum")),r.length&&(a.above_fnum=r.data("fnum"),a.above_tnum=r.data("tnum")),t&&(t.line_from&&(a.include_fnum=t.line_from),t.line_to&&(a.include_tnum=t.line_to)),this.showComments||(a.nocomments=!0),o&&(a.w="1"),a.srcpath=i.srcpath,a},c.prototype.setPermalinks=function(e){var t=/(F\d+)?(T\d+)?$/,n=this.identifier;e.find(".line-numbers").each(function(){var e=(0,o.default)(this).closest(".gutter"),r=e.attr("id"),i=r.match(t);if(i[1]||i[2]){var a="L"+n;i[1]&&(a+=i[1]),i[2]&&(a+=i[2]),e.attr({id:a,href:"#"+a})}})},t.default=c,e.exports=t.default},264:function(e,t,n){"use strict";function r(e,t){return function(n){var r=(0,a.default)(n);if(n&&n[e]&&t){var i=t[n[e]];if(i)return i[r.mode]}return""}}function i(e,t){if("string"==typeof e)return r(e,t);var n=e;return function(e){var t=(0,a.default)(e);return n[t.mode]}}var o=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=o(n(484))},2876:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(3682),s=r(u),c=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t);for(var r=arguments.length,a=Array(r>1?r-1:0),l=1;l<r;l++)a[l-1]=arguments[l];var u=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this,n].concat(a)));return n.builder&&(u._baseBuilder=n.builder),u}return a(t,e),l(t,[{key:"_getBuilder",value:function(){return this._baseBuilder}},{key:"_fetchNext",value:function(e){var t=this._getBuilder();if(!t)throw new Error("A base builder must be provided.");return this._fetch(e&&e.next?e.next:t.build())}},{key:"_reachedEnd",value:function(e){return e&&!e.next}}]),t}(s.default);t.default=c,e.exports=t.default},2877:function(e,t,n){"use strict";function r(e,t){try{return e(t)}catch(e){return o}}function i(e,t){return e.map(function(e){return r(t,e)}).filter(function(e){return e!==o})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o={};e.exports=t.default},2880:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1285),o=r(i);t.default=function(e){var t=e.data("state"),n=e.data("status-counts"),r=e.data("total-count");e.text((0,o.default)(t,n,r))},e.exports=t.default},2881:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return"branch-build-status-source"===e.attr("id")?"source":"destination"}function o(e,t){if(e.length&&t.branch&&t.repo){var n=i(e);f[n]&&(f[n].xhr.abort(),delete f[n]),e.nextAll().remove();var r="/!api/internal/repositories/"+t.repo+"/branch/statuses/"+t.branch,o=l.default.getJSON(r).success(function(t){var i=(0,d.default)(t.values),o=i.state,a=i.counts,l=i.url;o&&(0,s.default)(e,{defaultBuildUrl:l,dialogDataUrl:r,state:o,statusCounts:a,totalCount:a.TOTAL}),delete f[n]});f[n]=o}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(4),l=r(a),u=n(713),s=r(u),c=n(1618),d=r(c),f=[];e.exports=t.default},2901:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){function n(){var n=t.filter('[data-repo="{0}"]'.format(e.val()));t.each(function(){(0,o.default)(this).removeAttr("name").findWidget().hide()}),n.attr({name:n.attr("data-field")}).findWidget().show(),n.trigger("bb:branch:change")}o.default.fn.findWidget=function(){var e=this.auiSelect2("container");return e.hasClass("select2-container")?e:this},e.on("change",function(){(0,o.default)(this).trigger("bb:repo:change")}),t.on("change",function(){(0,o.default)(this).trigger("bb:branch:change")}),e.on("bb:repo:change",n),e.auiSelect2({dropdownAutoWidth:!0,dropdownCssClass:"select2-drop-wide"}),t.auiSelect2({dropdownAutoWidth:!0,dropdownCssClass:"select2-drop-wide"})};var i=n(4),o=r(i);e.exports=t.default},2911:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),i=n(856),o="bb:compare:screen:diff",a="bb:compare:screen:commits",l=null;t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.listenTo)([o,a,"bb:compare:screen:empty"].join(" "),function(t){if(((t=t.type)===o||t===a)&&l!==t){var n=e[t.slice("bb:compare:screen:".length)];n&&(0,r.publishScreenEvent)(n)}l=t})},e.exports=t.default},3050:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(31),o=r(i),a=n(4),l=r(a),u=n(19),s=r(u),c=n(1340),d=r(c),f=n(139),h=r(f),p=n(39),m=r(p),g=h.default.author?h.default.author.username:m.default.username,v=o.default.Collection.extend({model:d.default});t.default=o.default.Collection.extend({model:d.default,initialize:function(e,t){t=t||{},this.lockedUsernames=t.locked||[],this.suggested=new v(t.suggested||[],{parse:!0,reset:!0})},toSelect2Data:function(){var e=s.default.partial(s.default.contains,this.lockedUsernames);return this.map(function(t){return t.locked=e(t.get("username")),t})},canAdd:function(e){return e.id!==g&&!this.contains(e)},addSuggestedReviewer:function(e){this.add(this.suggested.findWhere({username:e}))},setDestination:function(e){function t(e){s.default.each(e.invalid_reviewers,function(e){n.remove(n.get(e))});var t=s.default.filter(e.suggested,function(e){return e.username!==g});if(n.suggested.reset(t,{reset:!0,parse:!0}),!h.default.localId&&!n.edited&&e.default_reviewers){var r=s.default.filter(e.default_reviewers,function(e){return e.username!==g});n.reset(r,{parse:!0})}}this.destinationFullslug=e;var n=this;l.default.ajax({url:"/{}/pull-requests/xhr/reviewer-permissions/".format(this.destinationFullslug),data:{reviewers:this.pluck("username")}}).done(t)}}),e.exports=t.default},3053:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(56),o=r(i);t.default=o.default.ItemView.extend({tagName:"li",template:"#suggested-reviewer-template",className:"suggested-reviewer-list-item",attributes:function(){return{"data-username":this.model.get("username"),"data-display-name":this.model.get("display_name")}},events:{click:"addSuggestedReviewer"},initialize:function(e){this.reviewers=e.reviewers},addSuggestedReviewer:function(){this.reviewers.add(this.model)}}),e.exports=t.default},3054:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(56),o=r(i),a=n(3053),l=r(a);t.default=o.default.CompositeView.extend({childView:l.default,template:"#suggested-reviewers-template",childViewContainer:".suggested-reviewer-list",childViewOptions:function(){return{reviewers:this.reviewers}},addChild:function(e){this.reviewers.get(e.id)||o.default.CollectionView.prototype.addChild.apply(this,arguments)},isEmpty:function(){var e=this.reviewers;return this.collection.every(function(t){return e.get(t.id)})},showEmptyView:function(){this.$el.addClass("hidden")},destroyEmptyView:function(){this.$el.removeClass("hidden")},initialize:function(e){this.reviewers=e.reviewers,this.listenTo(this.collection,"reset",this.render),this.listenTo(this.reviewers,"add remove",this.render)}}),e.exports=t.default},3056:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){(0,o.default)(".commit-files-summary--filename").click(function(){(0,a.publishFact)(new h.PullRequestFilepathClickedFact({pull_request_id:u.default.localId,from_repository_uuid:u.default.fromRepositoryUuid||void 0,to_repository_uuid:f.default.uuid,to_repository_owner_uuid:f.default.owner.uuid,history_id:c.default.id}))})};var i=n(4),o=r(i),a=n(34),l=n(139),u=r(l),s=n(493),c=r(s),d=n(36),f=r(d),h=n(359);e.exports=t.default},3057:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){(0,o.default)(".sbs").click(function(){l.default&&l.default.localId&&(0,f.publishFact)(new h.PullRequestSBSDiffFact({pull_request_id:l.default.localId,from_repository_uuid:l.default.fromRepositoryUuid||void 0,to_repository_uuid:d.default.uuid,to_repository_owner_uuid:d.default.owner.uuid,history_id:s.default.id}))}),(0,o.default)(".diff-ignore-whitespace").click(function(){l.default&&l.default.localId&&(0,f.publishFact)(new h.PullRequestIgnoreWhitespaceFact({pull_request_id:l.default.localId,from_repository_uuid:l.default.fromRepositoryUuid||void 0,to_repository_uuid:d.default.uuid,to_repository_owner_uuid:d.default.owner.uuid,history_id:s.default.id}))})};var i=n(4),o=r(i),a=n(139),l=r(a),u=n(493),s=r(u),c=n(36),d=r(c),f=n(34),h=n(359);e.exports=t.default},3058:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){(0,o.default)("#pr-menu-diff").click(function(){(0,a.publishFact)(new h.PullRequestTabClickedFact({pull_request_id:u.default.localId,from_repository_uuid:u.default.fromRepositoryUuid||void 0,to_repository_uuid:f.default.uuid,to_repository_owner_uuid:f.default.owner.uuid,history_id:c.default.id,tab:"diff"}))}),(0,o.default)("#pr-menu-commits").click(function(){(0,a.publishFact)(new h.PullRequestTabClickedFact({pull_request_id:u.default.localId,from_repository_uuid:u.default.fromRepositoryUuid||void 0,to_repository_uuid:f.default.uuid,to_repository_owner_uuid:f.default.owner.uuid,history_id:c.default.id,tab:"commits"}))}),(0,o.default)("#pr-menu-activity").click(function(){(0,a.publishFact)(new h.PullRequestTabClickedFact({pull_request_id:u.default.localId,from_repository_uuid:u.default.fromRepositoryUuid||void 0,to_repository_uuid:f.default.uuid,to_repository_owner_uuid:f.default.owner.uuid,history_id:c.default.id,tab:"activity"}))})};var i=n(4),o=r(i),a=n(34),l=n(139),u=r(l),s=n(493),c=r(s),d=n(36),f=r(d),h=n(359);e.exports=t.default},3059:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(){if(h.default.global.features["pr-chunker"]){var e=document.getElementById("pr-chunker-root");if(e){var t=$(".bb-udiff[data-path]").length,n=$(".udiff-line.deletion, .udiff-line.addition").length;if(t<=p||n<=m)return void(0,s.unmountComponentAtNode)(e);(0,s.render)(u.default.createElement("div",{style:{maxWidth:800,marginBottom:24}},u.default.createElement(d.default,{appearance:"info",actions:[{text:"Learn tips for effective code review",href:"https://www.atlassian.com/blog/git/written-unwritten-guide-pull-requests",key:"learn"}],linkComponent:g},u.default.createElement("p",null,u.default.createElement("strong",null,"Looks like you've got a big pull request")),u.default.createElement("p",null,"Your pull request will include ",t," files with ",n," line changes. Dividing large pull requests into smaller chunks can make reviewing code more effective and efficient."))),e)}}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=n(0),u=r(l),s=n(41),c=n(1051),d=r(c),f=n(63),h=r(f),p=6,m=300,g=function(e){var t=e.href,n=e.children,r=i(e,["href","children"]);return u.default.createElement("a",a({href:t,target:"/"===t[0]?void 0:"_new"},r),n)};t.default=o,e.exports=t.default},3060:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=a.default.parse(e),n=/^\/(.+)\/(.+)\/pull-requests\/(\d+)/.exec(t.pathname);return null===n?null:{repo_owner:n[1],repo_slug:n[2],id:parseInt(n[3])}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(122),a=r(o);e.exports=t.default},3061:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(){var e=a.find(E).val(),t=(0,x.default)(e);return null===t?(o.default.messages.error({body:gettext("Invalid PR URL. Make sure you are pasting the full URL.")}),Promise.reject()):l.default.post(r,t).then(function(){_.default.triggerChange(),o.default.messages.success({body:gettext("Dependency created"),fadeout:!0})}).catch(function(e){try{o.default.messages.error({body:e.response.data.error.message,fadeout:!0})}catch(t){console.error(t),console.error(e),o.default.messages.error({body:gettext("Failed to save the dependency. Try again.")})}return Promise.reject()})}var n=(0,s.default)((0,v.default)({pullRequestUrlText:gettext("Pull request URL")})),r=w.default.api.internal.prRelations(m.default.baseUrl,m.default.slug,h.default.localId,"dependencies"),i=new d.default({dialogClass:"dependencies-status-dialog",title:gettext("Add dependency"),contentClass:"dependencies-dialog-content",submitClass:"js-submit-new-dependency",submitText:gettext("Add"),content:n,submitAction:t}),a=i.$el.find("form").on("submit",function(e){e.preventDefault(),i.onSubmit()});e.on("click",function(){i.$el.find(E).val(""),i.show()})};var i=n(23),o=r(i),a=n(44),l=r(a),u=n(4),s=r(u),c=n(69),d=r(c),f=n(139),h=r(f),p=n(36),m=r(p),g=n(3295),v=r(g),b=n(1341),_=r(b),y=n(728),w=r(y),k=n(3060),x=r(k),E='[name="toPrUrl"]';e.exports=t.default},3062:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,o){try{var a=t[i](o),l=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)});e(l)}return r("next")})}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){return interpolate(q,{relationTypePlural:d(e)},!0)}function l(e,t,n){var r=new $(n,t);e.html(s(n,t,r))}function u(e,t){return e.map(function(e){return e[t]}).filter(function(e){return"MERGED"!==e.state}).length}function s(e,t,n){function r(){return i>0?c(e,t):H[t]}var i=e.length;W[t]&&(W[t].remove(),W[t].unbind());var o=new w.default({dialogClass:"relations-state-dialog",title:"dependency"===t?gettext("Dependencies"):gettext("Dependents"),contentClass:"pr-relation--summary-dialog-content",showCancel:!1,submitText:gettext("Close"),content:n.$el.addClass("relations-dialog")}),a=r(),l=u(e,t),s="dependency"===t&&l>0,d=(0,b.default)((0,T.default)({linkText:a,shouldEmphasizeLink:s,totalCount:i}));return d.find(".pr-relations-dialog-link").on("click",function(){return o.show()}),d}function c(e,t){var n=u(e,t);return n>0?interpolate(z[t],{unmergedCount:n},!0):U[t]}function d(e){return"dependent"===e?"dependents":"dependencies"}Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){var t=function(){var t=i(regeneratorRuntime.mark(function t(){var i,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=++r,o=void 0,t.prev=2,t.next=5,(0,B.default)((0,j.default)(F.default.api.internal.prRelations(C.default.baseUrl,C.default.slug,x.default.localId,d(n)),{includes:["values."+n+".state","values."+n+".destination.repository"]}));case 5:o=t.sent.results,t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(2),p.default.messages.error({body:t.t0}),t.abrupt("return");case 12:i===r&&l(e,n,o);case 13:case"end":return t.stop()}},t,this,[[2,8]])}));return function(){return t.apply(this,arguments)}}(),n=e.data("dep-type"),r=0;M.default.bindChange(t),t()};var h=n(23),p=r(h),m=n(44),g=r(m),v=n(4),b=r(v),_=n(24),y=n(69),w=r(y),k=n(139),x=r(k),E=n(36),C=r(E),P=n(3297),O=r(P),S=n(3296),T=r(S),D=n(1341),M=r(D),A=n(3067),N=n(3072),j=r(N),R=n(735),B=r(R),L=n(728),F=r(L),I={DECLINED:0,SUPERSEDED:0,OPEN:1,MERGED:2},q=gettext("There are no %(relationTypePlural)s."),$=function(){function e(t,n){o(this,e),this.$el=(0,b.default)('<ul class="pr-relation--summary-list unstyled-list"></ul>'),this.relationType=n,this.state=t,this.render(),this.bindDelete()}return f(e,[{key:"bindDelete",value:function(){var e=this;this.$el.on("click",".pr-relation--delete-button",function(t){var n=(0,b.default)(t.currentTarget),r=n.closest(".pr-relation--row"),i=parseInt(r.attr("data-id")),o=function(){(0,_.remove)(e.state,function(e){return e.id===i}),M.default.triggerChange(),e.render()};g.default.delete(F.default.api.internal.prRelation(C.default.baseUrl,C.default.slug,x.default.localId,d(e.relationType),i)).then(function(){return o()}).catch(function(e){try{if(404===e.response.status)return void o();p.default.messages.error({body:e.response.data.error.message})}catch(t){console.error(t),console.error(e),p.default.messages.error({body:gettext("We could not delete this relation. Retry momentarily.")})}})})}},{key:"render",value:function(){var e=this;this.$el.empty();var t=this.state;if(t.sort(function(t,n){var r=I[t[e.relationType].state];return I[n[e.relationType].state]-r}),t.length){var n=t.map(function(t){return e.makeRow(t)});this.$el.append(n.join(""))}else this.$el.append('<div class="pr-relation--empty-state">'+a(this.relationType)+"</div>")}},{key:"makeRow",value:function(e){var t=e[this.relationType];return(0,O.default)({canDelete:(0,A.currentUserHasWrite)()&&"open"===x.default.status,id:e.id,statusText:t.state.toLowerCase(),prTitle:t.title,prUrl:t.links.html.href,repoFullName:t.destination.repository&&t.destination.repository.full_name})}}]),e}(),U={dependency:gettext("All dependencies merged"),dependent:gettext("All dependents merged")},H={dependency:gettext("There are no dependencies"),dependent:gettext("There are no dependents")},z={dependency:gettext("Unmerged dependencies: %(unmergedCount)s"),dependent:gettext("Unmerged dependents: %(unmergedCount)s")},W={};e.exports=t.default},3067:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){if(!(0,s.default)("#user-repo-privilege-data").length)throw new Error("Repo privileges are not embedded in DOM.");return(0,s.default)("#user-repo-privilege-data").attr("data-priv")}function o(){return"None"!==i()}function a(){var e=i();return"admin"===e||"write"===e}function l(){return"admin"===i()}Object.defineProperty(t,"__esModule",{value:!0}),t.currentUserHasRead=o,t.currentUserHasWrite=a,t.currentUserHasAdmin=l;var u=n(4),s=r(u)},3072:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=s.default.parse(e),r=l.default.parse(n.query),i=r.fields?r.fields.split(","):[],a=new Set,u=!0,c=!1,d=void 0;try{for(var f,h=i[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var p=f.value;a.add(p)}}catch(e){c=!0,d=e}finally{try{!u&&h.return&&h.return()}finally{if(c)throw d}}var m=!0,g=!1,v=void 0;try{for(var b,_=(t.includes||[])[Symbol.iterator]();!(m=(b=_.next()).done);m=!0){var y=b.value;a.add("+"+y)}}catch(e){g=!0,v=e}finally{try{!m&&_.return&&_.return()}finally{if(g)throw v}}var w=!0,k=!1,x=void 0;try{for(var E,C=(t.excludes||[])[Symbol.iterator]();!(w=(E=C.next()).done);w=!0){var P=E.value;a.add("-"+P)}}catch(e){k=!0,x=e}finally{try{!w&&C.return&&C.return()}finally{if(k)throw x}}r.fields=Array.from(a).join(",");var O=l.default.stringify(r);return s.default.format(o({},n,{search:O?"?"+O:O}))}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=i;var a=n(476),l=r(a),u=n(122),s=r(u);e.exports=t.default},315:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={"01":"Jan","02":"Feb","03":"Mar","04":"Apr","05":"May","06":"Jun","07":"Jul","08":"Aug","09":"Sep",10:"Oct",11:"Nov",12:"Dec"},n=/(\d{4})-(\d{2})-(\d{2})[ |T](\d{2}):(\d{2}):(\d{2})(\+\d{2}:\d{2})?/,r=e.match(n);return new Date("{} {} {} {}:{}:{} UTC".format(r[3],t[r[2]],r[1],r[4],r[5],r[6]))},e.exports=t.default},3295:function(e,t,n){var r=n(78);e.exports=function(){var e=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<form class="aui" id="add-dep-form" method="post">'),r.b("\n"+n),r.b('  <input class="override-aui text long-field" id="js-url-field" name="toPrUrl" placeholder="'),r.b(r.v(r.f("pullRequestUrlText",e,t,0))),r.b('" />'),r.b("\n"+n),r.b("</form>"),r.fl()},partials:{},subs:{}},'<form class="aui" id="add-dep-form" method="post">\n  <input class="override-aui text long-field" id="js-url-field" name="toPrUrl" placeholder="[[pullRequestUrlText]]" />\n</form>',r);return e.render.apply(e,arguments)}},3296:function(e,t,n){var r=n(78);e.exports=function(){var e=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<div class="pr-relation--show-link ">'),r.b("\n"+n),r.b('  <span class="aui-icon aui-icon-small detail-summary--icon aui-iconfont-sourcetree '),r.s(r.f("shouldEmphasizeLink",e,t,1),e,t,0,146,173,"[[ ]]")&&(r.rs(e,t,function(e,t,n){n.b("pr-relation--emphasize-link")}),e.pop()),r.b('" title="'),r.b(r.v(r.f("linkText",e,t,0))),r.b('">'),r.b("\n"+n),r.b("    "),r.b(r.v(r.f("linkText",e,t,0))),r.b("\n"+n),r.b("  </span>"),r.b("\n"+n),r.s(r.f("totalCount",e,t,1),e,t,0,265,353,"[[ ]]")&&(r.rs(e,t,function(e,t,r){r.b('    <a href="#pr-relations-dialog" class="pr-relations-dialog-link">'),r.b(r.v(r.f("linkText",e,t,0))),r.b("</a>"),r.b("\n"+n)}),e.pop()),r.s(r.f("totalCount",e,t,1),e,t,1,0,0,"")||(r.b("    "),r.b(r.v(r.f("linkText",e,t,0))),r.b("\n"+n)),r.b("</div>"),r.fl()},partials:{},subs:{}},'<div class="pr-relation--show-link ">\n  <span class="aui-icon aui-icon-small detail-summary--icon aui-iconfont-sourcetree [[#shouldEmphasizeLink]]pr-relation--emphasize-link[[/shouldEmphasizeLink]]" title="[[linkText]]">\n    [[linkText]]\n  </span>\n  [[#totalCount]]\n    <a href="#pr-relations-dialog" class="pr-relations-dialog-link">[[linkText]]</a>\n  [[/totalCount]]\n  [[^totalCount]]\n    [[linkText]]\n  [[/totalCount]]\n</div>',r);return e.render.apply(e,arguments)}},3297:function(e,t,n){var r=n(78);e.exports=function(){var e=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<li class="pr-relation--row" data-id="'),r.b(r.v(r.f("id",e,t,0))),r.b('">'),r.b("\n"+n),r.b('  <div class="pr-relation--content">'),r.b("\n"+n),r.b('    <div class="pr-relation--title with-ellipsis">'),r.b("\n"+n),r.b("      "),r.b(r.v(r.f("repoFullName",e,t,0))),r.b("\n"+n),r.s(r.f("canDelete",e,t,1),e,t,0,178,301,"[[ ]]")&&(r.rs(e,t,function(e,t,r){r.b('        <span class="aui-icon aui-icon-small aui-iconfont-remove-label pr-relation--delete-button">'),r.b("\n"+n),r.b("        </span>"),r.b("\n"+n)}),e.pop()),r.b("      <br />"),r.b("\n"+n),r.b('      <a href="'),r.b(r.v(r.f("prUrl",e,t,0))),r.b('" target="_blank" rel="nofollow">'),r.b("\n"+n),r.b("        "),r.b(r.v(r.f("prTitle",e,t,0))),r.b("\n"+n),r.b("      </a>"),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b('    <div class="pr-relation--description with-ellipsis">'),r.b("\n"+n),r.b("      "),r.b(r.v(r.f("statusText",e,t,0))),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("  </div>"),r.b("\n"+n),r.b("</li>"),r.b("\n"),r.fl()},partials:{},subs:{}},'<li class="pr-relation--row" data-id="[[id]]">\n  <div class="pr-relation--content">\n    <div class="pr-relation--title with-ellipsis">\n      [[repoFullName]]\n      [[#canDelete]]\n        <span class="aui-icon aui-icon-small aui-iconfont-remove-label pr-relation--delete-button">\n        </span>\n      [[/canDelete]]\n      <br />\n      <a href="[[prUrl]]" target="_blank" rel="nofollow">\n        [[prTitle]]\n      </a>\n    </div>\n    <div class="pr-relation--description with-ellipsis">\n      [[statusText]]\n    </div>\n  </div>\n</li>\n',r);return e.render.apply(e,arguments)}},3429:function(e,t,n){var r,i;r=[t,e,n(24)],void 0!==(i=function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=r(n);t.exports={init:i.default.once(function(){$(".avatar-tooltip > .aui-avatar-inner > img").tooltip({hoverable:!1,offset:5,gravity:function(){return $.fn.tipsy.autoNS.call(this)+$.fn.tipsy.autoWE.call(this)},delayIn:0,live:!0})})}}.apply(t,r))&&(e.exports=i)},3430:function(e,t,n){var r,i;r=[t],void 0!==(i=function(e){"use strict"}.apply(t,r))&&(e.exports=i)},3449:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return new m.default({id:"eclipsed-comments-dialog-{}".format(S++),contentClass:"eclipsed-comments-content",size:"large",title:gettext("Comments on prior versions"),content:e,showCancel:!1})}function o(e,t){e.length&&d.default.each(e.data("value"),function(e){d.default.each(e,function(e,n){t&&(e=d.default.intersection(e,t)),h.default.decorateThreads(T.toString(),e,n)})})}function a(e,t){e.html(t).removeClass("has-mask"),o(e.find(".pr-line-thread-ids"),e.find(".iterable-item").map(function(){return(0,s.default)(this).data("commentId")})),e.find(".bb-patch-unified .bb-udiff, .comment-content .bb-udiff").each(function(){var e=(0,s.default)(this),t=e.data("filename"),n=e.parent().is(".comment-content");new _.default(e.data("expand-context-url")+encodeURI(t),e.data("identifier"),!n,!1,T.toString()).decorate(e)})}function l(e){O.default.trackEvent("Diff","View Eclipsed Comments");var t=e.data("dialog"),n=new s.default.Deferred;if(t)return t.show(),n.resolve(),n;var r=e.closest(".commentable-diff"),o=r.data("filename"),l=r.data("eclipsed-comment-view-url"),u=(0,s.default)("<div></div>").addClass("maskable has-mask");return l?(s.default.ajax({url:l,data:{file:o},dataType:"html"}).done(function(e){a(u,e),n.resolve(),(0,v.default)()}).fail(function(){n.reject()}),t=i(u,o),e.data("dialog",t),t.show(),n):(n.reject(),n)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(4),s=r(u),c=n(19),d=r(c),f=n(167),h=r(f),p=n(69),m=r(p),g=n(160),v=r(g),b=n(241),_=r(b),y=n(139),w=r(y),k=n(36),x=r(k),E=n(104),C=r(E),P=n(65),O=r(P),S=0,T=C.default.concat("repositories",x.default.baseUrl,x.default.slug,"pullrequests",w.default.localId,"comments");t.default=l,e.exports=t.default},3469:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(31),o=r(i),a=n(3917),l=r(a),u=n(36),s=r(u);t.default=o.default.Collection.extend({model:l.default,initialize:function(e,t){t=t||{},this.pullrequest=t.pullrequest},parse:function(e){return e.values},getUnsaved:function(){return this.findWhere({id:void 0})},url:function(){return"/!api/internal/repositories/"+s.default.fullslug+"/pullrequests/"+this.pullrequest.id+"/tasks/"}}),e.exports=t.default},3470:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(134),o=r(i),a="pullrequest-history",l=function(){return o.default.get(a)||{}},u=function(e,t){return e+":"+t};t.default={get:function(e,t){return l()[u(e,t)]},getAll:function(){return l()},set:function(e,t,n){if(n){var r=u(e,t),i=l(),s=i[r];s&&!+(new Date(s)<+new Date(n))||(i[r]=n,o.default.set(a,i))}}},e.exports=t.default},3471:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){return!se.find("li").length&&!ce.hasClass("updated")}function o(){S.default.ajax({url:ae,data:{since:le},dataType:"json"}).done(a)}function a(e){he&&(le=e.lastModified||le,V.default.set(U.default.fullslug,q.default.localId,le),(e.prDetailsModified||e.anchorMoved||e.destRevMoved)&&(ce.addClass("updated"),oe.removeClass("hidden")),pe&&s(e.viewers),l(e),c(e),d())}function l(e){D.default.each(e.commentsAdded,function(e){ge.push(e)}),D.default.each(e.commentsReplied,function(e){ge.push(e)}),D.default.each(e.commentsEdited,function(e){var t=D.default.find(ge,function(t){return e.comment.comment_id===t.comment.comment_id});t?ge.splice(ge.indexOf(t),1,e):y(e.comment)}),D.default.each(e.commentsDeleted,function(e){var t=D.default.find(ge,function(t){return e.evt.reference_id===t.comment.comment_id});t?ge.splice(ge.indexOf(t),1):k(e.evt.reference_id)})}function u(e){e.set("last_updated_on",null),e.destroy()}function s(e){D.default.each(e,function(e){e.viewing=!0,me.add(e,{merge:!0})}),D.default.each(me.models,function(t){D.default.find(e,function(e){return e.username===t.id})||(t.get("comments")?t.set("viewing",!1):u(t))})}function c(e){D.default.each(e.approvalsRemoved,function(e){var t=e.user,n=me.get(t.username);n&&n.set("approved",!1)}),D.default.each(e.approvalsAdded,function(e){e.user.approved=!0,me.add(e.user,{merge:!0})}),(e.approvalsAdded.length||e.approvalsRemoved.length)&&re.trigger("approval-changed.pullrequest")}function d(){var e={};D.default.each(ge,function(t){var n=t.user.username;e[n]=e[n]||{count:0,commentEvent:t},e[n].count++}),D.default.each(e,function(e,t){var n=me.get(t);if(n)n.set({comments:e.count,last_updated_on:e.commentEvent.comment.utc_last_updated});else{var r=e.commentEvent.user;r.comments=e.count,r.last_updated_on=e.commentEvent.comment.utc_last_updated,me.add(r)}}),D.default.each(me.models,function(t){e[t.get("username")]||(t.get("viewing")?t.set("comments",0):u(t))}),C()}function f(e){var t=D.default.find(ge,function(t){return t.user.username===e});if(t){if(!(0,S.default)("#pr-tab-content-wrapper").hasClass("diff"))return void E(t.comment.comment_id);b(t.comment,!0),ge=D.default.reject(ge,function(e){return e===t}),d()}}function h(e){return e.parent_id?p(e):e.line_to||e.line_from?m(e):e.filename?g(e):v()}function p(e){var t=(0,S.default)("#comment-"+e.parent_id);if(!t.length){var n=D.default.find(ge,function(t){return t.comment.comment_id===e.parent_id});if(!n){var r=(0,S.default)("#compare"),i=r.attr("data-anchor"),o=r.attr("data-dest-rev"),a="CompareRevisions(anchor=u'{}', destrev=u'{}')".format(i,o),l=r.find(".pr-line-thread-ids").data("value"),u=D.default.reject(l,function(e,t){return t===a}).reduce(function(t,n){return t.concat(n[e.filename]||[])},[]);return D.default.any(u,function(t){return t===e.parent_id})&&(0,S.default)('[data-filename="{}"] .eclipsedcount'.format(e.filename)).click(),null}t=b(n.comment,!0),ge=D.default.reject(ge,function(e){return e===n})}return t.parents(".aui-dialog").length&&(0,S.default)('[data-filename="{}"] .eclipsedcount'.format(e.filename)).click(),t.siblings(".child-comments")}function m(e){var t=(0,S.default)("#compare");if(t.attr("data-anchor")!==e.anchor||t.attr("data-dest-rev")!==e.dest_rev)return null;var n=(0,S.default)('[data-filename="{}"]'.format(e.filename)),r=n.find('[data-tnum="{line_to}"], [data-fnum="{line_from}"]'.format({line_to:e.line_to,line_from:e.line_from}));if((e.line_to||e.line_from)&&!r.length)return null;var i=r.parents(".udiff-line"),o=i.next();return o.hasClass("comment-thread-container")||(o=(0,S.default)('<div class="comment-thread-container"><ol class="comments-list"></ol></div>').insertAfter(i)),o.find(".comments-list")}function g(e){var t=(0,S.default)('[data-filename="{}"]'.format(e.filename)),n=t.find(".diff-content-container"),r=n.children(".comment-thread-container");return t.length?(r.length||(r=(0,S.default)('<div class="comment-thread-container"><ol class="comments-list"></ol></div>').prependTo(n)),r.find(".comments-list")):null}function v(){return(0,S.default)("#comments-list")}function b(e,t){var n=A.default.parseData(e,!t),r=(0,S.default)("#comment-"+n.comment_id),i=h(n),o=new A.default(n,{urlRoot:fe.toString()}),a=new j.default(o);return i?("comments-list"===i.attr("id")?a.render(i.find(".new-comment"),"before"):r.length?a.decorate(r,n.filename):a.render(i),t&&((0,S.default)(document).trigger("comment-added",o),a.$elem.addClass("highlight"),a.scrollTo({onAfter:function(){a.$elem.removeClass("highlight")}})),a.$comment):(t&&E(n.comment_id),null)}function _(e){(0,ee.default)((0,S.default)("#pull-request-header"));var t=me.get(e);t&&(t.get("viewing")?t.set({approved:!1}):u(t)),C()}function y(e){var t,n=(0,S.default)("#comment-"+e.comment_id),r=n.find("header");r.find(".comment-deleted").length||(r.find(".comment-changed").remove(),t=(0,S.default)(de({edited:!0})),r.append(t),t.on("click","a",function(r){r.preventDefault(),n.find(".comment-content").html(e.content_rendered),t.remove()}))}function w(e,t){return D.default.each(e,function(e){t.push(e),w(e.children,t)}),t}function k(e){var t,n=(0,S.default)("#comment-"+e),r=n.find("header");r.find(".comment-changed").remove(),t=(0,S.default)(de({deleted:!0})),r.append(t),t.on("click","a",function(n){n.preventDefault(),x(e),t.remove()}),n.find(".comment-actions [href=#delete]").parent().remove()}function x(e){var t=(0,S.default)("#comment-"+e),n=t.parents(".child-comments").last().siblings("article, .deleted-comment-message"),r=n.length?[n.data("commentId")]:[e],i=j.default.decorateThreads(fe.toString(),r),o=w(i,[]),a=D.default.find(o,function(t){return t.comment.id===e}),l=a.$elem.parents(".comment-thread-container");a.scrollTo({onAfter:function(){a.removeComment(),l.find("li.comment").length||l.remove()}})}function E(e){e?(ge=[],d(),(0,S.default)("#pr-menu-activity").click(),re.one("pjax:end",function(){var t=(0,S.default)("#comment-"+e).parent(".comment");window.location.hash="comment-"+e,t.addClass("highlight"),t.one("transitionend webkitTransitionEnd",function(){t.removeClass("highlight")})})):window.location.reload(!0)}function C(){var e=ce.hasClass("updated"),t=e?1:0;t=me.reduce(function(e,t){return e+=t.get("comments"),t.get("approved")?e+1:e},t),document.title=t>0?"({}) {}".format(t,ue):ue}function P(){he&&(0,K.default)(o,{minimumTimeout:2e4,maximumTimeout:6e5,inactivityDelay:12e4}).start()}Object.defineProperty(t,"__esModule",{value:!0}),t.SHOULD_LIVE_UPDATE=void 0,t.processUpdate=a,t.renderComment=b,t.pollForUpdates=P;var O=n(4),S=r(O),T=n(19),D=r(T),M=n(178),A=r(M),N=n(167),j=r(N),R=n(3832),B=r(R),L=n(720),F=r(L),I=n(139),q=r(I),$=n(36),U=r($),H=n(39),z=r(H),W=n(3470),V=r(W),G=n(728),Q=r(G),Y=n(1350),K=r(Y),J=n(27),Z=r(J),X=n(871),ee=r(X),te=n(63),ne=r(te),re=(0,S.default)(document),ie=(0,S.default)("#pullrequest"),oe=(0,S.default)("#pr-toolbar"),ae=ie.attr("data-updates-url"),le=ie.attr("data-last-updated"),ue=document.title,se=ie.find(".qr-notice"),ce=se.find(".pr-update-notice"),de=D.default.partial(Z.default.toHtml,"comment-changed-template"),fe=Q.default.api.v20.comments(U.default.baseUrl,U.default.slug,q.default.localId),he=t.SHOULD_LIVE_UPDATE=ae&&le&&z.default.isAuthenticated,pe=!!ne.default.global.features["allow-pullrequest-live-reviewers"];ie.data("lastViewed",V.default.get(U.default.fullslug,q.default.localId)),V.default.set(U.default.fullslug,q.default.localId,le);var me=new F.default([],{noun:"pull request"}),ge=[],ve=new B.default({el:se.find("ol"),collection:me,auiAvatarSize:"medium"}).render();ve.on("render-user-comment",f),ve.on("show-approvals",_),me.on("add",function(){oe.removeClass("hidden")}),me.on("destroy",function(){oe.toggleClass("hidden",i())}),ce.on("click","a",function(e){e.preventDefault(),E()})},3508:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(e instanceof d.BBQLClauseSuffix)return e;if("string"!=typeof e)return new d.BBQLClauseSuffix(f.DEFAULT_OPERATOR,e,t);var n=s.default.find(h,function(t){return 0===e.indexOf(t)});return n?e=e.slice(n.length):n=f.DEFAULT_OPERATOR,new d.BBQLClauseSuffix(n,e,t)}function o(e,t){return Object.keys(e).reduce(function(n,r){if("sort"===r)return n;var o=t[r]instanceof d.BBQLFieldSpec&&t[r],a=o?o.type:void 0;if(a=a||("function"==typeof t[r]?t[r]:void 0),e[r]instanceof d.BBQLClauseSuffix)o&&o.validateClauseSuffix(e[r]),n[r]=e[r];else if(void 0!==e[r]){var l=Array.isArray(e[r])?e[r].map(function(e){return i(e,a)}):i(e[r],a);l&&(n[r]=l)}return n},{})}function a(e,t){var n={};for(var r in t)if(void 0===e[r])n[r]=new d.BBQLFieldSpec(r);else if("string"==typeof e[r])n[r]=new d.BBQLFieldSpec(e[r]);else if("function"==typeof e[r])n[r]=new d.BBQLFieldSpec(r,e[r]);else{if(!(e[r]instanceof d.BBQLFieldSpec))throw new Error("`bbqlMap` values must either be strings or `BBQLFieldSpec` instances");n[r]=e[r]}return n}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!e)return null;t=t||{};var r=o(e,t),i=a(t,r),l=Object.keys(r).sort().map(function(e){var t=i[e].bbqlKey,n=i[e].type,o=(0,c.dearrayify)(r[e]);return Array.isArray(o)?new d.BBQLOr(o.sort().map(function(e){return new d.BBQLClause(t,e,n)})):new d.BBQLClause(t,o,n)}).concat(n);return new d.BBQLAnd(l).toString()}Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeQuery=o,t.normalizeBBQLMap=a,t.default=l;var u=n(24),s=r(u),c=n(4104),d=n(731),f=n(361),h=Object.keys(f.VALID_TYPES_FOR_OPERATOR);h.sort(function(e,t){return t.length-e.length})},3526:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(3931),o=r(i),a=n(3932),l=r(a),u=n(3933),s=r(u),c=n(199),d=r(c);r(n(198)).default.add({"commitstatus/status-dialog":function(){return n(310)},"commitstatus/status-description":function(){return n(2880)},"commitstatus/status-icon":function(){return n(1287)},"components/clone/clone-dialog":function(){return n(419)},"components/clone/clone-in-sourcetree":function(){return n(487)},"components/clone/url-dropdown":function(){return n(420)},"components/compare":function(){return n(856)},"components/follow-list":function(){return n(858)},"components/mathjax":function(){return n(1317)},"components/two-up-diff":function(){return n(1325)},"pullrequests/file-list":function(){return n(3056)},"pullrequests/file-options":function(){return n(3057)},"pullrequests/navigation":function(){return n(3058)},"pullrequests/relations/add-relation":function(){return n(3061)},"pullrequests/relations/check-for-relations":function(){return n(3062)},"repo/commits/list":function(){return n(1344)},"repo/index":function(){return n(436)},"repo/sidebar":function(){return n(497)}}),window.__router__=(0,d.default)({"/:repoOwner/:repoSlug/pull-requests":{"/?$":s.default,"new/?$":l.default,"update/(\\d+)/?$":l.default,"/(\\d+)/?$":o.default,"/(\\d+)/([\\w-]+)":{"/?$":o.default,"/activity$":o.default,"/commits$":o.default,"/diff$":o.default,"/pullrequests$":o.default}}}).init()},3554:function(e,t){var n="pullrequests",r=n||"unknownBundle";window._moduleTiming=window._moduleTiming||{},window._moduleTiming[r]=(new Date).getTime()-window._moduleTiming[r]},3555:function(e,t){var n="pullrequests",r=n||"unknownBundle";window._moduleTiming=window._moduleTiming||{},window._moduleTiming[r]=(new Date).getTime()},356:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=r(i),a=n(19),l=r(a),u=n(106),s=r(u),c=n(69),d=r(c),f=n(1298),h=r(f),p=n(1296),m=r(p),g=n(141),v=r(g);n(74);var b=(0,v.default)("Diff"),_=function(e,t,n){this.filename_=e,this.endpoint=t,this.renameInfo=n||{},this.id_=l.default.uniqueId("side-by-side-")};_.prototype.decorate=function(e){var t=(0,o.default)('meta[name="tab-size"]').attr("content");this.$elem_=e,this.$elem_.attr("id",this.id_),this.$container_=(0,o.default)('<div class="bb-sbs-patch"></div>').appendTo(this.$elem_),this.$container_.attr("id",this.id_+"-content"),t&&this.$container_.addClass("tab-size-{}".format(t)),this.enterDocument()},_.prototype.withDiff=function(e){if(this.diff_)e(this.diff_);else{var t=this;o.default.ajax({type:"GET",data:{filename:t.filename_,meta:!0,w:s.default.get("w"),srcpath:t.renameInfo.srcpath},dataType:"json",url:t.endpoint,success:function(n){t.diff_=h.default.sideBySideFromData(n[0]),t.diff_.url=t.endpoint,e(t.diff_)}})}},_.prototype.withSbsDiff=function(e){var t=this;t.sbsDiff_?e(t.sbsDiff_):t.withDiff(function(n){t.sbsDiff_=new m.default(n),e(t.sbsDiff_)})},_.prototype.enterDocument=function(){var e,t,n=this;this.$elem_.find(".sbs").attr("href","#"+n.id_+"-content").on("click",function(){t=l.default.isEmpty(n.renameInfo)?n.filename_:n.renameInfo.pretty_format+" "+interpolate(gettext("(%(percent)s% similar)"),{percent:n.renameInfo.similarity},!0),e=e||new d.default({id:n.id_,title:t,content:n.$container_.detach(),isSafeContent:!0,contentClass:"side-by-side-diff--content",showCancel:!1,size:"fullscreen"}).on("show",function(){n.onDialogOpen_.apply(n)}).on("hide",function(){n.onDialogClose_.apply(n)}),e.show()}),this.$elem_.find(".diff-ignore-whitespace").on("click",function(e){var t=(0,o.default)(e.target),n=!t.is(".checked"),r=(0,o.default)("#pr-menu-diff"),i=t.attr("data-jump-to");if(b("Ignore Whitespace",n?"On":"Off"),s.default.update("w",n?"1":"0"),r.length){var a=(0,o.default)("#pr-tab-content"),u={container:a,scrollTo:null,timeout:3e4},c=s.default.asUrl(r.attr("href"));a.one("pjax:end",function(){window.location.hash=i}),r.attr("href",c),o.default.pjax(l.default.extend({url:c,replace:!0},u))}else window.location.href=s.default.asUrl(window.location.href,i)}),this.$elem_.find(".view-file").on("click",function(e){b("View Full Source")}),this.$elem_.find(".edit-button").on("click",function(e){b("Edit File")}),this.$elem_.find(".add-file-comment").on("click",function(e){b("Add File Comment")}),this.$elem_.find(".diff-hide-word-diff").on("click",function(e){var t=(0,o.default)(e.currentTarget),n=!t.is(".checked");(0,o.default)(document.getElementById(t.attr("data-diff"))).find(".refract-container").toggleClass("disable-word-diff",n)})},_.prototype.handleResize=l.default.debounce(function(){var e=this;e.withSbsDiff(function(t){e.withDiff(function(n){t.setHeight(e.$container_.parent().height()),t.setWidth(e.$container_.parent().width())})})},400),_.prototype.onDialogOpen_=function(){var e=this;b("Side By Side Diff"),e.withSbsDiff(function(t){e.withDiff(function(n){e.$container_.show(),t.setHeight(e.$container_.parent().height()),t.setWidth(e.$container_.parent().width()),0===e.$container_.children().length&&t.render(e.$container_),setTimeout(o.default.proxy(t.scrollToFirstHunk,t),0)})}),(0,o.default)(window).on("resize",e.handleResize.bind(e))},_.prototype.onDialogClose_=function(){this.$container_.hide(),(0,o.default)(window).off("resize",this.handleResize)},t.default=_,e.exports=t.default},359:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.CreatePullRequestPageViewedFact=t.PullRequestTabClickedFact=t.PullRequestIgnoreWhitespaceFact=t.PullRequestSBSDiffFact=t.PullRequestFilepathClickedFact=t.PullRequestOpenedFact=t.BranchDialogShownFact=t.BranchDialogCheckoutCopiedFact=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},s=n(62),c=r(s),d=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"generateEvent",value:function(){var e=u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"generateEvent",this).call(this);return e.properties=e.properties||{},e.properties.frontbucket_view=!1,e}}]),t}(c.default);t.BranchDialogCheckoutCopiedFact=function(e){function t(){var e,n,r,a;i(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.name="bitbucket.pullrequests.branchdialog.copyCheckout",a=n,o(r,a)}return a(t,e),t}(d),t.BranchDialogShownFact=function(e){function t(){var e,n,r,a;i(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.name="bitbucket.pullrequests.branchdialog.show",a=n,o(r,a)}return a(t,e),t}(d),t.PullRequestOpenedFact=function(e){function t(){var e,n,r,a;i(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.name="bitbucket.pullrequests.open",a=n,o(r,a)}return a(t,e),t}(d),t.PullRequestFilepathClickedFact=function(e){function t(){var e,n,r,a;i(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.name="bitbucket.pullrequests.filepath.click",a=n,o(r,a)}return a(t,e),t}(d),t.PullRequestSBSDiffFact=function(e){function t(){var e,n,r,a;i(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.name="bitbucket.pullrequests.sideBySideDiff.click",a=n,o(r,a)}return a(t,e),t}(d),t.PullRequestIgnoreWhitespaceFact=function(e){function t(){var e,n,r,a;i(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.name="bitbucket.pullrequests.ignoreWhitespace.click",a=n,o(r,a)}return a(t,e),t}(d),t.PullRequestTabClickedFact=function(e){function t(){var e,n,r,a;i(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.name="bitbucket.pullrequests.tab.click",a=n,o(r,a)}return a(t,e),t}(d),t.CreatePullRequestPageViewedFact=function(e){function t(){var e,n,r,a;i(this,t);for(var l=arguments.length,u=Array(l),s=0;s<l;s++)u[s]=arguments[s];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.name="bitbucket.pullrequests.create.view",a=n,o(r,a)}return a(t,e),t}(d)},361:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.VALID_TYPES_FOR_OPERATOR=t.DEFAULT_OPERATOR=t.BBQLOperators=void 0;var o,a=n(456),l=r(a),u=t.BBQLOperators={DOES_NOT_EQUAL:"!=",DOES_NOT_CONTAIN:"!~",GTE:">=",LTE:"<=",GT:">",LT:"<",CONTAINS:"~",EQUALS:"="},s=(t.DEFAULT_OPERATOR=u.EQUALS,[Date,Number,String]),c=t.VALID_TYPES_FOR_OPERATOR=(o={},i(o,u.EQUALS,null),i(o,u.DOES_NOT_EQUAL,null),i(o,u.CONTAINS,[String]),i(o,u.DOES_NOT_CONTAIN,[String]),i(o,u.GT,s),i(o,u.GTE,s),i(o,u.LT,s),i(o,u.LTE,s),o);(0,l.default)(Object.keys(c).length===Object.keys(u).length,"All BBQL operators must be specified in both VALID_TYPES_FOR_OPERATOR and BBQL_OPERATORS.")},3682:function(e,t,n){var r,i;r=[t,e,n(4),n(3764),n(207),n(485)],void 0!==(i=function(e,t,n,r,i,o){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var l=Object.getOwnPropertyDescriptor(i,o);if(void 0!==l){if("value"in l)return l.value;var u=l.get;if(void 0===u)return;return u.call(a)}var s=Object.getPrototypeOf(i);if(null===s)return;e=s,t=o,n=a,r=!0,l=s=void 0}},d=a(n),f=a(r),h=a(i),p=a(o),m=function(e){function t(){var e,n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];l(this,t);for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];(e=c(Object.getPrototypeOf(t.prototype),"constructor",this)).call.apply(e,[this,n].concat(i)),this._lastPageData=null,n.filterDescriptor&&(this._validateFilter=(0,p.default)(n.filterDescriptor)),this.filter=n.filter||{},this._validateFilter(this.filter)}return u(t,e),s(t,[{key:"_validateFilter",value:function(e){if(Object.keys(e).length)throw new Error("No filter is expected on this data-provider.")}},{key:"setFilter",value:function(e,t){this.filter&&(this.filter[e]=t),this._validateFilter&&this._validateFilter(this.filter)}},{key:"fetchNext",value:function(){var e=this;if(this.reachedEnd)throw new Error("Nothing left to fetch.");if(this.abort(),this.initialData)return this._lastPageData=this.initialData,this.currentData=this.transform(this.initialData),delete this.initialData,d.default.Deferred().resolve(this.currentData);if(this.trigger("data-requested"),this._requestPromise=this._fetchNext(this._lastPageData),!this._requestPromise.abort)throw new Error("no abort method on PagedDataProvider#_requestPromise.");return this._requestPromise.then(function(t){e._lastPageData=t}),this._requestPromise.then(this.transform,function(){return d.default.Deferred().reject(e.errorTransform.apply(e,arguments))}).done(function(t){e.trigger("data-loaded",t),e.currentData=t}).fail(function(t){e.trigger("data-request-failed",t)}).always(function(){e._requestPromise=null})}},{key:"reset",value:function(){this._lastPageData=null,c(Object.getPrototypeOf(t.prototype),"reset",this).call(this)}},{key:"_fetchNext",value:function(e){throw new h.default.NotImplementedError}},{key:"_reachedEnd",value:function(e){throw new h.default.NotImplementedError}},{key:"reachedEnd",get:function(){return!!this._lastPageData&&this._reachedEnd(this._lastPageData)}}]),t}(f.default);t.exports=m}.apply(t,r))&&(e.exports=i)},3683:function(e,t,n){var r,i;r=[t,e,n(2876),n(851)],void 0!==(i=function(e,t,n,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var l=Object.getOwnPropertyDescriptor(i,o);if(void 0!==l){if("value"in l)return l.value;var u=l.get;if(void 0===u)return;return u.call(a)}var s=Object.getPrototypeOf(i);if(null===s)return;e=s,t=o,n=a,r=!0,l=s=void 0}},u=i(n),s=i(r),c=function(e){function t(e){var n;o(this,t),e.jsonDescriptor=[s.default.user],e.filterDescriptor={term:"string?",role:"string?"};for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];(n=l(Object.getPrototypeOf(t.prototype),"constructor",this)).call.apply(n,[this,e].concat(i))}return a(t,e),t}(u.default);t.exports=c}.apply(t,r))&&(e.exports=i)},3684:function(e,t,n){var r,i;r=[t,e,n(2876),n(485),n(851)],void 0!==(i=function(e,t,n,r,i){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var l=Object.getOwnPropertyDescriptor(i,o);if(void 0!==l){if("value"in l)return l.value;var u=l.get;if(void 0===u)return;return u.call(a)}var s=Object.getPrototypeOf(i);if(null===s)return;e=s,t=o,n=a,r=!0,l=s=void 0}},s=o(n),c=o(r),d=o(i),f=function(e){function t(){var e,n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];a(this,t),n.jsonDescriptor=[d.default.pull_request],n.filterDescriptor={author_id:"string?",query:"string?",target_ref_id:"string?",reviewer_id:"string?",state:c.default.asEnum("PullRequestState",d.default.PullRequestState)};for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];(e=u(Object.getPrototypeOf(t.prototype),"constructor",this)).call.apply(e,[this,n].concat(i))}return l(t,e),t}(s.default);t.exports=f}.apply(t,r))&&(e.exports=i)},3685:function(e,t,n){var r,i;r=[t,e,n(2876),n(485),n(851)],void 0!==(i=function(e,t,n,r,i){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var l=Object.getOwnPropertyDescriptor(i,o);if(void 0!==l){if("value"in l)return l.value;var u=l.get;if(void 0===u)return;return u.call(a)}var s=Object.getPrototypeOf(i);if(null===s)return;e=s,t=o,n=a,r=!0,l=s=void 0}},s=o(n),c=o(r),d=o(i),f=function(e){function t(e){var n;a(this,t),e.jsonDescriptor=[d.default.ref],e.filterDescriptor={term:"string?",repository:d.default.repository,type:c.default.asEnum("RefType",d.default.RefType)};for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];(n=u(Object.getPrototypeOf(t.prototype),"constructor",this)).call.apply(n,[this,e].concat(i))}return l(t,e),t}(s.default);t.exports=f}.apply(t,r))&&(e.exports=i)},3687:function(e,t,n){var r,i;r=[t,e,n(4),n(24),n(3692),n(1279),n(207),n(580)],void 0!==(i=function(e,t,n,r,i,o,a,l){"use strict";function u(e){return e&&e.__esModule?e:{default:e}}function s(){var e=this,t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(g.default.call(this,t),!this.options.dataProvider)throw new Error("PagedScrollable must be given a DataProvider as an option `dataProvider`");this.provider=this.options.dataProvider,this.$scrollElement=(0,d.default)(t.scrollPaneSelector||window),d.default.isWindow(this.$scrollElement[0])&&function(){var t=window.document.documentElement;e.getPaneHeight=function(){return t.clientHeight},e.getContentHeight=function(){return t.scrollHeight}}(),this._eventHandlers=[],this._page=-1,this.provider.on("reset",function(){e._page=-1,e.clear(),e.loadIfRequired()})}function c(){var e=this;return this.provider.isFetching?d.default.Deferred().reject():this.provider.fetchNext().done(this.onDataLoaded).fail(function(){e.options.suspendOnFailure&&e.suspend()})}var d=u(n),f=u(r),h=u(i),p=u(o),m=u(a),g=u(l),v=p.default.isIE();s.prototype=Object.create(g.default.prototype),s.prototype.constructor=s,s.defaults={pageSize:50,scrollDelay:250,bufferPixels:0,suspendOnFailure:!0,autoLoad:!0,preventOverscroll:!1,idForEntity:null},s.prototype.init=function(){var e=this,t=arguments,n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return s.prototype.reset.call(this),n.suspended&&this.suspend(),c.call(this).then(void 0,function(){var r=e.options.pageSize;return 0!=(n.targetedItem?Math.floor(n.targetedItem/r)*r:0)?c.call(e):d.default.Deferred().rejectWith(e,t)}).fail(function(t){t&&t.errors&&t.errors.length&&e.handleErrors(t.errors)})},s.prototype.reset=function(){this.provider.isFetching&&this.provider.abort(),this.clearListeners(),this._resizeHandler&&((0,d.default)(window).off("resize",this._resizeHandler),this._resizeHandler=null),this.idForEntity=this.idForEntity||this.options.idForEntity,"function"==typeof this.idForEntity&&(this._ids={}),this._suspended=!1,this._page=-1,this.clear()},s.prototype.destroy=function(){this.reset(),delete this.$scrollElement},s.prototype.suspend=function(){this._suspended=!0},s.prototype.resume=function(){return this._suspended=!1,this.loadIfRequired()},s.prototype.isSuspended=function(){return this._suspended},s.prototype.getScrollTop=function(){return this.$scrollElement.scrollTop()},s.prototype.setScrollTop=function(e){this.$scrollElement.scrollTop(e)},s.prototype.getPane=function(){return this.$scrollElement},s.prototype.getPaneHeight=function(){return this.$scrollElement[0].clientHeight},s.prototype.getContentHeight=function(){return this.$scrollElement[0].scrollHeight},s.prototype.getOption=function(e){if(Object.prototype.hasOwnProperty.call(this.options,e))return this.options[e]},s.prototype.setOptions=function(e){d.default.isPlainObject(e)&&(this.options=d.default.extend(this.options,e))},s.prototype.addScrollListener=function(e){var t=this.scrollDelay?f.default.debounce(e,this.scrollDelay):e;this._eventHandlers.push(t),this.$scrollElement.on("scroll.paged-scrollable",t)},s.prototype._bindOverscrollPrevention=function(){function e(e,t){var n=(0,d.default)(this).outerHeight(),r=this.scrollHeight;(this.scrollTop===r-n&&t<0||0===this.scrollTop&&t>0)&&e.preventDefault()}this._eventHandlers.push(e),this.$scrollElement.on("mousewheel.paged-scrollable",e)},s.prototype.clearListeners=function(){var e=this;f.default.each(this._eventHandlers,function(t){e.$scrollElement.unbind(".paged-scrollable",t)}),this._eventHandlers.length=0},s.prototype.loadIfRequired=function(){if(!this.isSuspended()&&!this.provider.reachedEnd){var e=this.getScrollTop(),t=this.getPaneHeight(),n=this.getContentHeight(),r=t+e;if(d.default.isWindow(this.getPane()[0])||!this.getPane().is(":hidden")){return f.default.any([!0,"next"],h.default.eq(this.options.autoLoad))&&r+1>=n-this.options.bufferPixels?this.load():void 0}}},s.prototype.load=function(){var e=this;return c.call(this).fail(function(t){t&&t.errors&&e.handleErrors(t.errors)})},s.prototype.onDataLoaded=function(e){++this._page>0&&this.trigger("pagination",{page:this._page+1});var t=void 0;v&&(t=this.getScrollTop()),e=this._addPage(e),v&&this.setScrollTop(t),0===this._page&&this.onFirstDataLoaded(e),this.loadIfRequired()},s.prototype._addPage=function(e){return e=this._dedupe(e),this.attachNewContent(e),this.trigger("page-rendered"),e},s.prototype._dedupe=function(e){var t=this;if(!e||!(Array.isArray(e)&&e.length>0||Array.isArray(e.values))||"function"!=typeof this.idForEntity)return e;var n=function(){var n=t._ids,r=function(e){var r=t.idForEntity(e);return!f.default.has(n,r)&&(n[r]=!0,!0)};return Array.isArray(e)?{v:e.filter(r)}:Array.isArray(e.values)?(e=d.default.extend({},e,{values:e.values.filter(r)}),{v:e}):void 0}();return"object"==typeof n?n.v:void 0},s.prototype.onFirstDataLoaded=function(){var e=this;this.addScrollListener(function(){e.loadIfRequired()}),this.options.preventOverscroll&&this._bindOverscrollPrevention(),(0,d.default)(window).on("resize",this._resizeHandler=function(){e.loadIfRequired()})},s.prototype.add=function(e){return!!e.length&&(e=this._addPage(e),!0)},s.prototype.remove=function(e){if(this.options.idForEntity){var t=this.options.idForEntity(e);if(f.default.has(this._ids,t))return delete this._ids[t],!0}return!1},s.prototype.attachNewContent=function(e){throw new m.default.NotImplementedError("attachNewContent is abstract and must be implemented.")},s.prototype.handleErrors=function(e){throw new m.default.NotImplementedError("handleErrors is abstract and must be implemented.")},s.prototype.clear=function(){throw new m.default.NotImplementedError("clear is abstract and must be implemented.")},t.exports=s}.apply(t,r))&&(e.exports=i)},3688:function(e,t,n){var r,i;r=[t,e,n(23),n(4),n(24),n(207),n(3687)],void 0!==(i=function(e,t,n,r,i,o,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var l=Object.getOwnPropertyDescriptor(i,o);if(void 0!==l){if("value"in l)return l.value;var u=l.get;if(void 0===u)return;return u.call(a)}var s=Object.getPrototypeOf(i);if(null===s)return;e=s,t=o,n=a,r=!0,l=s=void 0}},d=l(n),f=l(r),h=l(i),p=l(o),m=l(a),g={NEXT:"next",PREVIOUS:"prev"},v=function(e){function t(){var e=this,n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];u(this,t),c(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,n),this.$table=(0,f.default)(this.options.tableEl),this.options.filterable&&function(){var t=e.$table.attr("id");t||(t=h.default.uniqueId("paged-table-"),e.$table.attr("id",t)),e.options.filterEl?e.$filter=(0,f.default)(e.options.filterEl):(e.$filter=(0,f.default)(bitbucket.internal.component.pagedTable.filter({forId:t,filter:e.provider.filter})),e.$filter.insertBefore(e.$table));var n=h.default.debounce(e._onFilterChanged,e.options.filterDebounce);e.$filter.on("keyup.paged-table-filter",function(t){t.which===d.default.keyCode.ESCAPE?(0,f.default)(e).blur():n(t)}).on("paste.paged-table-filter",n)}(),this.$spinner=(0,f.default)(bitbucket.internal.component.pagedTable.spinner()).insertAfter(this.$table),this.provider.on("data-requested",function(){e.$spinner.removeClass("hidden").spin(e.options.spinnerSize)});var r=h.default.debounce(function(){e.$spinner.addClass("hidden").spinStop()},0);this.provider.on("data-loaded",r),this.provider.on("data-request-failed",r)}return s(t,e),t}(m.default);v.defaults={spinnerSize:"large",filterable:!1,bufferPixels:150,filterDebounce:350,rowSelector:"> tbody > tr",rowKeySelector:"tr",focusOptions:{focusedClass:"focused",wrapAround:!1,itemLinkSelector:".title a"}},v.prototype.init=function(){var e=this;return m.default.prototype.init.apply(this,arguments).done(function(){e.shortcutsInitialised&&e.focusInitialRow()})},v.prototype.getFilterText=function(){return this.provider.filter.term},v.prototype._onFilterChanged=function(){var e=f.default.trim(this.$filter.val());e!==this.provider.filter.term&&(this.provider.setFilter("term",e),this.provider.reset())},v.prototype.reset=function(){m.default.prototype.reset.call(this),this.$table.addClass("no-rows")},v.prototype.update=function(e){return this.reset(),this.init(e)},v.prototype.attachNewContent=function(e){e.length?(this.handleNewRows(e),this._$rows=this.$table.find(this.options.rowSelector),this.provider.reachedEnd&&this.handleLastPage(),this.$table.removeClass("no-rows")):this.provider.reachedEnd&&(0===this._page?this.handleNoData():this.handleLastPage()),this.updateTimestamp()},v.prototype.updateTimestamp=function(){this.$table.attr("data-last-updated",(new Date).getTime())},v.prototype.focusInitialRow=function(){this.$table.find(this.options.rowSelector).first().addClass(this.options.focusOptions.focusedClass)},v.prototype.initShortcuts=function(){return this.shortcutsInitialised=!0,this.focusInitialRow(),{destroy:this.resetShortcuts.bind(this)}},v.prototype._getFocusedItem=function(){return this.$table.find(this.options.rowSelector+"."+this.options.focusOptions.focusedClass)},v.prototype.openItem=function(){var e=this._getFocusedItem();e.length&&e.find(this.options.focusOptions.itemLinkSelector).get(0).click()},v.prototype._moveFocus=function(e){var t=this._getFocusedItem(),n=t[e](this.options.rowKeySelector);if(this.options.focusOptions.wrapAround&&(e===g.NEXT&&t.is(this._$rows.last())&&(n=this._$rows.first()),e===g.PREVIOUS&&t.is(this._$rows.first())&&(n=this._$rows.last())),t.length&&n.length){n.addClass(this.options.focusOptions.focusedClass),t.removeClass(this.options.focusOptions.focusedClass);var r=this.$scrollElement.scrollTop(),i=this.$scrollElement.scrollTop()+this.$scrollElement.height(),o=n.offset().top<r,a=n.offset().top+n.height()>i;(o||a)&&n.get(0).scrollIntoView(a)}},v.prototype.moveNext=function(){this._moveFocus(g.NEXT)},v.prototype.movePrevious=function(){this._moveFocus(g.PREVIOUS)},v.prototype.resetShortcuts=function(){this.shortcutsInitialised=!1},v.prototype._new$Message=function(e){if("function"==typeof e&&(e=e.call(this)),e)return bitbucket.internal.component.pagedTable.message({content:e,extraClasses:this.options.tableMessageClass})},v.prototype.handleLastPage=function(){this.$table.after(this._new$Message(this.options.allFetchedMessageHtml))},v.prototype.handleNoData=function(){this.$table.addClass("no-rows").after(this._new$Message(this.options.getNoneFoundMessageHtml()))},v.prototype.handleErrors=function(e){throw new p.default.NotImplementedError},v.prototype.handleNewRows=function(e){throw new p.default.NotImplementedError},v.prototype.clear=function(){this.$table.children("tbody").empty(),this.$table.addClass("no-rows").nextAll(".paged-table-message").remove()},t.exports=v}.apply(t,r))&&(e.exports=i)},3689:function(e,t,n){var r,i;r=[t,e,n(1279)],void 0!==(i=function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return!(e.which&&1!==e.which||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey&&!o.default.isIE())}t.exports=i;var o=r(n)}.apply(t,r))&&(e.exports=i)},3690:function(e,t,n){var r,i;r=[t,e,n(23),n(4),n(24),n(3765),n(3766),n(3769),n(55),n(2311),n(851),n(3691),n(580),n(3689)],void 0!==(i=function(e,t,n,r,i,o,a,l,u,s,c,d,f,h){"use strict";function p(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var l=Object.getOwnPropertyDescriptor(i,o);if(void 0!==l){if("value"in l)return l.value;var u=l.get;if(void 0===u)return;return u.call(a)}var s=Object.getPrototypeOf(i);if(null===s)return;e=s,t=o,n=a,r=!0,l=s=void 0}},_=p(n),y=p(r),w=p(i),k=p(o),x=p(a),E=p(l),C=p(s),P=p(c),O=p(d),S=p(f),T=p(h),D=function(e){function t(e,n){var r=this;m(this,t),b(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,n),n.filter=n.filter||{},n.filter.author_id=n.selectedAuthor&&n.selectedAuthor.name,n.filter.target_ref_id=n.selectedTargetBranch&&n.selectedTargetBranch.id;var i=function(e){function t(e){var n;m(this,t);for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];(n=b(Object.getPrototypeOf(t.prototype),"constructor",this)).call.apply(n,[this,e].concat(i)),this._preloadItems=e.preload||[],this._preloaded=this._initialPreloadedState=0===this._preloadItems.length,this._equalityCheck=e.equals||function(e,t){return e.id===t.id}}return g(t,e),v(t,[{key:"reset",value:function(){return this._preloaded=this._initialPreloadedState,b(Object.getPrototypeOf(t.prototype),"reset",this).call(this)}},{key:"_fetchNext",value:function(e){if(!this._preloaded){if(!this.filter.term){var n=y.default.Deferred().resolve(this._preloadItems);return n.abort=y.default.noop,n}this._preloaded=!0}return b(Object.getPrototypeOf(t.prototype),"_fetchNext",this).call(this,e===this._preloadItems?null:e)}},{key:"_transform",value:function(e){if(!this._preloaded)return this._preloaded=!0,this._preloadItems;var n=this._equalityCheck,r=this._preloadItems,i=b(Object.getPrototypeOf(t.prototype),"_transform",this).call(this,e);return this.filter.term?i:i.filter(function(e){return!r.some(function(t){return n(t,e)})})}}]),t}(k.default),o=new i({preload:n.currentUser?[n.currentUser]:null,equals:function(e,t){return e.name===t.name},repository:n.repository,filter:n.authorFilter||{}}),a=new E.default({filter:{repository:n.repository,type:"branch"}}),l=new x.default({repository:n.repository.id,filter:{state:n.filter.state||P.default.PullRequestState.OPEN,author_id:n.filter.author_id||null,target_ref_id:n.filter.target_ref_id||null,reviewer_id:n.filter.reviewer_self&&n.currentUser?n.currentUser.name:null,query:n.filter.query||null}},n.initialData);n.gettingStarted||function(){var t=[{id:"pr-state-filter",type:C.default.Types.SELECT,text:_.default.I18n.getText("bitbucket.component.pull.request.list.state"),value:n.filter.state,menu:{items:[{id:P.default.PullRequestState.OPEN,text:_.default.I18n.getText("bitbucket.component.pull.request.list.state.open")},{id:P.default.PullRequestState.MERGED,text:_.default.I18n.getText("bitbucket.component.pull.request.list.state.merged")},{id:P.default.PullRequestState.DECLINED,text:_.default.I18n.getText("bitbucket.component.pull.request.list.state.declined")}]}},{type:C.default.Types.SELECT,text:_.default.I18n.getText("bitbucket.component.pull.request.list.author"),id:"pr-author-filter",value:n.filter.author_id||null,searchPlaceholder:_.default.I18n.getText("bitbucket.component.pull.request.list.search.author"),menu:{dataProvider:o,id:function(e){return e.name},initSelection:function(e,t){var r=e.val();if(n.filter.author_id===r)return t(n.selectedAuthor);throw new Error("Unexpected value '"+r+"' when initializing the author filter.")},formatSelection:function(e){return bitbucket.internal.component.pullRequestList.authorSelection({author:e})},formatResult:function(e){return bitbucket.internal.component.pullRequestList.authorResult({author:e})},formatNoMatches:function(){return _.default.I18n.getText("bitbucket.component.pull.request.list.search.author.nomatches")},placeholder:_.default.I18n.getText("bitbucket.component.pull.request.list.author"),dropdownCssClass:"pr-author-dropdown"}},{type:C.default.Types.SELECT,text:_.default.I18n.getText("bitbucket.component.pull.request.list.branch.target"),id:"pr-target-branch-filter",value:n.filter.target_ref_id||null,searchPlaceholder:_.default.I18n.getText("bitbucket.component.pull.request.list.search.branch"),menu:{dataProvider:a,initSelection:function(e,t){var r=e.val();if(n.filter.target_ref_id===r)return t(n.selectedTargetBranch);throw new Error("Unexpected value '"+r+"' when initializing the target branch filter.")},formatSelection:function(e){return bitbucket.internal.component.pullRequestList.targetBranchSelection({branch:e})},formatResult:function(e){return bitbucket.internal.component.pullRequestList.targetBranchResult({branch:e})},formatNoMatches:function(){return _.default.I18n.getText("bitbucket.component.pull.request.list.search.branch.nomatches")},placeholder:_.default.I18n.getText("bitbucket.component.pull.request.list.branch.target"),dropdownCssClass:"pr-target-branch-dropdown"}}];n.currentUser&&t.push({type:C.default.Types.TOGGLE,text:_.default.I18n.getText("bitbucket.component.pull.request.list.reviewer.self"),id:"pr-reviewer-self-filter",value:n.filter.reviewer_self});var i=n.query?{debounce:n.query.debounce,id:"pr-query-filter",value:n.filter.query||null}:null,u=new C.default(e,{id:"pull-requests-filter-bar",filters:t,query:i});u.on("change",function(){var e=u.state,t={state:e["pr-state-filter"],author_id:e["pr-author-filter"]||null,target_ref_id:e["pr-target-branch-filter"]||null,reviewer_self:e["pr-reviewer-self-filter"],query:e["pr-query-filter"]||null};l.setFilter("state",t.state),l.setFilter("author_id",t.author_id),l.setFilter("target_ref_id",t.target_ref_id),l.setFilter("reviewer_id",t.reviewer_self&&n.currentUser?n.currentUser.name:null),l.setFilter("query",t.query),l.reset(),r.trigger("state-change",t)});var s=function(){u.state=w.default.transform(t,function(e,t){e[t.id]=!(!t.menu||!t.menu.items)&&t.menu.items[0].id},{})};(0,y.default)(e).on("click","#reset-filters",function(e){(0,T.default)(e)&&(e.preventDefault(),s())})}();var u=function(){var e=l.filter,t=n.gettingStarted,r="OPEN"!==e.state||e.author_id||e.target_ref_id||e.reviewer_id||e.query;return t?bitbucket.internal.component.pullRequestList.gettingStarted({repository:n.repository}):r?bitbucket.internal.component.pullRequestList.noResultsFiltered({repository:n.repository}):bitbucket.internal.component.pullRequestList.noResults({repository:n.repository})};this.pullRequestTable=new O.default(e,{id:"pull-requests-table",dataProvider:l,getNoneFoundMessageHtml:u,repository:n.repository,currentUser:n.currentUser}),this.pullRequestTable.init();var s=function(){r.pullRequestTable._getFocusedItem().length||r.pullRequestTable.focusInitialRow()};this.pullRequestTable.on("page-rendered",s),s()}return g(t,e),v(t,[{key:"getKeyboardAction",value:function(e){var t=this._keyboardActions[e];if("function"==typeof t)return t;throw new Error("No keyboard action has been defined for '"+e+"'.")}},{key:"_keyboardActions",get:function(){return{moveNext:this.pullRequestTable.moveNext,movePrevious:this.pullRequestTable.movePrevious,openItem:this.pullRequestTable.openItem}}}]),t}(S.default);t.exports=D}.apply(t,r))&&(e.exports=i)},3691:function(e,t,n){var r,i;r=[t,e,n(23),n(4),n(24),n(55),n(236),n(3429),n(3688),n(3430),n(195)],void 0!==(i=function(e,t,n,r,i,o,a,l,u,s,c){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=function(e,t,n){for(var r=!0;r;){var i=e,o=t,a=n;r=!1,null===i&&(i=Function.prototype);var l=Object.getOwnPropertyDescriptor(i,o);if(void 0!==l){if("value"in l)return l.value;var u=l.get;if(void 0===u)return;return u.call(a)}var s=Object.getPrototypeOf(i);if(null===s)return;e=s,t=o,n=a,r=!0,l=s=void 0}},g=d(n),v=d(r),b=d(i),_=d(l),y=d(u),w={aMomentAgo:function(){return g.default.I18n.getText("bitbucket.pull.request.updated.date.format.a.moment.ago")},oneMinuteAgo:function(){return g.default.I18n.getText("bitbucket.pull.request.updated.date.format.one.minute.ago")},xMinutesAgo:function(e){return g.default.I18n.getText("bitbucket.pull.request.updated.date.format.x.minutes.ago",e)},oneHourAgo:function(){return g.default.I18n.getText("bitbucket.pull.request.updated.date.format.one.hour.ago")},xHoursAgo:function(e){return g.default.I18n.getText("bitbucket.pull.request.updated.date.format.x.hours.ago",e)},oneDayAgo:function(){return g.default.I18n.getText("bitbucket.pull.request.updated.date.format.one.day.ago")},xDaysAgo:function(e){return g.default.I18n.getText("bitbucket.pull.request.updated.date.format.x.days.ago",e)},oneWeekAgo:function(){return g.default.I18n.getText("bitbucket.pull.request.updated.date.format.one.week.ago")},defaultType:function(e){return g.default.I18n.getText("bitbucket.pull.request.updated.date.format.absolute",e)}},k=function(e){function t(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];f(this,t),n=v.default.extend({tableEl:(0,v.default)(bitbucket.internal.component.pullRequestTable.main({id:"bitbucket-pull-request-table",currentUser:JSON.stringify(n.currentUser)}))},n),(0,v.default)(e).append(n.tableEl),m(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,n),this._ids=this._ids||{},this.$tbody=this.$table.find("tbody"),_.default.init()}return h(t,e),p(t,[{key:"clear",value:function(){m(Object.getPrototypeOf(t.prototype),"clear",this).call(this),this._ids={}}},{key:"handleNewRows",value:function(e){var t=e.map(function(e){return bitbucket.internal.component.pullRequestTable.row({customMapping:w,pullRequest:e})});this.$tbody.append(t.join(""))}},{key:"handleErrors",value:function(e){console.error(e)}},{key:"idForEntity",value:function(e){return e.id}},{key:"_moveFocus",value:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];m(Object.getPrototypeOf(t.prototype),"_moveFocus",this).apply(this,n),this._getFocusedItem().find(this.options.focusOptions.itemLinkSelector).focus()}}]),t}(y.default);k.defaults=b.default.merge({},y.default.defaults,{autoLoad:!0,allFetchedMessageHtml:bitbucket.internal.component.pullRequestTable.allFetched()}),t.exports=k}.apply(t,r))&&(e.exports=i)},3692:function(e,t,n){var r,i;r=[n(24),t],void 0!==(i=function(e,t){"use strict";function n(){var e=O.call(arguments);return function(){return e.every(v(arguments))}}function r(e,t){return e.map(v.call(this,t))}function i(e,t){return l(e,0,t)}function o(e){return function(){return e.apply(this,O.call(arguments).reverse())}}function a(e){var t=O.call(arguments,1);return function(){return e.apply(this,t.map(_(arguments)))}}function l(e,t,n){return function(){return e.apply(this,O.call(arguments,t,n))}}function u(e){return function(){return e}}function s(e){return function(){var t=Object.create(e.prototype),n=e.apply(t,arguments);return null!==n&&"object"==typeof n?n:t}}function c(e){return function(t){return null!=t?t:e}}function d(e){var t=e.split(".");return function(e){return t.reduce(function(e,t){return null!=e?e[t]:void 0},e)}}function f(t,n){return e.compose(p(n),d(t))}function h(e){var t=O.call(arguments,1),n=d(e),r=null;return-1!==e.indexOf(".")&&(r=d(e.substr(0,e.lastIndexOf(".")))),function(e){var i=n(e);return r&&(e=r(e)),"function"==typeof i?i.apply(e,t):i}}function p(e){return function(t){return e===t}}function m(e){return function(){return e.apply(this,arguments)>=0}}function g(e){var t=O.call(arguments,1);return function(n){var r=d(e)(n),i=-1!==e.indexOf(".")?d(e.substr(0,e.lastIndexOf(".")))(n):n;if("function"!=typeof r)throw new TypeError(r+" is not a function");return r.apply(i,t)}}function v(e){return function(t){return t.apply(this,e)}}function b(e,t){return function(){var n=O.call(arguments),r=this;setTimeout(function(){e.apply(r,n)},t)}}function _(e){return function(t){return e[t]}}function y(e){return function(){return!e.apply(this,arguments)}}function w(){var e=O.call(arguments);return function(){return e.some(v(arguments))}}function k(e){var t=O.call(arguments,1);return function(){return e.apply(this,O.call(arguments).concat(t))}}function x(t){var r=e.map(t,a(f,1,0));return n.apply(null,r)}function E(e,t,n){var r=e.split("."),i=r.pop();return function(e){return r.reduce(function(e,t){if(null!=e[t]&&"object"!=typeof e[t])throw new TypeError("Can't set property on non-object");return null==e[t]&&n?e[t]={}:e[t]},e)[i]=t,e}}function C(e,t){return function(){if(arguments.length<=t)return e.apply(this,arguments);var n=O.call(arguments);return n.splice.apply(n,[t||0,1].concat(n[t||0])),e.apply(this,n)}}function P(e){return function(){var t=O.call(arguments);return t.unshift(this),e.apply(this,t)}}var O=Array.prototype.slice;t.and=n,t.applyAll=r,t.arity=i,t.argFlip=o,t.argMap=a,t.argSlice=l,t.constant=u,t.create=s,t.defaultValue=c,t.dot=d,t.dotEq=f,t.dotX=h,t.eq=p,t.found=m,t.invoke=g,t.lookup=_,t.lazyApply=v,t.lazyDefer=k(b,1),t.lazyDelay=b,t.not=y,t.or=w,t.partialRight=k,t.propEqual=x,t.set=E,t.spread=C,t.thisToParam=P,t.unary=k(i,1),t.binary=k(i,2)}.apply(t,r))&&(e.exports=i)},3764:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(2310),s=r(u),c=n(4),d=r(c),f=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"transform",value:function(){return this._transform.apply(this,arguments)}},{key:"_fetch",value:function(e){return d.default.ajax({method:"GET",url:e})}},{key:"_errorTransform",value:function(e){return e&&e.errors||e}},{key:"_validate",value:function(){}}]),t}(s.default);t.default=f,e.exports=t.default},3765:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},s=n(24),c=r(s),d=n(122),f=r(d),h=n(3683),p=r(h),m=n(1617),g=r(m),v=n(2877),b=r(v),_=n(36),y=r(_),w={term:"user_search"},k=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"_transform",value:function(e){return(0,b.default)(e.values||[],g.default.user)}},{key:"_reachedEnd",value:function(e){return!Array.isArray(e)&&u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_reachedEnd",this).call(this,e)}},{key:"_getBuilder",value:function(){var e=this;return{build:function(){var t=c.default.chain(e.filter).pick(function(e){return e}).mapKeys(function(e,t){return w[t]||t}).value();return"/!api/internal/repositories/"+y.default.fullslug+"/pr-authors/"+f.default.format({query:t})}}}}]),t}(p.default);t.default=k,e.exports=t.default},3766:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var n=g.default.pick(e,q);for(var r in n)null===n[r]&&delete n[r];n.reviewer_id&&(n["reviewers.username"]=A.default.username,delete n.reviewer_id);var i=[];if(n.query&&n.query.trim()){var o=[j.BBQLClause.fromKeyValue("title",N.BBQLOperators.CONTAINS,n.query),j.BBQLClause.fromKeyValue("description",N.BBQLOperators.CONTAINS,n.query)],a=(0,E.default)(n.query);null!==a&&o.push(j.BBQLClause.fromKeyValue("id",N.BBQLOperators.EQUALS,a)),i.push(new j.BBQLOr(o))}delete n.query;var l={fields:U,pagelen:25,q:(0,B.default)(n,I,i)};return t&&g.default.extend(l,t),y.default.format({query:l})}function u(e,t){return"/!api/2.0/repositories/"+D.default.fullslug+"/pullrequests"+l(e,t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},d=n(23),f=r(d),h=n(4),p=r(h),m=n(24),g=r(m),v=n(476),b=r(v),_=n(122),y=r(_),w=n(3684),k=r(w),x=n(3767),E=r(x),C=n(1617),P=r(C),O=n(2877),S=r(O),T=n(36),D=r(T),M=n(39),A=r(M),N=n(361),j=n(731),R=n(3508),B=r(R),L=n(4107),F=r(L),I={at:"destination.branch.name",author_id:"author.username",query:"query",reviewer_id:"reviewers.username",state:"state",target_ref_id:"destination.branch.name"},q=Object.keys(I),$=(0,p.default)("body"),U=["+values.participants","+values.reviewers","+values.comment_count","+values.task_count","-size"].join(","),H=function(e){function t(e,n){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if(n&&n.next){var a=y.default.parse(n.next),l=b.default.parse(a.query),s=l.page?l.page:2;n.next=u(r.filter,{page:s})}return r}return a(t,e),s(t,[{key:"_fetch",value:function(e){var n=c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_fetch",this).call(this,e);return n.then(function(e){$.trigger("pr-data-provider-page-loaded",e)}),n}},{key:"fetchNext",value:function(){var e=this;return this.emojiReplacer?c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fetchNext",this).call(this):(0,F.default)().then(function(n){return e.emojiReplacer=n,c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"fetchNext",e).call(e)})}},{key:"_getBuilder",value:function(){var e=this;return{build:function(){return u(e.filter)}}}},{key:"_transform",value:function(e){var t=this;return(0,S.default)((0,g.default)(e.values||[]),P.default.pullRequest).map(function(e){return e.titleHtml=t.emojiReplacer.replace(f.default.escapeHtml(e.title)),e}).value()}}]),t}(k.default);t.default=H,e.exports=t.default},3767:function(e,t,n){"use strict";function r(e){var t=e.match(/^#?(\d+)$/);return t?t[1]:null}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,e.exports=t.default},3768:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=h.default.parse(e,!0),r=d.default.chain({}).assign(n.query,t).pick(d.default.identity).value();return h.default.resolve(n,h.default.format({query:r}))}function o(e){var t=h.default.parse(e,!0),n=a(t.query,{filterMap:g,correctors:v,correctionsHandler:function(e){s.default.flag({body:"<ul>"+e.map(function(e){return interpolate(b,e,!0)}).join("")+"</ul>",title:gettext("We automatically updated invalid values in the following URL query parameters:"),type:"info"})}});return l(n),n}function a(e,t){var n=[],r=d.default.mapValues(e,function(e,r){var i=t.correctors[r]?t.correctors[r](e):e;return i!==e&&n.push({givenValue:s.default.escapeHtml(e),paramName:r,correctedValue:i}),i});return n.length&&t.correctionsHandler(n),d.default.mapKeys(r,function(e,n){return t.filterMap[n]||n})}function l(e){var t=d.default.mapKeys(e,function(e,t){return m[t]||t});window.history.replaceState(t,null,i(window.location.href,t))}Object.defineProperty(t,"__esModule",{value:!0}),t.urlWithParams=i,t.filterFromUrlParams=o,t.extractAndCorrectUrlParams=a,t.updateUrlWithFilterParams=l;var u=n(23),s=r(u),c=n(24),d=r(c),f=n(122),h=r(f),p=n(851),m={author_id:"author",query:"query",reviewer_self:"reviewing",state:"state",target_ref_id:"at"},g=d.default.invert(m),v={state:function(e){return p.PullRequestState[e]?e:"OPEN"}},b=gettext('<li>"%(paramName)s" was changed to <strong>%(correctedValue)s</strong> from its previous value: <strong>%(givenValue)s</strong></li>')},3769:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(24),s=r(u),c=n(122),d=r(c),f=n(3685),h=r(f),p=n(1617),m=r(p),g=n(2877),v=r(g),b=n(36),_=r(b),y=n(361),w=n(731),k=n(3508),x=r(k),E={term:"destination.branch.name"},C=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"_getBuilder",value:function(){var e=this;return{build:function(){var t=s.default.pick(e.filter,Object.keys(E)),n={};return t.term=t.term&&t.term.trim(),t.term&&(t.term=new w.BBQLClauseSuffix(y.BBQLOperators.CONTAINS,t.term),n.q=(0,x.default)(t,E)),"/!api/internal/repositories/"+_.default.fullslug+"/pr-dest-branches/"+d.default.format({query:n})}}}},{key:"_transform",value:function(e){return(0,v.default)(e.values||[],m.default.ref)}}]),t}(h.default);t.default=C,e.exports=t.default},3829:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=r(i),a=n(427),l=r(a);t.default=l.default.extend({label:gettext("Pull request actions"),minQueryLength:0,maxResults:!1,initialize:function(e){l.default.prototype.initialize.apply(this,arguments),this.pullRequest=e.pullRequest},data:function(){var e=this.pullRequest.get("hasCurrentUserApproved"),t=this.pullRequest.get("isWatchedByCurrentUser");return[{label:gettext("Edit pull request"),$el:(0,o.default)("#edit-pullrequest")},{label:e?gettext("Unapprove pull request"):gettext("Approve pull request"),$el:(0,o.default)("#approve-button")},{label:t?gettext("Stop watching"):gettext("Watch"),$el:(0,o.default)("#watch-pullrequest a")},{label:gettext("Merge pull request"),$el:(0,o.default)("#fulfill-pullrequest:enabled")},{label:gettext("Decline pull request"),$el:(0,o.default)("#reject-pullrequest")},{label:gettext("Revert pull request"),$el:(0,o.default)("#revert-pullrequest")}]},context:function(){return interpolate(gettext("Pull request #%(pull_request_id)s"),{pull_request_id:this.pullRequest.get("id")},!0)}}),e.exports=t.default},3831:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(31),o=r(i),a=n(27),l=r(a);t.default=o.default.View.extend({tagName:"li",events:{click:"renderNextComment"},initialize:function(e){this.noun=e.noun,this.auiAvatarSize=e.auiAvatarSize,this.model.on("change",this.render,this),this.model.on("destroy",this.remove,this)},render:function(){var e=this.model.toJSON();return e.size=this.auiAvatarSize||"medium",this.$el.html(l.default.toHtml("participant-liveupdate-template",e)),this},renderNextComment:function(e){e.preventDefault(),this.model.get("comments")?this.trigger("render-next-comment",this.model.id):this.model.get("approved")&&this.trigger("show-approvals",this.model.id)}}),e.exports=t.default},3832:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(860),o=r(i),a=n(3831),l=r(a);t.default=o.default.extend({initialize:function(e){o.default.prototype.initialize.call(this,e),this.collection.bind("add",this.addParticipant,this),this.collection.bind("add",this.toggleEmptyClass,this),this.collection.bind("destroy",this.toggleEmptyClass,this)},addParticipant:function(e){var t=new l.default({model:e,noun:this.collection.noun,auiAvatarSize:this.auiAvatarSize}).render();this.$el.append(t.$el),t.on("render-next-comment",this.renderUserComment,this),t.on("show-approvals",this.showApprovals,this)},toggleEmptyClass:function(){this.$el.toggleClass("empty",!this.collection.length)},renderUserComment:function(e){this.trigger("render-user-comment",e)},showApprovals:function(e){this.trigger("show-approvals",e)}}),e.exports=t.default},3878:function(e,t,n){"use strict";function r(e){return e.replace(/-\w/g,function(e){return e[1].toUpperCase()})}Object.defineProperty(t,"__esModule",{value:!0});for(var i,o=document.body.attributes,a=/^data-switch-(.*)/,l={},u=0;u<o.length;u++)(i=a.exec(o[u].name))&&(l[r(i[1])]=!0);t.default=l,e.exports=t.default},3914:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(31),o=r(i),a=n(3915),l=r(a);t.default=o.default.Collection.extend({model:l.default,initialize:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.pullrequest=t.pullrequest},url:function(){return this.pullrequest.url()+"/merge-restrictions/"},parse:function(e){var t=e.restrictions;return Object.keys(t).map(function(e){return t[e]})},load:function(){return this.fetch({data:{checkConflicts:!0},reset:!0})},update:function(){return this.fetch({remove:!1})},canMerge:function(){return this.every(function(e){return e.get("allow_merge")||e.get("pass")})},canPostBuildMerge:function(){return this.every(function(e){return"minimum_successful_builds"===e.get("key")||e.get("allow_merge")||e.get("pass")})},errors:function(){return this.reduce(function(e,t){return e.concat(t.get("errors"))},[])},failedChecklistLabels:function(){return this.filter(function(e){return!e.get("pass")&&!!e.get("label")}).map(function(e){return e.get("label")})}}),e.exports=t.default},3915:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(31),o=r(i);t.default=o.default.Model.extend({idAttribute:"key",defaults:{errors:[],key:"",name:"",pass:!0,allow_merge:!0,result:null}}),e.exports=t.default},3916:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,o){try{var a=t[i](o),l=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)});e(l)}return r("next")})}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),a=r(o),l=n(31),u=r(l),s=n(727),c=r(s),d=n(3469),f=r(d),h=n(3914),p=r(h),m=n(3925),g=r(m),v=n(36),b=r(v),_=n(735),y=r(_),w=!1;t.default=u.default.Model.extend({defaults:{approvalCount:0,hasCurrentUserApproved:!1,isWatchedByCurrentUser:!1,canMerge:!1,canPostBuildMerge:!1},urlRoot:"/!api/internal/repositories/"+b.default.fullslug+"/pullrequests/",initialize:function(){var e=this;this.tasks=new f.default([],{pullrequest:this}),this.mergeRestrictions=new p.default([],{pullrequest:this}),this.listenTo(this.mergeRestrictions,"reset change:pass change:allow_merge",function(t){e.set("canMerge",e.mergeRestrictions.canMerge()),e.set("canPostBuildMerge",e.mergeRestrictions.canPostBuildMerge())}),this.listenTo(this.tasks,"sync",function(t){t.id&&e.mergeRestrictions.update()}),this.listenTo(c.default.vent,"updateApprovals",function(t){e.set("approvalCount",t),e.mergeRestrictions.update()}),this.on("change:hasCurrentUserApproved",this._updateWatching,this),this.on("change:hasCurrentUserApproved",function(){c.default.vent.trigger("currentUserApproved")},this)},_sendRequest:function(e,t,n){return a.default.ajax({url:this.url()+(e?"/"+e:""),type:t||"GET",data:n})},_setWatching:function(e){var t=this;if(this.get("isWatchedByCurrentUser")!==e){var n=this._sendRequest("watch",e?"POST":"DELETE");return n.done(function(e){t.set("isWatchedByCurrentUser",e.watching)}),this.trigger("loading:isWatchedByCurrentUser",n),n}},_setApproved:function(e){var t=this;if(this.get("hasCurrentUserApproved")!==e){var n=void 0;return n=e?this._sendRequest("approve","POST",{source_cset:g.default}):this._sendRequest("approve","DELETE"),n.done(function(e){t.set("hasCurrentUserApproved",e.approved)}),this.trigger("loading:hasCurrentUserApproved",n),n}},_updateWatching:function(){var e=this,t=this._sendRequest("watch");this.trigger("loading:isWatchedByCurrentUser",t),t.done(function(t){e.set("isWatchedByCurrentUser",t.watching)})},approve:function(){this._setApproved(!0)},unapprove:function(){this._setApproved(!1)},watch:function(){this._setWatching(!0)},unwatch:function(){this._setWatching(!1)},fetchTasksOnce:function(){w||(w=!0,this.trigger("loading:tasks",this.tasks.fetch({remove:!1,data:{pagelen:100,fields:"+values.comment.inline.*"}})))},createTask:function(e){var t=this.tasks.getUnsaved();t?t.trigger("edit"):e.content?this.tasks.create(a.default.extend({comment:e.comment},e)):this.tasks.add(a.default.extend({comment:e.comment},e))},getComments:function(){var e=this;return i(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,y.default)(e.url()+"/comments?pagelen=100",{maxPages:10});case 2:return n=t.sent,r=n.results,t.abrupt("return",r);case 5:case"end":return t.stop()}},t,e)}))()}}),e.exports=t.default},3917:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(31),o=r(i);t.default=o.default.Model.extend({defaults:{completed:!1,content:""},toJSON:function(){var e={content:{raw:this.get("content")},completed:this.get("completed"),creator:this.get("creator"),state:this.get("completed")?"RESOLVED":"UNRESOLVED"};return this.id&&(e.id=this.id),this.get("comment")&&(e.comment={id:this.get("comment").id,path:this.get("comment").path}),e},parse:function(e){var t={completed:"RESOLVED"===e.state,content:e.content.raw,creator:e.creator,id:e.id};return e.comment&&(t.comment={id:e.comment.id,path:e.comment.inline&&e.comment.inline.path}),t}}),e.exports=t.default},3918:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(56),o=r(i);n(92),n(70),t.default=o.default.ItemView.extend({template:"#pullrequest-approve-button-template",modelEvents:{"change:hasCurrentUserApproved":"render","change:approvalCount":"render","loading:hasCurrentUserApproved":"loading"},events:{"click @ui.$button":"toggleApproval"},ui:{$button:"#approve-button"},initialize:function(e){this.mergeOptions(e,["showCount"])},templateHelpers:function(){return{showApprovalCount:this.showCount}},toggleApproval:function(){this.model.get("hasCurrentUserApproved")?this.model.unapprove():this.model.approve()},setEnabled:function(e){this.ui.$button.disable(!e)},loading:function(e){this.ui.$button.loading(e)}}),e.exports=t.default},3919:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=r(i),a=n(19),l=r(a),u=n(863),s=r(u);t.default=s.default.extend({getClassNames:function(){var e=s.default.prototype.getClassNames.call(this);return e.push("collapsible collapsed"),e},collapsed:!0,ui:l.default.extend(s.default.prototype.ui,{description:".description"}),events:l.default.extend(s.default.prototype.events,{click:"toggleCollapsed"}),onChangeCompleted:function(){this.model.get("completed")&&this.$el.addClass("collapsed"),s.default.prototype.onChangeCompleted.call(this)},toggleCollapsed:function(e){if(!this.editing&&!this.model.get("completed")){var t=(0,o.default)(e.target),n=[this.ui.contextLink,this.ui.saveLink,this.ui.editLink,this.ui.cancelLink,this.ui.deleteLink],r=[];if(l.default.each(n,function(e){e.selector&&r.push(e.selector)}),t.is(this.ui.status.selector))return this.collapsed=!0,void this.$el.toggleClass("collapsed",!0);t.closest(r.join(",")).length||(this.collapsed=!this.collapsed,this.$el.toggleClass("collapsed",this.collapsed))}}}),e.exports=t.default},3920:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=r(i),a=n(56),l=r(a),u=n(3929),s=r(u),c=n(4137),d=r(c),f=n(196),h=r(f);n(92),t.default=l.default.ItemView.extend({modelEvents:{"change:canMerge":"render"},initialize:function(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.dialog=(0,s.default)(this.$el),this.isDialogBound=!1,this.listenTo(this.model.mergeRestrictions,"change:errors change:pass",function(){return e.renderErrors()}),this.listenTo(this.model,this.options.postBuildMergeEnabled?"change:canPostBuildMerge":"change:canMerge",function(){return e.renderMergeable()}),this.listenToOnce(this.model.mergeRestrictions,"reset",function(){e.$el.disable(!1),e.render()})},render:function(){return this.renderMergeable(),this.renderErrors(),this},renderMergeable:function(){var e=this.model.get("canMerge"),t=this.model.get("canPostBuildMerge"),n=this.options.postBuildMergeEnabled,r=e||n&&t;this.$el.toggleClass("aui-button-primary",r),r?(this.$el.removeAttr("aria-controls"),!this.isDialogBound&&this.dialog.bind(),this.isDialogBound=!0):(this.$el.attr("aria-controls","merge-errors"),this.isDialogBound&&this.dialog.unbind(),this.isDialogBound=!1)},renderErrors:function(){var e=this.model.mergeRestrictions.errors(),t=(0,o.default)(".merge-errors--list");if(e.length)return t.empty(),void e.forEach(function(e){t.append((0,o.default)("<p>").text(e))});var n=this.model.mergeRestrictions.failedChecklistLabels();t.html((0,d.default)({confirmText:gettext("Got it"),description:gettext("You can't merge until this pull request meets the following conditions:"),failedChecks:n,learnMoreText:gettext("Learn more"),learnMoreUrl:h.default.external.mergeRestrictionsDocumentation(),title:gettext("Merge checklist")}));var r=document.getElementById(this.$el.attr("aria-controls"));if(r){var i=r.querySelector(".merge-check--close-button");i&&i.addEventListener("click",function(){return r.open=!1})}}}),e.exports=t.default},3921:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(56),o=r(i),a=n(727),l=r(a);n(70),t.default=o.default.ItemView.extend({template:"#pullrequest-tasks-count-template",templateHelpers:function(){return{has_tasks:!!this.model.tasks.reject(function(e){return e.isNew()}).length}},events:{"click @ui.link":"handleClick"},modelEvents:{"loading:tasks":"loading"},ui:{link:"a"},initialize:function(){l.default.vent.once("diff:loaded",function(){this.listenTo(this.model.tasks,"sync remove",this.render)}.bind(this))},handleClick:function(e){e.preventDefault(),l.default.vent.trigger("unresolvedTaskCountClicked")},onRender:function(){var e=this.model.tasks.filter(function(e){return!e.get("completed")&&!e.isNew()}).length,t=gettext("All tasks resolved");e>0&&(t=interpolate(ngettext("%(taskCount)s open task","%(taskCount)s open tasks",e),{taskCount:e},!0)),this.ui.link.text(t)},loading:function(e){this.ui.link.loading(e)}}),e.exports=t.default},3922:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(56),o=r(i),a=n(19),l=r(a),u=n(3469),s=r(u),c=n(3919),d=r(c),f=n(1632),h=r(f);t.default=o.default.LayoutView.extend({template:"#pullrequest-task-list-template",regions:{openTasks:"#open-tasks",resolvedTasks:"#resolved-tasks"},initialize:function(){this.listenTo(this.model.tasks,"add remove",this.render)},onRender:function(){this.updateTasks()},templateHelpers:function(){return{hasResolvedTasks:!!this._getTasks({completed:!0}).length}},_getTasks:function(e){return l.default.reject(this.model.tasks.where(e),function(e){return e.isNew()})},updateTasks:function(){this.openTasks.show(new h.default({collection:new s.default(this._getTasks({completed:!1})),childView:d.default})),this.resolvedTasks.show(new h.default({collection:new s.default(this._getTasks({completed:!0})),childView:d.default}))}}),e.exports=t.default},3923:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(56),o=r(i),a=n(69),l=r(a),u=n(3922),s=r(u);t.default=o.default.ItemView.extend({template:!1,initialize:function(){this.taskList=new s.default({model:this.model}),this.dialog=new l.default({id:"task-list-dialog",title:gettext("Tasks"),hintText:gettext("Tip: Use shift + T to open the task list."),content:this.taskList.render().$el,showCancel:!1}),this.dialog.on("show",this.taskList.render.bind(this.taskList))},hideDialog:function(){this.dialog&&this.dialog.hide()},toggleDialog:function(e){e&&e.preventDefault(),this.dialog.toggle()}}),e.exports=t.default},3924:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(56),o=r(i);n(70),t.default=o.default.ItemView.extend({template:"#pullrequest-watch-template",modelEvents:{"change:isWatchedByCurrentUser":"render","loading:isWatchedByCurrentUser":"loading"},events:{"click a":"toggleWatch"},toggleWatch:function(e){e.preventDefault(),this.model.get("isWatchedByCurrentUser")?this.model.unwatch():this.model.watch()},loading:function(e){this.$el.loading(e)}}),e.exports=t.default},3925:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=r(i);t.default=(0,o.default)("#pullrequest").data("source-cset"),e.exports=t.default},3926:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=r(i),a=n(27),l=r(a);t.default={showUpdatesDialog:function(){var e,t,n=(0,o.default)("#edit-pullrequest"),r=n.attr("data-changed"),i=n.attr("data-newest-changeset");if(r)return t=(0,o.default)("#pullrequest-updates-dialog, #rebase-necessitates-update"),e=(0,o.default)(l.default.toHtml("pullrequest-update-dialog-template",{mostRecent:i})),t.length?t.replaceWith(e):n.after(e),n.addClass("bb-inline-dialog-anchor"),e.on("click",".close",function(t){t.preventDefault(),e.remove(),n.removeClass("bb-inline-dialog-anchor")}),e}},e.exports=t.default},3927:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){$(e,function(){(0,a.publishFact)(new q.PullRequestOpenedFact({pull_request_id:p.default.localId,from_repository_uuid:p.default.fromRepositoryUuid||void 0,to_repository_uuid:b.default.uuid,to_repository_owner_uuid:b.default.owner.uuid,history_id:g.default.id})),(0,a.publishScreenEvent)("pullRequestScreen")})};var i=n(4),o=r(i),a=n(34),l=n(428),u=r(l),s=n(3829),c=r(s),d=n(3449),f=r(d),h=n(139),p=r(h),m=n(493),g=r(m),v=n(36),b=r(v),_=n(1631),y=r(_),w=n(727),k=r(w),x=n(3916),E=r(x),C=n(3918),P=r(C),O=n(3920),S=r(O),T=n(3921),D=r(T),M=n(3923),A=r(M),N=n(3924),j=r(N),R=n(3471),B=n(133),L=r(B),F=n(737),I=r(F),q=n(359),$=function(e,t){function n(e){var t=(0,o.default)('[data-filename="{}"] .eclipsedcount'.format(e.get("comment").path));(0,f.default)(t).done(function(){var e=window.location.hash;window.location.hash=" ",window.location.hash=e}).fail(function(){(0,o.default)("#pr-menu-activity").click(),(0,o.default)(document).one("pjax:end",function(){window.location.hash="task-"+e.get("id")})})}var r=(0,o.default)("#pullrequest-actions").find(".approve"),i=(0,o.default)("#watch-pullrequest"),a=(0,o.default)("#pullrequest"),l=new E.default({id:e,status:p.default.status,approvalCount:r.data("approvalCount"),hasCurrentUserApproved:r.data("hasCurrentUserApproved"),isWatchedByCurrentUser:i.data("isWatching")});u.default.register(c.default,{weight:400,pullRequest:l}),y.default.addInitializer(function(e){new j.default({el:i,model:e.pullrequest}).bindUIElements()}),y.default.addInitializer(function(e){var t=new P.default({el:r,model:e.pullrequest,showCount:!0});t.bindUIElements(),t.setEnabled(!0)}),y.default.addInitializer(function(e){if("open"===e.pullrequest.get("status")){var t=(0,o.default)("#fulfill-pullrequest");if(t.data("restrictions-ux")){new S.default({el:t,model:e.pullrequest,postBuildMergeEnabled:!!a.data("postBuildMergeEnabled")}).render();var n=function(){(0,o.default)(document).one("diff:loaded",function(){var t=(0,o.default)("#compare").data("mergeRestrictions");e.pullrequest.mergeRestrictions.reset(t)})},r=function(){(0,L.default)(function(){e.pullrequest.mergeRestrictions.load()})};"diff"===(0,o.default)("#pr-tab-info").attr("data-active-tab-on-load")?n():r()}}}),y.default.addInitializer(function(e){new D.default({el:(0,o.default)("#pullrequest-task-list"),model:e.pullrequest}).bindUIElements();var t=new A.default({model:e.pullrequest});k.default.vent.on("unresolvedTaskCountClicked taskContextLinkClicked",function(r){e.pullrequest.fetchTasksOnce(),t.toggleDialog(),r&&!(0,o.default)("#task-"+r.get("id")).is(":visible")&&r.get("comment").path&&n(r)}),l.tasks.on("remove",function(){l.tasks.length||t.hideDialog()}),(0,I.default)([{section:gettext("Commits / pull requests"),shortcuts:[{keys:["shift+t"],description:gettext("Show the list of tasks"),op:"execute",params:[function(){e.pullrequest.fetchTasksOnce(),t.toggleDialog()}]}]}]),(0,o.default)(document).on("keypress",function(e){k.default.vent.trigger("keypress:"+e.keyCode,e)})}),y.default.addInitializer(function(e){var t=e.pullrequest,n=function(){return t.fetchTasksOnce()};k.default.vent.once("diff:loaded",function(){t.tasks.once("sync add remove",function(e,r,i){i&&i.xhr?i.xhr.done(n):t.fetchTasksOnce()})})}),y.default.addInitializer(function(e){p.default.uses_comment_service&&k.default.vent.once("diff:loaded",function(){e.pullrequest.getComments().then(function(e){e.forEach(function(e){e.inline&&e.inline.outdated||(0,R.renderComment)(e)})})})}),y.default.start({pullrequest:l}),t&&t()};e.exports=t.default},3928:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return a.default.post("/!api/internal/repositories/"+e+"/commits/statuses/",{commits:t})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(4),a=r(o);e.exports=t.default},3929:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(23),o=r(i),a=n(4),l=r(a),u=n(424),s=r(u),c=n(154),d=r(c);t.default=function(e){return new s.default(e,{onUpdateContents:function(e){var t=e.popup.element;t.find("form.maskable").removeClass("has-mask"),t.find('input[name="tzoffset"]').val(-(new Date).getTimezoneOffset());var n=t.find("#id_commit_message"),r=(0,l.default)("#id_merge_strategy").val(),i="True"===(0,l.default)('option[value="'+r+'"]').attr("data-commit-msg-editable")||void 0===r;n.closest(".field-group").toggle(i),t.find("#id_merge_strategy").auiSelect2({formatResult:function(e){var t=(0,l.default)(e.element).attr("data-command");return e.text+' <span class="merge-strategy--flag">'+t+"</span>"}}).on("change",function(e){var t="True"===(0,l.default)(e.added.element).attr("data-commit-msg-editable");n.closest(".field-group").toggle(t),n.text()===(0,l.default)(e.removed.element).attr("data-default-commit-msg")&&n.text((0,l.default)(e.added.element).attr("data-default-commit-msg"))})},success:function(e,t){var n=this;t.result?window.location=t.result:t.postBuildMerge?(o.default.messages.success({body:gettext("This PR will be merged automatically when builds pass.")}),this.$trigger_.text(gettext("Merge pending")),this.close()):setTimeout(function(){(0,d.default)(t.url).fail(n.error.bind(n))},1e3)},error:function(e,t){if(t.responseJSON&&t.responseJSON.outOfSync){this.close();var n=(0,l.default)(".js-update-pr-href").attr("href");return e=gettext("The source branch for this pull request has new commits.\n          You should update the pull request with them before proceeding:")+" "+gettext('<a class="quick-update-pr js-quick-update-pr" href="'+n+'">Update now.</a>'),void o.default.messages.error({title:gettext("New commits detected"),body:e})}if(t.responseJSON&&t.responseJSON.html)return void this.updateContents(t.responseJSON.html);this.complete_(),this.displayError({title:gettext("Unable to merge"),body:e,closeable:!1})},complete:function(){},dataType:"json",isStaticContent:!0,width:700,urlAttr:"data-form-url"})},e.exports=t.default},3930:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(23),o=r(i),a=n(4),l=r(a),u=n(19),s=r(u),c=n(154),d=r(c);(0,l.default)(document).on("click",".js-quick-update-pr",function(e){e.preventDefault();var t=(0,l.default)(".js-quick-update-pr"),n=t.attr("href");if(!t.hasClass("loading")){t.addClass("loading");var r=function(e){var n=(0,l.default)("<div></div>"),r=gettext("An error occurred while updating."),i=gettext("Try refreshing this page or editing the pull request directly.");e&&(l.default.isArray(e)&&e.length?(s.default.each(e,function(e){(0,l.default)("<p></p>").text(e).appendTo(n)}),i=n.html()):(r=e,i=null)),o.default.messages.error({title:r,body:i}),t.removeClass("loading")};l.default.ajax({type:"POST",url:n,data:{_quick_update:1},dataType:"json",error:function(){r()},success:function(e){e.errors?r(e.errors):e.result?window.location=e.result:setTimeout(function(){(0,d.default)(e.url).fail(r)},1e3)}})}})},3931:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){(0,c.default)(document).one("diff:loaded",function(){function e(){if(!document.hidden&&window.performance&&window.performance.okayToSendMetrics){var e=window,t=e.performance;t.mark("ENDTIME"),t.measure("DIFFS.RENDERED","requestStart","ENDTIME");var n=t.getEntriesByName("DIFFS.RENDERED","measure");if(t.clearMarks("ENDTIME"),t.clearMeasures("DIFFS.RENDERED"),1===n.length){var r=(0,Ce.filterLoadTimes)({duration:n[0].duration}),i=r.duration;"number"==typeof i?(0,be.histogram)({"performance.diffs.rendered":i}):g.default.captureMessage("METRIC_OUTLIER",{tags:{"diffs.rendered":i,METRICS_MAX_TIME:Ce.METRICS_MAX_TIME}})}}}setTimeout(e,0)})}Object.defineProperty(t,"__esModule",{value:!0});var o=n(23),a=r(o),l=n(499),u=r(l),s=n(4),c=r(s),d=n(24),f=r(d),h=n(122),p=r(h),m=n(135),g=r(m);n(74),n(1427);var v=n(34),b=n(1621),_=r(b),y=n(1293),w=r(y),k=n(715),x=r(k),E=n(1295),C=r(E),P=n(167),O=r(P),S=n(857),T=r(S),D=n(424),M=r(D),A=n(716),N=r(A),j=n(241),R=r(j),B=n(160),L=r(B),F=n(717),I=r(F),q=n(356),$=r(q),U=n(718),H=r(U),z=n(3449),W=r(z),V=n(429),G=r(V),Q=n(860),Y=r(Q),K=n(139),J=r(K),Z=n(36),X=r(Z),ee=n(3470),te=r(ee),ne=n(727),re=r(ne),ie=n(3927),oe=r(ie),ae=n(3926),le=r(ae),ue=n(728),se=r(ue),ce=n(154),de=r(ce),fe=n(179),he=r(fe),pe=n(1353),me=r(pe),ge=n(170),ve=r(ge),be=n(358),_e=n(27),ye=r(_e),we=n(871),ke=r(we),xe=n(1361),Ee=r(xe),Ce=n(496),Pe=n(3471);n(3930),n(92);var Oe=n(359);(0,Pe.pollForUpdates)();var Se=function(e){e||(0,v.publishScreenEvent)("editPullRequestFileScreen")},Te=function(e){e||(0,v.publishScreenEvent)("pullRequestScreen")};t.default=f.default.once(function(){function e(e){var n=window.location.hash;window.location.hash="",window.location.hash=n;var r=e.find("#general-thread-ids"),i=(0,c.default)("#activity-list.line-commenting > li.new-comment");if(r.length&&O.default.decorateThreads(D.toString(),r.data("value")),i.length){new C.default(D,!1).decorate(i)}t(e.find(".pr-line-thread-ids"))}function t(e,t){e.length&&f.default.each(e.data("value"),function(e,n){f.default.each(e,function(e,n){t&&(e=f.default.intersection(e,t)),O.default.decorateThreads(D.toString(),e,n)})})}function r(){var e=this.filter(function(e){return e.get("approved")});re.default.vent.trigger("updateApprovals",e.length)}function o(){this.fetch({reset:!0})}var l=(0,c.default)("#pullrequest");(0,oe.default)(l.attr("data-local-id")),i();var s=(0,c.default)("#pull-request-attrs"),d=function(){this.$window=null,this.$line=null};d.prototype.regex=/(F\d+)?(T\d+)?$/,d.prototype.oldRegex=/_(oldline|newline)(\d+)$/,d.prototype.cssClass="permalinked",d.prototype.isLinePermalink=function(e){var t=this.regex.exec(e);return!(!t[1]&&!t[2])},d.prototype.translateHash=function(e){var t=this.oldRegex.exec(e);if(t[1]&&t[2]){var n=e.substring("#chg_".length);n=n.substring(0,n.length-(t[1]+t[2]).length-1);var r={oldline:"F",newline:"T"},i="L"+n+r[t[1]]+t[2];if(document.getElementById(i))return i;var o=document.getElementById("chg-"+n);if(o){var a={oldline:"data-fnum",newline:"data-tnum"},l=(0,c.default)(o).find("div.common").filter("[{}={}]".format(a[t[1]],t[2]));if(1===l.length)return l.find(".line-numbers").attr("id")}}return null},d.prototype.decorate=function(e){this.$window=e,this.enterDocument()},d.prototype.enterDocument=function(){this.$window.bind("hashchange",c.default.proxy(this.highlightLine,this))},d.prototype.highlightLine=function(){var e=window.location.hash;if(this.oldRegex.test(e)){var t=this.translateHash(e);t&&(window.location.hash=t)}else if(this.isLinePermalink(e)){var n=document.getElementById(e.substring(1));n&&(null!==this.$line&&this.$line.removeClass(this.cssClass),this.$line=(0,c.default)(n).addClass(this.cssClass))}};var h=(0,c.default)("#pullrequest.view-pullrequest"),m=(0,c.default)("#fulfill-pullrequest"),g=(0,c.default)("#reject-pullrequest"),b=(0,c.default)("#revert-pullrequest"),y=new c.default.Deferred;if(!m.data("restrictions-ux")){var k=function(e,t){return function(n){n.isconflicted?e():n.mergeimpossible&&(void 0!==t?t():e())}};if("open"===s.data("status")){"diff"===(0,c.default)(".menu-item.active-tab a","#pullrequest-navigation").attr("data-tab-link-id")?(0,c.default)(document).one("diff:loaded",function(){y.resolve({isconflicted:(0,c.default)("#compare").data("hasConflicts"),mergeimpossible:(0,c.default)("#pr-tab-info").data("mergeimpossible")})}):y=c.default.ajax({url:h.attr("data-conflicts-url"),type:"GET",dataType:"json",cache:!1});var E=function(){var e=(0,c.default)("<span>").addClass("aui-icon aui-icon-warning").attr("title",gettext("Cannot merge due to conflicts"));(0,c.default)("#pullrequest-actions").prepend(e.tooltip())};y.done(k(E)).fail(E)}var P=new M.default(m,{onUpdateContents:function(e){var t=e.popup.element,n=-(new Date).getTimezoneOffset();t.find('input[name="tzoffset"]').val(n);var r=t.find("#id_commit_message"),i=(0,c.default)("#id_merge_strategy").val(),o="True"===(0,c.default)('option[value="'+i+'"]').attr("data-commit-msg-editable")||void 0===i;r.closest(".field-group").toggle(o),t.find("#id_merge_strategy").auiSelect2({formatResult:function(e){var t=e.element[0].dataset.command;return e.text+' <span class="merge-strategy--flag">'+t+"</span>"}}).on("change",function(e){var t="True"===(0,c.default)(e.added.element).attr("data-commit-msg-editable");r.closest(".field-group").toggle(t),r.text()===e.removed.element[0].dataset.defaultCommitMsg&&r.text(e.added.element[0].dataset.defaultCommitMsg)});var a=function(){t.find("form").empty().append((0,c.default)("#pull-request-header").find(".conflicts-detected")),t.find(".dialog-button-panel button").prop("disabled",!0).attr({"aria-disabled":!0,title:gettext("Cannot merge due to conflicts")})},l=function(){t.find("form").empty().append((0,c.default)("#pull-request-header").find(".mergeimpossible")),t.find(".dialog-button-panel button").prop("disabled",!0).attr({"aria-disabled":!0,title:gettext("Cannot merge")})};y.done(k(a,l)).fail(l).always(function(){t.find("form.maskable").removeClass("has-mask")})},success:function(e,t){t.result?window.location=t.result:setTimeout(function(){(0,de.default)(t.url).fail(this.error.bind(this))}.bind(this),1e3)},error:function(e,t){if(t.responseJSON&&t.responseJSON.outOfSync){this.close();var n=(0,c.default)(".js-update-pr-href").attr("href");return e=gettext("The source branch for this pull request has new commits.\n              You should update the pull request with them before proceeding:")+" "+gettext('<a class="quick-update-pr js-quick-update-pr" href="'+n+'">Update now.</a>'),void a.default.messages.error({title:gettext("New commits detected"),body:e})}if(t.responseJSON&&t.responseJSON.html)return void this.updateContents(t.responseJSON.html);this.complete_(),this.displayError({title:gettext("Unable to merge"),body:e,closeable:!1})},complete:function(){},dataType:"json",isStaticContent:!0,width:700,urlAttr:"data-form-url"}).bind();if(m.disable(!1),"open"===s.data("status")){var S=function(){P.disable(),(0,c.default)("#fulfill-pullrequest").attr("aria-disabled",!0).attr("title",gettext("Cannot merge due to conflicts"))};h.hasClass("conflicts")?S():(0,c.default)(document).bind("bb:compare",function(){(0,c.default)("#compare-metadata").data("has-conflicts")&&(h.addClass("conflicts"),S())}),(0,c.default)(".pullrequest-metadata time").localize()}}new M.default(g,{dataType:"json",isStaticContent:!0,urlAttr:"data-form-url"}).bind(),g.disable(!1),new M.default(b,{dataType:"json",isStaticContent:!0,urlAttr:"data-form-url",width:400,onUpdateContents:function(e){var t=e.popup.element.find("#id_branch_name"),n=e.popup.element.find("#revert-branch-name"),r=e.popup.element.find("#id_branch_name_hidden");r.attr("name",t.attr("name")),r.val(t.val()),t.removeAttr("name"),t.on("input",function(e){var i=Ee.default.convertTextToBranchName(t.val());n.text(i),r.val(i)})}}).bind(),le.default.showUpdatesDialog();var D=se.default.api.v20.comments(X.default.baseUrl,X.default.slug,J.default.localId);(0,me.default)("#activity-list",function(t){e((0,c.default)("#pr-tab-content"))}),G.default.collectionFrom(h,64).done(function(e){e.on("participants:refresh",r,e),e.on("reset",r,e),re.default.vent.on("currentUserApproved",o,e),(0,me.default)(".reviewers-group .participants ol",function(t){new Y.default({el:t,collection:e,condition:function(e){return t.data("participants-flag")?(e.get("reviewer")||e.get("approved"))&&e.get("username")!==J.default.author.username:e.get("username")!==J.default.author.username},auiAvatarSize:"medium",emptyTemplate:"no-reviewers-template"}).render()}),(0,me.default)(".author ol",function(t){new Y.default({el:t,collection:e,condition:function(e){return e.get("username")===J.default.author.username},auiAvatarSize:"medium"}).render()}),e.bind("approved",function(e){e&&h.find("a.follow").trigger("toggle-follow",{type:"pullrequest",isNowFollowing:!0})}),(0,c.default)(document).on("comment-added approval-changed.pullrequest",function(t,n){if(e.trigger("participants:refresh"),"comment-added"===t.type){if(n){var r=(0,c.default)("#comment-"+n.id);(0,L.default)(r),te.default.set(X.default.fullslug,J.default.localId,n.get("utc_last_updated"))}h.find("a.follow").trigger("toggle-follow",{type:"pullrequest",isNowFollowing:!0})}})}),h.find(".compare-widget-container .compare-widget").each(function(e,t){var n=(0,c.default)(t),r=!1;a.default.InlineDialog(n,"repo-details-"+e,function(e,t,i){r||(e.addClass("pullrequest-branch-details-dialog").append((0,c.default)(ye.default.toHtml("branch-details-template",{display_name:n.attr("data-user-display-name"),is_hg:"hg"===X.default.scm,username:n.attr("data-user-name"),user_avatar:n.attr("data-user-avatar"),user_url:n.attr("data-user-url"),repo_name:n.attr("data-repo-name"),repo_avatar:n.attr("data-repo-avatar"),repo_url:n.attr("data-repo-url"),branch_name:n.attr("data-branch-name"),branch_url:n.attr("data-branch-url"),branch_state:n.attr("data-branch-state"),branch_deleted:n.data("branch-deleted"),commit_id:n.attr("data-commit-id"),commit_url:n.attr("data-commit-url"),size:"small"}))),(0,v.publishFact)(new Oe.BranchDialogShownFact),(0,T.default)(e.find(".branch-checkout--input")).on("success",function(){return(0,v.publishFact)(new Oe.BranchDialogCheckoutCopiedFact)})),r=!0,i&&i()},{arrowOffsetX:-8,width:"auto"})}),(0,me.default)("#pullrequest-navigation .tabs-menu",function(t){var r=(0,c.default)("#pr-tab-content"),i=t.find(".menu-item"),o=(0,c.default)("#pr-tab-content-wrapper");(new d).decorate((0,c.default)(window)),i.on("click",function(){o.removeClass("diff commits activity")});var a=null,s=function(){var t,s,d=i.filter(".active-tab").find("a").data("tab-link-id"),h=(0,c.default)("#diff-tab-preload"),p=r.find(".pr-line-thread-ids"),m=r.find(".bb-udiff"),g=(0,c.default)("#compare");if(r.trigger("diff:loaded"),null===a&&(a=(0,c.default)("#general-comments")),"diff"===d?(t=g.attr("data-anchor"),s=g.attr("data-dest-rev"),(0,c.default)("#general-comments").length||a.appendTo(h)):a.detach(),r.removeClass("has-mask"),o.removeClass("diff commits activity"),o.addClass(d),location.hash){var v="#"+(0,u.default)(location.hash.substr(1),{isIdentifier:!0}),b=(0,c.default)(v).parent("li.comment");if(document.getElementById(location.hash.substr(1)))b.addClass("highlight"),(0,ke.default)(v);else if("diff"===d){var y=p.data("value")||{},w=function(e){return"#comment-{}".format(e)===location.hash},k=f.default.some(f.default.values(y),function(e){return f.default.some(f.default.values(e),function(e){return f.default.some(e,w)})});if(k){var E=(0,c.default)("#pr-menu-activity"),C=E.attr("href"),P=C.split("#");return P.length>1&&(P=[P.shift()]),P.push(location.hash),E.attr("href",P.join("")).click(),void E.attr("href",C)}}}var O=g.attr("data-owner"),S=g.attr("data-slug"),T=g.attr("data-destination-owner"),M=g.attr("data-destination-slug"),A=g.data("local-id"),j=g.data("is-writer"),B=g.data("has-push-access"),L=g.attr("data-hash"),F=g.attr("data-branch"),q=g.attr("data-multiple-error");if(m.each(function(){var e,r=(0,c.default)(this),i=r.attr("data-filename"),o=r.attr("data-compare-files-url"),a=r.data("rename-info"),l=!!r.parent(".comment-content").length;if("diff"===d){var u=[],h=r.data("filename");p.length&&f.default.each(p.data("value"),function(e,t){u=f.default.union(u,e[h])}),e=new N.default(D,h,u,t,s).decorate(r)}new $.default(i,o,a).decorate(r.find(".diff-actions")),new R.default(r.data("expand-context-url")+encodeURI(i),r.data("identifier"),!l,e,D.toString()).decorate(r);var m=r.attr("data-path"),g=r.attr("data-source-url");n.e(1).then(function(e){new(n(4186))({el:r,owner:O,slug:S,destinationOwner:T,destinationSlug:M,localID:A,isWriter:j,hasPushAccess:B,isPullRequest:!0,hash:L,branch:F,path:m,sourceUrl:g,multipleError:q,onOpen:Se,onClose:Te})}.bind(null,n)).catch(n.oe),H.default.addWordDiff(r)}),"diff"===d){(0,c.default)(".comments-link").on("click",function(e){var t=(0,c.default)(e.target).closest("a.comments-link").data("file-path"),n=(0,c.default)(document.getElementById("chg-"+t)),r=n.find(".comment").find("article").first();0===r.length&&(r=n),(0,ke.default)(r,500,{axis:"y",offset:-50}),e.preventDefault()}),(0,c.default)(".eclipsedcount").on("click",function(e){e.which>1||e.metaKey||e.ctrlKey||(e.preventDefault(),(0,W.default)((0,c.default)(e.target)))});var U=(0,c.default)("#general-comments").find(".comment-count"),z=(0,c.default)("#comments-list");new x.default(U,z).decorate(),(0,c.default)("#commit-files-summary").find(".count-badge").each(function(e,t){var n=(0,c.default)(t),r=n.find(".count"),i=(0,c.default)(document.getElementById("chg-"+n.find(".comments-link").data("file-path")));new x.default(r,i).decorate()}),I.default.setupDeferredDiffMarkers(r.find(".bb-patch-unified"),{isCommentable:!0,commentsEndPoint:D}),re.default.vent.trigger("diff:loaded")}"activity"===d&&e(r),l.data("has-source-access")&&(0,me.default)(".sync-link",function(e){var t=function(e,t){ve.default.addMessage("{} successfully synced with {}.".format(t,e)),window.location.reload(!0)},n=c.default.get(l.attr("data-url-sync-conflicts"));e.loading(n).done(function(n){(0,_.default)(e,{action:l.attr("data-sync-url"),skipRedirect:!0,mergeEvent:"detail:sync",repository:X.default.fullslug,dest:l.attr("data-compare-source-value"),destBranch:l.attr("data-source-branch"),source:l.attr("data-compare-dest-value"),sourceBranch:l.attr("data-dest-branch"),conflictUrl:l.attr("data-sync-conflict-url"),hasConflicts:n.isconflicted,mergeCommands:n.mergecmds,syncBranch:!0}).done(t)})})};if((0,c.default)("#diff-tab-preload").length){var h=(0,c.default)("#general-thread-ids"),m=(0,c.default)("#comments-list.line-commenting > li.new-comment");if(h.length&&O.default.decorateThreads(D.toString(),h.data("value")),m.length){new C.default(D,!0).decorate(m)}}r.on("pjax:end",s),r.on("pjax:error",function(e,t,n){if(t.readyState>0&&"abort"!==n)return r.html("<h2>Error</h2><p>We were unable to load this page.</p>"),!1}),r.on("pjax:beforeSend",function(){(0,c.default)("#pr-tab-content").addClass("has-mask")});var g={container:r,scrollTo:null,timeout:3e4};r.on("pjax:popstate",function(e){var t=p.default.parse(e.state.url),n=i.find('[href="{}"]'.format(t.path)).closest(".menu-item");i.removeClass("active-tab"),n.addClass("active-tab"),c.default.pjax(c.default.extend({url:e.state.url,replace:!0},g))});var v=(0,c.default)("#pr-tab-info").data("active-tab-on-load"),b=(0,c.default)("#pr-menu-{}".format(v));if(b.length){var y=b.attr("href");location.hash&&(y+=location.hash),c.default.support.pjax?c.default.pjax(c.default.extend({url:y,replace:!0},g)):r.load(y+"?_ajax=1",s)}c.default.support.pjax&&t.on("click","li a",function(e){e.which>1||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||(e.preventDefault(),t.find("li").removeClass("active-tab"),(0,c.default)(this).closest(".menu-item").addClass("active-tab"),r.detach().empty(),r.appendTo((0,c.default)("#pr-tab-content-wrapper")),c.default.pjax(c.default.extend({url:(0,c.default)(this).attr("href"),push:!0},g)))})}),h.on("follow:pullrequest",".sidebar a.follow",function(e,t){var n=(0,c.default)(this).siblings(".aui-icon");n.toggleClass("aui-iconfont-watch",t),n.toggleClass("aui-iconfont-unwatch",!t)}),(0,me.default)(".issue-dialog-trigger",function(e){a.default.InlineDialog(e,1,function(e,t,n){return(0,c.default)(".issue-dialog").appendTo(e).show(),n(),!1},{width:"auto",calculatePositions:he.default.alignLeft()})}),(0,w.default)(l)}),e.exports=t.default},3932:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(499),o=r(i),a=n(4),l=r(a),u=n(24);n(233);var s=n(34),c=n(242),d=r(c),f=n(2911),h=r(f),p=n(36),m=r(p),g=n(154),v=r(g),b=n(1678),_=r(b),y=n(1353),w=r(y),k=n(869),x=r(k),E=n(3878),C=r(E),P=n(853),O=r(P),S=n(725),T=n(359);n(92),(0,O.default)().catch(function(){});var D=function(){function e(e){var t=a.find("select[name=source]"),n=i.find("select[name=dest]");if(!(e&&(0,l.default)(e.target).parents("#id_dest_group .branch-field-container").length||0===t.length||0===n.length)){var r=t.val();if(r){var s=(0,x.default)(r).branch,c=(0,u.escape)(s),d=n.val();if(n.find('option[value$="::"]').remove(),0===n.find('option[value$=":'+(0,o.default)(s,{escapeEverything:!0})+'"]').length){var h=(0,l.default)('<option value="'+f.val()+'::">'+c+" (new branch)</option>"),p=(0,u.sortedIndex)(n.find("option").get(),h.get(),function(e){return(0,l.default)(e).text()});0===p?h.insertBefore(n.find("option").get(0)):h.insertAfter(n.find("option").get(p-1))}n.val(d)}}}function t(){(0,s.publishUiEvent)({action:"changed",actionSubject:"option",actionSubjectId:"destinationBranchSelect",source:"createPullRequestScreen"})}function n(e,t){var n=e.find(".error");n&&0!==n.length||(n=(0,l.default)('<div class="error"></div>'),e.append(n));var r=(0,l.default)("<div></div>");r.text(t),n.append(r)}var r=(0,l.default)("#pullrequest-form"),i=r.find("#id_dest_group"),a=r.find("#id_source_group"),c=r.find(".compare-widget-container"),f=r.find("#id_dest_repo"),h=r.find("textarea"),p=(0,l.default)("#id_description"),g=(0,l.default)("#id_title"),b=document.getElementById("ak_editor_description"),y=r.hasClass("update");if(h.markItUp((0,d.default)()),function(){if(!(0,S.enabled)()&&g.length&&p.length){var e=function(e){var t=e.data();return t.val=e.val(),function(n){e.val(t.val=n)}},t=e(g),n=e(p);(0,l.default)(document).bind("bb:compare",function(){var e=(0,l.default)("#compare-metadata"),i=0!==e.data("commit-count");if(r.find("button:submit").attr({disabled:!i,"aria-disabled":!i}),!r.hasClass("update")&&!r.data("has-errors")&&g.val()===g.data("val")&&p.val()===p.data("val")){var a=c.find('[name="source"]').val(),u=c.find('[name="dest"]').val(),s='ul[data-source="'+(0,o.default)(a,{escapeEverything:!0})+'"][data-dest="'+(0,o.default)(u,{escapeEverything:!0})+'"] li',d=(0,l.default)(s,"#updateable-prs"),f=e.data("message"),h=e.data("dest-default-pull-request-description");1===d.length?(t(d.data("title")),n(d.data("description"))):f?(t(f.subject.slice(0,parseInt(g.attr("maxlength"),10))),n(h||f.body)):(t(""),n(""))}})}}(),function(){function e(e){g.val(e),g[0].dataset.defaultValue=e}function t(e){i=!1,b.dataset.changed="true",a?b.editorActions.replaceDocument(e):b.setAttribute("default-value",e)}function n(){var e=(0,l.default)("#compare-metadata"),t=0!==e.data("commit-count");r.find("button:submit").attr({disabled:!a||!t,"aria-disabled":!a||!t})}if((0,S.enabled)()){var i=!1,a=!1,u=0;(0,l.default)(b).on("change",function(){i=!b.dataset.changed,b.dataset.changed="";var e=Date.now();u=e,b.editorActions.getValue().then(function(t){void 0!==t&&e>=u&&p.val(t)})}),(0,l.default)(b).one("ready",function(){a=!0,b.editorActions.getValue().then(function(e){e&&!u&&p.val(e)}),n()}),(0,l.default)(document).bind("bb:compare",function(){var a=(0,l.default)("#compare-metadata");if(n(),!(i||g.val()&&g.val()!==g[0].dataset.defaultValue||r.hasClass("update")||r.data("has-errors"))){var u=c.find('[name="source"]').val(),s=c.find('[name="dest"]').val(),d='ul[data-source="'+(0,o.default)(u,{escapeEverything:!0})+'"][data-dest="'+(0,o.default)(s,{escapeEverything:!0})+'"] li',f=(0,l.default)(d,"#updateable-prs"),h=a.data("message"),p=a.data("dest-default-pull-request-description");1===f.length?(e(f.data("title")),t(f.data("description"))):h?(e(h.subject.slice(0,parseInt(g.attr("maxlength"),10))),t(p||h.body)):(e(""),t(""))}})}}(),C.default.hidePrTargetBranchCreation||(c.change(e),e()),!0===(0,l.default)("#id_new_branch").prop("checked")){var k=a.find("select[name=source]"),E=i.find("select[name=dest]");k.length&&E.length&&(E.val(E.find('option[value$="::"]').val()),E.change())}return i.on("change","select[name=dest]",function(){var e=(0,l.default)(this).val();if(e){y||t();var n=(0,x.default)(e).branch;(0,l.default)("#id_new_branch").prop({checked:!n})}}),(0,w.default)("#updateable-prs",function(e){var t=e.children("ul");if(0!==t.length){var n=function(){var n=(0,l.default)(this),i=n.find('[name="source"]').val(),a=n.find('[name="dest"]').val();if(i&&a){var u=t.filter('[data-source="'+(0,o.default)(i,{escapeEverything:!0})+'"]').filter('[data-dest="'+(0,o.default)(a,{escapeEverything:!0})+'"]');t.not(u).hide(),u.show(),u=u.children();var s=u.length;r.find("input:submit").val(1===s?"Update pull request #"+u.data("local-id"):"Send pull request"),e.addClass("hidden"),s&&e.removeClass("hidden").find("strong").text(s>1?s+" existing pull requests will be superseded":"An existing pull request will be updated")}};c.change(n).change()}}),(0,w.default)("#id_reviewers_group",function(e){(0,_.default)(e)}),r.on("submit",function(){var e=r.find("#participants"),t=e.find(".non-reviewer").detach(),i=r.serialize(),o=r.attr("action"),a=r.find("#submitPrButton"),u=r.find("#global-errors");a.addClass("loading").disable(!0),r.find(".error:not(#global-errors)").empty(),u.addClass("hidden");var s=function(i){if(i.errors)Object.keys(i.errors).forEach(function(o){var a=i.errors[o];if("__all__"===o){u.removeClass("hidden");var s=u.find(".messages").empty();a.forEach(function(e){s.append((0,l.default)("<li>").text(e))})}else{var c=r.find("#id_"+o+"_group");a.forEach(function(r){e.prepend(t),n(c,r)})}}),a.removeClass("loading").disable(!1);else if(i.result)window.location=i.result;else{var o=function(e){n(a.closest(".buttons-container"),e),a.removeClass("loading").disable(!1)};setTimeout(function(){(0,v.default)(i.url).fail(o)},1e3)}},c=function(){n(a.closest(".buttons-container"),gettext("Something went wrong while creating your pull request.")),a.removeClass("loading").disable(!1)};return l.default.ajax({type:"POST",url:o,data:i,dataType:"json"}).done(s).fail(c),!1}),(0,w.default)("#id_close_anchor_branch",function(e){function t(t){i=e.prop("checked"),e.prop({checked:!1,disabled:!0}),r.addClass("disabled").attr({title:t})}var n=(0,l.default)("#pullrequest-form"),r=e.next("label"),i=null,o=function(o){var a=(0,x.default)(n.find("select[name=source]").val()),s=(0,l.default)("#compare-metadata"),c=!s.data("hasBranchClose");if(r.html('Close <span class="branch-name">'+(0,u.escape)(a.branch)+"</span> after the pull request is merged"),c)t("Branch deletion is disabled for this branch");else{a.branch===m.default.mainbranch.name?t("You're not permitted to close the main branch"):(e.prop({disabled:!1}),null!==i&&(e.prop("checked",i),i=null),r.removeClass("disabled").removeAttr("title"))}};c.bind("bb:compare:loaded",o),t("Loading pull request details")}),y};t.default=(0,u.once)(function(){D()||((0,s.publishFact)(new T.CreatePullRequestPageViewedFact({commit_status_enabled:!!C.default.createPullrequestCommitStatus})),(0,h.default)({diff:"createPullRequestDiffScreen",commits:"createPullRequestCommitsScreen"}))}),e.exports=t.default},3933:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){Object.keys(e).forEach(function(t){var n=t.substring(0,12),r=e[t],i=(0,l.default)(".build-status-"+n);(0,p.default)(i,{defaultBuildUrl:s.default.get(r,"commit_status.url"),dialogDataUrl:i.data("url"),state:r.state,statusCounts:r.status_counts,totalCount:r.total_count}),i.removeClass("hidden")})}function o(e,t){var n=null;return e.author_id&&(n=t?(0,y.user)(t):(0,y.unknownUser)(gettext("[Unknown user]")).user),n}Object.defineProperty(t,"__esModule",{value:!0});var a=n(4),l=r(a),u=n(24),s=r(u);n(3429),n(3430);var c=n(3690),d=r(c),f=n(34),h=n(713),p=r(h),m=n(310),g=r(m),v=n(423),b=r(v),_=n(3768),y=n(1617),w=n(3928),k=r(w),x=n(737),E=r(x);t.default=(0,u.once)(function(){(0,f.publishScreenEvent)("pullRequestsScreen");var e=(0,l.default)("body"),t=(0,l.default)("#pr-shared-component");if(t.length){var n=t.data("api-repo"),r=t.data("api-user"),a=t.data("initial-build-statuses"),u=!a,s=t.data("initial-prs"),c=(0,_.filterFromUrlParams)(window.location.href),h=o(c,(0,l.default)("#selected-author-seed").data("author")),p=c.target_ref_id?{branch:{name:c.target_ref_id}}:null,m=(0,y.repository)(n),v=r&&r.uuid?(0,y.user)(r):null;e.on("pr-data-provider-page-loaded",function(e,t){if(u){var r=t.values.map(function(e){return e.source.commit&&e.source.commit.hash}).filter(function(e){return e});(0,k.default)(n.full_name,r).then(i)}else i(a),u=!0});var w=new d.default(t,{currentUser:v,filter:c,initialData:s,query:{debounce:250},repository:m,selectedAuthor:h,selectedTargetBranch:p&&(0,y.prSourceToRef)(p,"branch",m)});w.on("state-change",function(e){(0,_.updateUrlWithFilterParams)(e)}),s&&e.trigger("pr-data-provider-page-loaded",s),(0,E.default)([{section:gettext("Pull requests"),shortcuts:[{keys:["j"],description:gettext("Select next item"),op:"execute",params:[w.getKeyboardAction("moveNext")]},{keys:["k"],description:gettext("Select previous item"),op:"execute",params:[w.getKeyboardAction("movePrevious")]},{keys:["return"],aliasKeys:["o"],description:gettext("View selected item"),op:"execute",params:[w.getKeyboardAction("openItem")]}]}])}else(0,b.default)({$container:t,$pjaxContainer:(0,l.default)("#pullrequest-pjax"),ignoreQuery:"page"});(0,g.default)(t)}),e.exports=t.default},4104:function(e,t,n){"use strict";function r(e){return Array.isArray(e)?e:[e]}function i(e){return Array.isArray(e)&&1===e.length?e[0]:e}Object.defineProperty(t,"__esModule",{value:!0}),t.arrayify=r,t.dearrayify=i},4107:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(){function e(e){r.set("emoji-version",m),r.set("emojis",JSON.stringify(e))}function t(){var e=r.get("emojis");return e&&"string"==typeof e?JSON.parse(e):null}function n(){if(r.get("emoji-version")===m){var n=t();if(n)return l.default.Deferred().resolve(n)}return l.default.get(f.JSON_ENDPOINT).then(function(t){return e(t),t}).promise()}var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.default,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return v(i,n)};var a=n(4),l=r(a),u=n(24),s=r(u),c=n(316),d=r(c),f=n(1640),h=["png"],p=/:([a-z0-9\+\-_]+):/gi,m="2",g=function(){function e(t){i(this,e),this.emojis=t}return o(e,[{key:"replace",value:function(e){var t=this;return e.replace(p,function(e,n){var r=t.emojis[n];if(!r)return e;var i=(0,s.default)(h).map(function(e){return r[e]}).find(s.default.identity);return i?'<img src="'+i+'" alt="'+n.split("_").join(" ")+'" class="emoji">':e})}}]),e}(),v=s.default.memoize(function(e,t){return t().then(function(e){return new g(e)})});e.exports=t.default},4137:function(e,t,n){var r=n(78);e.exports=function(){var e=new r.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<h2>"),r.b(r.v(r.f("title",e,t,0))),r.b("</h2>"),r.b("\n"+n),r.b("<p>"),r.b(r.v(r.f("description",e,t,0))),r.b("</p>"),r.b("\n"+n),r.b('<div class="merge-check--items">'),r.b("\n"+n),r.s(r.f("failedChecks",e,t,1),e,t,0,94,279,"[[ ]]")&&(r.rs(e,t,function(e,t,r){r.b('    <div class="merge-check--item">'),r.b("\n"+n),r.b('      <span class="aui-icon aui-icon-small aui-iconfont-warning">'),r.b(r.v(r.d(".",e,t,0))),r.b("</span>"),r.b("\n"+n),r.b('      <span class="merge-check--item-label">'),r.b(r.v(r.d(".",e,t,0))),r.b("</span>"),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n)}),e.pop()),r.b("</div>"),r.b("\n"+n),r.b("<div>"),r.b("\n"+n),r.b('  <button class="aui-button merge-check--close-button" type="button">'),r.b(r.v(r.f("confirmText",e,t,0))),r.b("</button>"),r.b("\n"+n),r.b('  <a class="merge-check--learn-more" href="'),r.b(r.v(r.f("learnMoreUrl",e,t,0))),r.b('" target="_blank">'),r.b(r.v(r.f("learnMoreText",e,t,0))),r.b("</a>"),r.b("\n"+n),r.b("</div>"),r.b("\n"),r.fl()},partials:{},subs:{}},'<h2>[[title]]</h2>\n<p>[[description]]</p>\n<div class="merge-check--items">\n  [[#failedChecks]]\n    <div class="merge-check--item">\n      <span class="aui-icon aui-icon-small aui-iconfont-warning">[[.]]</span>\n      <span class="merge-check--item-label">[[.]]</span>\n    </div>\n  [[/failedChecks]]\n</div>\n<div>\n  <button class="aui-button merge-check--close-button" type="button">[[confirmText]]</button>\n  <a class="merge-check--learn-more" href="[[learnMoreUrl]]" target="_blank">[[learnMoreText]]</a>\n</div>\n',r);return e.render.apply(e,arguments)}},4179:function(e,t,n){n(3555),n(3526),e.exports=n(3554)},425:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){t=o.default.extend({getData:function(){},success:function(e){window.location=e},width:700,skipRedirect:!1},t),new s.default(e,{success:function(e,n){n.result?t.success.call(this,n.result):n.error?this.error(n.error,n):setTimeout(function(){(0,d.default)(n.url,{skipRedirect:t.skipRedirect}).done(t.success.bind(this)).fail(this.error.bind(this))}.bind(this),1e3)},error:function(e,n){if(this.complete_(),n.conflicts&&t.conflictUrl){var r=gettext("View the conflicts");e+=' <a href="{}">{}</a>.'.format(t.conflictUrl,l.default.escape(r))}this.displayError({title:gettext("Unable to merge"),body:e,closeable:!1})},complete:function(){},onUpdateContents:function(e){var t=e.popup.element,n=-(new Date).getTimezoneOffset(),r=t.find("form").data("hasConflicts");t.find('input[name="tzoffset"]').val(n);var i=t.find("#id_commit_message"),a=(0,o.default)("#id_merge_strategy").val(),l="True"===(0,o.default)('option[value="'+a+'"]').attr("data-commit-msg-editable")||void 0===a;i.closest(".field-group").toggle(l),r?(t.find(".dialog-button-panel").empty(),e.addCancel(gettext("Close"),function(e){e.hide()})):(0,o.default)("#id_merge_strategy").auiSelect2({formatResult:function(e){var t=(0,o.default)(e.element).data("command");return e.text+' <span class="merge-strategy--flag">'+t+"</span>"}}).on("change",function(e){var t="True"===(0,o.default)(e.added.element).attr("data-commit-msg-editable");i.closest(".field-group").toggle(t);var n=function(e){var t=e.dataset.defaultCommitMsg;return t?Promise.resolve(t):new Promise(function(t,n){o.default.get(e.dataset.defaultCommitMsgUrl).done(t).fail(n)})},r=function(){console.log(arguments)};n(e.removed.element[0]).then(function(t){i.val()===t&&n(e.added.element[0]).then(function(e){i.val(e)},r)},r)})},id:t.id,template:"merge-form-template",templateData:function(){var e=t.getData();return void 0===e.showMergeStrategies&&(e.showMergeStrategies=!e.syncBranch&&e.mergeStrategies&&e.mergeStrategies.length>1),e},width:t.width}).bind()};var i=n(4),o=r(i),a=n(19),l=r(a),u=n(424),s=r(u),c=n(154),d=r(c);e.exports=t.default},429:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=r(i),a=n(19),l=r(a),u=n(720),s=r(u),c=n(315),d=r(c),f=n(179),h=r(f),p=n(27),m=r(p);t.default={showParticipantsDialog:function(e,t,n,r){e.html(""),e.addClass("show-participants-dialog");var i=(0,o.default)("<ol></ol>");e.append(i),l.default.each(t,function(e){i.append(this.participantHtml(e,n))},this),r&&r()},participantHtml:function(e,t,n){var r=e.attributes;return r.date=e.get("last_updated_on")?o.default.localize((0,d.default)(e.get("last_updated_on"))):void 0,r.size=n||"small",r.noun=t,(0,o.default)(m.default.toHtml("participant-template",r))},collectionFrom:function(e,t){var n=o.default.Deferred(),r=new s.default([],{url:e.data("participants-url"),likesUrl:e.data("likes-url"),noun:e.data("noun")});return t=t||64,r.fetch({reset:!0,cache:!1,data:{avatar_size:t},success:function(e,t){n.resolve(e)}}),n},centerAlignDialogOptions:{width:"auto",calculatePositions:h.default.alignCenter()},rightAlignDialogOptions:{width:"auto",calculatePositions:h.default.alignRight()},leftAlignDialogOptions:{width:"auto",arrowOffsetX:-8}},e.exports=t.default},477:function(e,t,n){"use strict";function r(e){var t,n;return n=t=function(t){function n(){return(0,a.default)(this,n),(0,u.default)(this,(0,s.default)(n).apply(this,arguments))}return(0,c.default)(n,t),(0,l.default)(n,[{key:"componentWillMount",value:function(){p(this.props.appearance)}},{key:"componentWillReceiveProps",value:function(e){e.appearance!==this.props.appearance&&p(e.appearance)}},{key:"render",value:function(){return f.default.createElement(e,this.props)}}]),n}(f.Component),(0,d.default)(t,"displayName","WithDeprecationWarnings(".concat(h(e),")")),n}var i=n(3),o=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var a=o(n(9)),l=o(n(10)),u=o(n(13)),s=o(n(11)),c=o(n(12)),d=o(n(15)),f=i(n(0)),h=function(e){return e.displayName&&"string"==typeof e.displayName?e.displayName:e.name||"Component"},p=function(e){var t=["help"];e&&t.includes(e)&&console.warn('Atlaskit: The Button appearance "'.concat(e,"\" is deprecated. Please use styled-components' ThemeProvider to provide a custom theme for Button instead."))}},478:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLoadingStyle=t.isLoadingStyle=void 0;var r=n(2),i=(0,r.css)(["\n  transition: opacity 0.3s;\n  opacity: ",";\n"],function(e){return e.isLoading?0:1});t.isLoadingStyle=i;var o=function(e){return{transition:"opacity 0.3s",opacity:e.isLoading?0:1}};t.getLoadingStyle=o},479:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.themeNamespace=void 0,t.themeNamespace="@atlaskit-shared-theme/button"},480:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.sizes={small:"16px",medium:"24px",large:"32px",xlarge:"48px"}},481:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_SIZE=t.SIZES_MAP=void 0;var r={xsmall:8,small:16,medium:24,large:48,xlarge:96};t.SIZES_MAP=r;var i=r.small;t.DEFAULT_SIZE=i},482:function(e,t,n){"use strict";var r=n(3),i=n(1);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(9)),a=i(n(10)),l=i(n(13)),u=i(n(11)),s=i(n(12)),c=i(n(15)),d=r(n(0)),f=n(194),h=function(e){function t(){return(0,o.default)(this,t),(0,l.default)(this,(0,u.default)(t).apply(this,arguments))}return(0,s.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.theme,r=e.values;return d.default.createElement(f.Consumer,null,function(e){var i=(r||n)(e);return"function"==typeof t?t(i):d.default.createElement(f.Provider,{value:i},t)})}}]),t}(d.Component);t.default=h,(0,c.default)(h,"defaultProps",{theme:function(e){return e}})},483:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.THEME_MODES=t.DEFAULT_THEME_MODE=t.CHANNEL=t.FLATTENED=void 0,t.FLATTENED="__FLATTENED__",t.CHANNEL="__ATLASKIT_THEME__",t.DEFAULT_THEME_MODE="light";var r=["light","dark"];t.THEME_MODES=r},484:function(e,t,n){"use strict";function r(e){return e&&e.theme&&e.theme.__ATLASKIT_THEME__?e.theme.__ATLASKIT_THEME__:e&&e.theme&&e.theme.mode?e.theme:o}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n(483),o={mode:i.DEFAULT_THEME_MODE}},485:function(e,t,n){var r,i;r=[t,e,n(24)],void 0!==(i=function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n="";throw t&&(n='For property: "'+t+'". '),new Error(""+n+e)}function o(e){return e?e+".":""}function a(e,t){if(!e)return u.default.identity;if("string"==typeof e||e instanceof String){var n=function(){e+="";var t=e.indexOf("?"),n=!1;if(-1!==t){if(0!==t&&t!==e.length-1)throw new Error('Type unexpectedly contains a "?" in the middle: '+e);n=!0,e=e.split("?")[t?0:1]}return{v:function(t,r){if(null==t){if(n)return;i("Value was null, but expected non-nullable type "+e,r)}typeof t===e||"function"==typeof t&&"object"===e||i("The typeof "+t+" is "+typeof t+" but expected it to be "+e+" "+(n&&"or value to be null")+".",r)}}}();if("object"==typeof n)return n.v}if(u.default.isArray(e)||e===Array){var r=function(){var n=e!==Array&&e[0]?a(e[0],t):u.default.identity;return{v:function(e,t){u.default.isArray(e)||i("Array type expected, but null or non-Array value provided.",t),e.forEach(function(e,r){return n(e,""+o(t)+r)})}}}();if("object"==typeof r)return r.v}if(e===Object||e&&"object"==typeof e){var s=function(){var n=e===Object?[]:Object.keys(e).map(function(n){return[n,a(e[n],""+o(t)+n)]});return{v:function(e,t){e&&"object"==typeof e||"function"==typeof e||i("Object expected, but null or non-Object value provided.",t),n.forEach(function(n){var r=l(n,2),i=r[0];(0,r[1])(e[i],""+o(t)+i)})}}}();if("object"==typeof s)return s.v}if("function"==typeof e)return e;i("Invalid descriptor: Expected type "+e+". Should be falsy, String, Array, Object, or function.",t)}var l=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.exports=a;var u=r(n);a.asEnum=function(e,t){return function(n){if(!Object.keys(t).some(function(e){return t[e]===n}))throw new Error("Invalid "+e+". Expected one of: "+Object.keys(t).join(", "))}},a.nullable=function(e){var t=a(e);return function(e){null!=e&&t(e)}},a.recurse=function(e){var t=void 0;return function(n){t||(t=a(e())),t(n)}},a.strictEqual=function(e){return function(t){if(t!==e)throw new Error("Expected "+e+" but was "+t)}}}.apply(t,r))&&(e.exports=i)},488:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(132),o=r(i),a=function e(t,n,r,i){return this instanceof e?(this.fromRange=t,this.toRange=n,this.fromLines=r,this.toLines=i,this.conflict_=!1,this):new e(t,n)};a.ofLengths=function(e,t,n,r,i,l){return new a(o.default.ofLength(e,t),o.default.ofLength(n,r),i,l)},a.addition=function(e,t,n){return new a(o.default.pointAfterLine(e),t,[],n)},a.change=function(e,t,n,r){return new a(e,t,n,r)},a.deletion=function(e,t,n){return new a(e,o.default.pointAfterLine(t),n,[])},a.prototype=function(){function e(e,t){for(var n=0,r=e.length-1;n<=r;){var i=Math.floor((n+r)/2),o=e[i];if(t.overlaps(o))return i;if(t.before(o))r=i-1;else{if(!t.after(o))return-1;n=i+1}}return-1}var t=a.prototype;return t.isAddition=function(){return 0===this.fromRange.length},t.isChange=function(){return this.fromRange.length>0&&this.toRange.length>0},t.isDeletion=function(){return 0===this.toRange.length},t.conflict=function(){return this.conflict_=!0,this},t.isConflict=function(){return this.conflict_},t.before=function(e){return this.fromRange.before(e.fromRange)&&this.toRange.before(e.toRange)},t.after=function(e){return this.fromRange.after(e.fromRange)&&this.toRange.after(e.toRange)},t.overlaps=function(e){return this.fromRange.overlaps(e.fromRange)||this.toRange.overlaps(e.toRange)},t.overlapping=function(t){var n=[],r=e(t,this);if(r>=0){var i,o,a;for(o=r-1;o>=0&&(i=t[o]).overlaps(this);o-=1)n.push(i);for(n.push(t[r]),o=r+1,a=t.length;o<a&&(i=t[o]).overlaps(this);o++)n.push(i)}return n},t.equals=function(e){return this.fromRange.equals(e.fromRange)&&this.toRange.equals(e.toRange)},t.toString=function(){function e(e){return 1===e.length?e.low+"":e.low+","+e.length}return function(){return"-"+e(this.fromRange)+" +"+e(this.toRange)}}(),t}(),t.default=a,e.exports=t.default},493:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=r(i),a=(0,o.default)(document.body).data("currentPrHistory")||{};t.default=a,e.exports=t.default},580:function(e,t,n){var r,i;r=[t,e,n(24)],void 0!==(i=function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){var n=Object.getOwnPropertyNames(e).filter(function(t){if(-1!==s.indexOf(t))return!1;var n=Object.getOwnPropertyDescriptor(e,t);return l.default.isFunction(n.value)}),r=Object.getPrototypeOf(e);return r.isPrototypeOf(t)?n:l.default.uniq(n.concat(o(r,t)))}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=r(n),u=function(){function e(t){i(this,e),l.default.bindAll(this,o(this,e)),t&&(this.options=l.default.extend({},this.constructor.defaults,t))}return a(e,[{key:"_getListeners",value:function(e){return this._listeners||(this._listeners={}),this._listeners[e]||(this._listeners[e]=[]),this._listeners[e]}},{key:"on",value:function(e,t){var n=this._getListeners(e);return l.default.contains(n,t)||n.push(t),this}},{key:"off",value:function(e,t){for(var n=this._getListeners(e),r=n.length;r--;)n[r]!==t&&n[r]._handler!==t||n.splice(r,1);return this}},{key:"once",value:function(e,t){var n=this.off.bind(this,e,t);return n._handler=t,this.on(e,t),this.on(e,n),this}},{key:"trigger",value:function(e){for(var t=this,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return this._getListeners(e).slice().forEach(function(e){try{e.apply(t,r)}catch(e){l.default.defer(function(){throw e})}}),this}},{key:"_addDestroyable",value:function(e){if(this._destroyables||(this._destroyables=[]),l.default.isFunction(e)&&(e={destroy:e}),!l.default.isFunction(e.destroy))throw new Error("Argument is not destroyable");return this._destroyables.push(e),this}},{key:"destroy",value:function(){this._destroyables&&(l.default.invoke(this._destroyables,"destroy"),this._destroyables=null),this.trigger("destroy"),this._listeners&&(this._listeners=null)}},{key:"options",get:function(){return this._options},set:function(e){this._options=e}}]),e}();Object.defineProperty(u.prototype,"__nonEnumerable",{enumerable:!0,get:function(){throw new Error("BitbucketWidget is not enumerable. Inherit using Object.create().")}});var s=["constructor","__nonEnumerable"];t.exports=u}.apply(t,r))&&(e.exports=i)},716:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(23),o=r(i),a=n(4),l=r(a),u=n(19),s=r(u),c=n(178),d=r(c),f=n(421),h=r(f),p=n(167),m=r(p),g=o.default.sidebar(".aui-sidebar"),v=function(e,t,n,r,i){this.endPoint=e,this.filename=t,this.anchor=r,this.destrev=i,this.commentForm=(0,h.default)(),this.$elem=null,this.threads=m.default.decorateThreads(e.toString(),n,t)};v.prototype.decorate=function(e){return this.$elem=e,this.enterDocument(),this},v.prototype.calculateListWidth=function(){var e=this.$elem.find(".comment-thread-container:first");if(!e.length)return!1;var t=parseInt(e.css("padding-left").replace("px",""),10),n=parseInt(e.css("padding-right").replace("px",""),10),r=e.find(".comments-list"),i=parseInt(r.css("border-left-width").replace("px",""),10),o=parseInt(r.css("border-right-width").replace("px",""),10);return this.listWidth=this.$elem.width()-t-n-i-o,this.listWidth},v.prototype.setListWidth=function(){this.$elem.find(".comments-list").css("max-width",this.calculateListWidth())},v.prototype.enterDocument=function(){var e=this;this.$elem.on("click",".add-diff-comment",function(t){return e.showForm(t)}),this.commentForm.onCancel(function(){return e.hideForm()});var t=this;s.default.each(this.threads,function(e){(0,l.default)(e).bind("line-comment/thread-deleted",function(){return t.cleanUpThreads()})}),this.$elem.find(".comments-list").css("max-width",this.calculateListWidth()),(0,l.default)(window).on("resize",this.setListWidth.bind(this)),g.on("expand-end collapse-end",this.setListWidth.bind(this))},v.prototype.showForm=function(e){e.preventDefault(),this.hideForm();var t=(0,l.default)(e.target).closest(".add-diff-comment"),n={content:"",filename:this.filename,anchor:this.anchor,dest_rev:this.destrev},r=t.siblings(".line-numbers").data("fnum"),i=t.siblings(".line-numbers").data("tnum");r&&i||r?n.line_from=r:n.line_to=i;var o=new d.default(n,{urlRoot:this.endPoint.toString()});this.commentForm.comment=o,o.on("sync",s.default.once(this.insertNewComment),this);var a;if(t.hasClass("add-file-comment")){var u=t.closest(".diff-container").find(".diff-content-container");a=u.children(".comment-thread-container")}else{var c=t.closest(".udiff-line");a=c.next(".comment-thread-container")}a.length||(a=(0,l.default)('<div class="comment-thread-container"><ol class="comments-list"></ol></div>'),u?a.prependTo(u):c&&a.insertAfter(c),a.find(".comments-list").css("max-width",this.listWidth?this.listWidth:this.calculateListWidth())),a.removeClass("existing-comment");var f=a.find(".comments-list");this.commentForm.$elem?(this.commentForm.$elem.prependTo(f),this.commentForm.clearContents()):this.commentForm.render(f),this.commentForm.showAndFocus()},v.prototype.insertNewComment=function(e){var t=this,n=this.commentForm.$elem.parent(".comments-list"),r=new m.default(e).render(n);(0,l.default)(r).bind("line-comment/thread-deleted",function(){return t.cleanUpThreads()}),this.threads.push(r),this.hideForm(),r.scrollTo(),this.commentForm.clearContents(),(0,l.default)(document).trigger("comment-added",e)},v.prototype.acceptLineComments=function(e){var t=this;s.default.each(e,function(e){(0,l.default)(e).bind("line-comment/thread-deleted",function(){return t.cleanUpThreads()}),t.threads.push(e)})},v.prototype.cleanUpThreads=function(){s.default.each(this.$elem.find(".comment-thread-container:not(:has(li.comment, li.new-comment))"),function(e){(0,l.default)(e).remove()})},v.prototype.hideForm=function(){if(this.commentForm.$elem){var e=this.commentForm.$elem.parent(".comments-list");if(this.commentForm.$elem.detach(),!e.children().length){e.parent(".comment-thread-container").remove()}}},t.default=v,e.exports=t.default},717:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=r(i),a=n(19),l=r(a),u=n(715),s=r(u),c=n(716),d=r(c),f=n(241),h=r(f),p=n(356),m=r(p),g=n(718),v=r(g),b=n(27),_=r(b),y={};y.setupDeferredDiffMarkers=function(e,t){(0,o.default)("#commit-files-summary li.truncated").each(function(t,n){l.default.defer(function(t){var n=(0,o.default)(t),r=n.data("file-identifier"),i=n.find("a.execute").text(),a=n.hasClass("file-conflicts"),l=n.find(".count-badge .count").text(),u={diffidentifier:r,filename:i,conflicts:a};"0"!==l&&(u.eclipsedcount=l);var s=(0,o.default)(_.default.toHtml("diff-too-big-template",u));e.append(s);var c=function(){return s.find(".load-diff").click()};if(n.on("click",c),n.find("a.commit-files-summary--filename").attr("href")===window.location.hash){var d=window.location.hash;s.find(".load-diff").click(),window.location.hash="",window.location.hash=d}},n)}),e.on("click",".load-diff",function(e){e.preventDefault();var n=(0,o.default)(e.target),r=n.closest(".bb-udiff"),i=r.data("identifier"),a=(0,o.default)('#commit-files-summary li[data-file-identifier="{}"]'.format(i)),u=(0,o.default)('<div class="mask">'),c=(0,o.default)("#compare"),f=c.attr("data-anchor"),p=c.attr("data-dest-rev"),g=t.diffEndpoint||window.location;r.find(".too-big-message .title").append(u),u.show(),o.default.ajax({type:"GET",url:g,data:{file:decodeURI(i)},dataType:"html",success:function(e){var n,u=(0,o.default)(e),c=u.find('section[data-identifier="{}"]'.format(i)),g=u.find('#commit-files-summary li[data-file-identifier="{}"]'.format(i)),b=c.data("filename"),_=c.data("compare-files-url"),y=r.data("rename-info"),w=l.default.keys(c.data("linecommentroots")||{});if(!c.length)return r.find(".too-big-message .try-again").hide(),r.find(".too-big-message .try-again-failed").show(),void r.find(".mask").remove();r.replaceWith(c),a.replaceWith(g),t.isCommentable&&(new s.default(g.find(".count-badge .count"),c).decorate(),n=new d.default(t.commentsEndPoint,b,w,f,p).decorate(c)),new m.default(b,_,y).decorate(c.find(".diff-actions")),new h.default(c.data("expand-context-url")+encodeURI(b),c.data("identifier"),!0,n,t.commentsEndPoint?t.commentsEndPoint.toString():"").decorate(c),v.default.addWordDiff(c),c.trigger("deferred-large-diff/load",e)}})})},t.default=y,e.exports=t.default},718:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){function r(i,o){try{var a=t[i](o),l=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(l).then(function(e){r("next",e)},function(e){r("throw",e)});e(l)}return r("next")})}}function a(e){return p.default.makeArray(e.find(".udiff-line.deletion:not(.conflict)+.addition:not(.conflict)")).map(function(e){var t,n=(0,p.default)(e),r=n.prevUntil(".common, .addition").find(".source");return(t=n).push.apply(t,i(n.nextUntil(".common, .deletion"))),n=n.find(".source"),[{previousText:p.default.makeArray(r).map(u).join("\n"),newText:p.default.makeArray(n).map(u).join("\n")},{$previousLines:r,$newLines:n}]})}function l(e){e.forEach(function(e){s(e[0].previousText,e[1].$previousLines,"-"),s(e[0].newText,e[1].$newLines,"+")})}function u(e){return e.textContent.substr(1)}function s(e,t,n){e.split("\n").forEach(function(e,r){return t[r].innerHTML=n+e})}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){var e=o(regeneratorRuntime.mark(function e(t){var n,r,i,o,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.attr("data-fe-word-diff")){e.next=2;break}return e.abrupt("return");case 2:if(n=a(t),r=g.default.unzip(n),!(n.length>0)){e.next=20;break}return i=r[1],e.prev=6,e.next=9,(0,b.default)("word-diff-worker");case 9:return o=e.sent,e.next=12,o.postMessage(r[0]);case 12:u=e.sent,l(g.default.zip(u,i)),t.find(".refract-container").addClass("word-diff"),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(6),f.default.messages.warning({body:gettext("We failed to load the JS word differ. Try reloading in a few moments.")});case 20:case"end":return e.stop()}},e,this,[[6,17]])}));return function(t){return e.apply(this,arguments)}}(),d=n(23),f=r(d),h=n(4),p=r(h),m=n(24),g=r(m),v=n(1354),b=r(v);t.default={addWordDiff:c},e.exports=t.default},720:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(31),o=r(i),a=n(19),l=r(a),u=n(1323),s=r(u),c=n(315),d=r(c),f=n(63),h=r(f),p=h.default.global.features["privacy-compliant-ui-components"];t.default=o.default.Collection.extend({model:s.default,initialize:function(e,t){t=t||{},this.url=t.url,this.likesUrl=t.likesUrl,this.noun=t.noun},parse:function(e){var t=e.author||null,n=e.date||e.created_on||null,r=e.participants||e;if(t){var i={approved:!1},o=t.user||t.raw?t.user:t;if(o?(i.user=o,i.participated_on=n):(p&&(i.display_name=t.raw.replace(/\s?<.*>/g,"")),i.username=t.raw,i.last_updated_on=n,i.unmapped=!0),0===r.length)r.push(i);else{r.some(function(e){return o&&e.user.uuid===o.uuid})||r.unshift(i)}}return r},comparator:function(e){var t=(new Date).getTime(),n=e.get("last_updated_on");return[e.get("approved")?1:0,n?(0,d.default)(n).getTime():t]},includes:function(e,t){return t=t||this,l.default.any(t,function(t){return t.get("username")===e})},approved:function(e){return this.some(function(t){return t.get("username")===e&&t.get("approved")})},lastNParticipants:function(e,t,n){function r(e){return e.get("username")===t}var i=this.filter(n);if(i.length<=e)return i;var o=l.default.tail(i,i.length-e);return t&&this.includes(t,i)&&!l.default.find(o,r)&&(o.shift(),o.unshift(l.default.find(i,r))),o},remainingParticipants:function(e,t,n){function r(e){return e.get("username")===t}function i(e){return e.get("username")!==t}var o=this.filter(n);return o.length<=e?[]:(l.default.find(o,r)&&(o=l.default.filter(o,i),e-=1),l.default.initial(o,e))}}),e.exports=t.default},728:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={api:{internal:{prRelations:function(e,t,n,r){return"/!api/internal/repositories/"+e+"/"+t+"/pullrequests/"+n+"/"+r+"/"},prRelation:function(e,t,n,r,i){return""+this.prRelations(e,t,n,r)+i+"/"}},v20:{comments:function(e,t,n){return"/!api/2.0/repositories/"+e+"/"+t+"/pullrequests/"+n+"/comments/"}}}},e.exports=t.default},730:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={timeout:5e4},e.exports=t.default},731:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g,n=void 0;if(null===e)return null;switch(t){case Date:if(e instanceof Date||(e=new Date(e)),isNaN(e.getTime()))throw new Error("Invalid date given.");return e.toISOString();case String:return'"'+(0,p.default)(String(e))+'"';case Number:if("number"!=typeof e){var r=Number(e);if(isNaN(r))throw new Error("Invalid number value: "+e);n=r}else n=e;return n;case Boolean:return n="boolean"!=typeof e?Boolean(e):e;default:throw new Error("Unknown parameter type: "+t)}}Object.defineProperty(t,"__esModule",{value:!0}),t.BBQLFieldSpec=t.BBQLAnd=t.BBQLOr=t.BBQLClause=t.BBQLClauseSuffix=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(24),c=r(s),d=n(456),f=r(d),h=n(1351),p=r(h),m=n(361),g=String,v=function(){function e(){a(this,e)}return u(e,[{key:"renderAsSubexpression",value:function(){return this.toString()}}]),e}(),b=t.BBQLClauseSuffix=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g;a(this,e),this.validateState(t,n,r),this.operator=t,this.type=r,this.value=Array.isArray(n)?n.map(function(e){return l(e,r)}):l(n,r)}return u(e,[{key:"validateState",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g;(0,f.default)(e in m.VALID_TYPES_FOR_OPERATOR,"Invalid operator: "+e),(0,f.default)(!m.VALID_TYPES_FOR_OPERATOR[e]||m.VALID_TYPES_FOR_OPERATOR[e].indexOf(n)>=0,"The given operator cannot be used with the given type:\n      "+e+", "+n),(0,f.default)(null!==t||e===m.BBQLOperators.EQUALS||e===m.BBQLOperators.DOES_NOT_EQUAL,"`null` values can only be processed through equality operators")}},{key:"toString",value:function(){return""+this.operator+this.value}}]),e}(),_=(t.BBQLClause=function(e){function t(e,n){a(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.key=e,r.clauseSuffix=n,r}return o(t,e),u(t,null,[{key:"fromKeyValue",value:function(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:g;return new t(e,new b(n,r,i))}}]),u(t,[{key:"toString",value:function(){return""+this.key+this.clauseSuffix}}]),t}(v),function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return(0,f.default)(c.default.every(e,function(e){return e instanceof v}),"Each item in `values` must be an instance of `BBQLExpression`"),n._bbqlExpressions=e,n}return o(t,e),u(t,[{key:"toString",value:function(){var e=this.normalizedBBQLExpressions;return e.length?""+e.join(" "+this.joiner+" "):""}},{key:"renderAsSubexpression",value:function(){var e=this.toString();return e?"("+e+")":e}},{key:"normalizedBBQLExpressions",get:function(){return this._bbqlExpressions.filter(function(e){return e}).map(function(e){return e.renderAsSubexpression()}).filter(function(e){return e})}},{key:"joiner",get:function(){throw new Error("Unimplemented")}}]),t}(v));t.BBQLOr=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"joiner",get:function(){return"OR"}}]),t}(_),t.BBQLAnd=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"joiner",get:function(){return"AND"}}]),t}(_),t.BBQLFieldSpec=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g;a(this,e),this.bbqlKey=t,this.type=n}return u(e,[{key:"validateClauseSuffix",value:function(e){if(e.type!==this.type)throw new Error("Invalid `ClauseSuffix` for field: "+this.bbqlKey+".")}}]),e}()},851:function(e,t,n){var r,i;r=[t,e,n(24),n(485)],void 0!==(i=function(e,t,n,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var o=i(n),a=i(r),l={email_address:"string?",name:"string"},u={NORMAL:"NORMAL",SERVICE:"SERVICE"},s={NORMAL:"NORMAL",PERSONAL:"PERSONAL"},c={GIT:"git",HG:"hg"},d=o.default.extend({},l,{avatar_url:"string",display_name:"string",is_active:"boolean",is_admin:"boolean",slug:"string?",type:a.default.asEnum("UserType",u)}),f={id:"string",name:"string",key:"string",description:"string?",type:a.default.asEnum("ProjectType",s),owner:a.default.nullable(d),is_public:"boolean"},h={id:"string",name:"string",slug:"string",is_forkable:"boolean",is_public:"boolean",origin:a.default.nullable(a.default.recurse(function(){return h})),scm_id:a.default.asEnum("scmId",c)},p={TAG:"tag",BRANCH:"branch",COMMIT:"commit"},m={id:"string",display_id:"string",type:a.default.asEnum("RefType",p),is_default:"boolean",latest_commit:"string?",repository:a.default.nullable(h)},g={AUTHOR:"author",REVIEWER:"reviewer",PARTICIPANT:"participant"},v={APPROVED:"APPROVED",NEEDS_WORK:"NEEDS_WORK",UNAPPROVED:"UNAPPROVED"},b={ADD_SELF:"ADD_SELF",REMOVE_SELF:"REMOVE_SELF"},_={OPEN:"OPEN",MERGED:"MERGED",DECLINED:"DECLINED"},y={user:d,role:a.default.asEnum("Role",g),state:a.default.asEnum("ApprovalState",v)},w=o.default.extend({},y,{role:a.default.strictEqual(g.AUTHOR)}),k=o.default.extend({},y,{role:a.default.strictEqual(g.REVIEWER)}),x=o.default.extend({},y,{role:a.default.strictEqual(g.PARTICIPANT)}),E={author:w,description:"string?",description_as_html:"string?",created_date:"string",from_ref:m,id:"string?",participants:[x],reviewers:[k],state:a.default.asEnum("PullRequestState",_),title:"string?",titleHtml:"string?",to_ref:m,updated_date:"string",version:"number?",task_count:"number?",comment_count:"number?"},C={},P={},O={},S={},T={},D={name:a.default.asEnum("permission",{KNOWN_USER:"KNOWN_USER",REPO_READ:"REPO_READ",REPO_WRITE:"REPO_WRITE",REPO_ADMIN:"REPO_ADMIN",SYS_ADMIN:"SYS_ADMIN"}),project_id:"string?",project_key:"string?",repository_id:"string?",repository_slug:"string?"};t.exports={ApprovalState:v,ProjectType:s,PullRequestState:_,RefType:p,ParticipantRole:g,SelfAction:b,scmId:c,UserRole:g,UserType:u,changeset:O,comment:C,file_metadata:S,file_text:T,permission:D,person:l,project:f,pull_request:E,ref:m,repository:h,task:P,user:d}}.apply(t,r))&&(e.exports=i)},856:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.listenTo=void 0,t.default=function(){function e(e,t){var n='[data-repo="{0}"]'.format();return e.filter(n(t))}function t(t,n,r){var i=(0,x.default)(n),o=(0,x.default)(r),a=c.find("#id_source_repo"),l=c.find("#id_dest_repo"),u=t.find('[data-field="source"]'),s=t.find('[data-field="dest"]'),d=e(u,i.repo),f=e(s,o.repo);d.val(n).trigger("change"),f.val(r).trigger("change"),a.val(i.repo).trigger("change"),l.val(o.repo).trigger("change")}function n(e,t,n,r){return t!==e||r?"{0}{1}{2}".format(t,r?"+":":",encodeURIComponent(n)):encodeURIComponent(n)}function r(e,t,r){var i=_.default.fullslug,o=(0,x.default)(t.val()),a=(0,x.default)(r.val()),l=t.data("multiple-heads")?o.hash:o.branch,u=r.data("multiple-heads")?a.hash:a.branch,s=void 0,c=void 0;return u?(s=n(i,o.repo,l),c=n(i,a.repo,u)):(s=n(i,o.repo,l,!0),c=a.repo),"{0}{1}{2}{3}".format(e,s,encodeURIComponent("\r"),c)}function i(e,t){var n=e.find('.menu-item a[href="{}"]'.format(t)).closest(".menu-item");0!==n.length&&(e.find(".menu-item.active-tab").removeClass("active-tab"),e.find(".tabs-pane.active-pane").removeClass("active-pane"),n.addClass("active-tab"),e.find(t+".tabs-pane").addClass("active-pane"))}function a(e,t){for(var n=(0,x.default)(e),r=null,i=0;i<t.length;++i){var o=t[i],a=(0,x.default)(o);if(n.repo===a.repo){if(n.hash===a.hash&&n.branch===a.branch)return o;null===r&&n.branch===a.branch&&(r=o)}}return r}var u=(0,l.default)("#compare-toolbar"),c=(0,l.default)("#compare-form"),f=(0,l.default)("#branch-build-status-dest"),p=(0,l.default)("#branch-build-status-source");(0,l.default)(".compare-widget-form:not(.deleted)").each(function(){var e=(0,l.default)(this),t=e.find(".repo-field"),n=e.find(".repo-avatar-link"),r=e.find(".branch-field"),i='[data-repo="{0}"]'.format();t.on("bb:compare:repo:change",function(){n.hide().filter(i(t.val())).show()}),t.on("bb:repo:change",function(){(0,l.default)(this).trigger("bb:compare:repo:change")}),r.on("bb:branch:change",function(){(0,l.default)(this).trigger("bb:compare:change",[r])}),(0,s.default)(t.filter(":visible"),r),t.change()});var g=(0,l.default)(".compare-widget-container"),b=(0,l.default)("#compare-content"),y=null,k=!0;b.on("pjax:error",function(){b.html("<h2>We couldn't load the diff</h2><p>If you'd like to continue, you can still create the pull request without seeing the diff.</p>")}),b.on("pjax:start",function(){b.addClass("has-mask")}),b.on("pjax:end",function(){b.removeClass("has-mask");var e=b.find(".bb-patch-unified"),t=r(b.attr("data-base-url"),g.find('[name="source"] option:selected'),g.find('[name="dest"] option:selected'));m.default.setupDeferredDiffMarkers(e,{diffEndpoint:t}),e.find(".bb-udiff, .comment-content .bb-udiff").each(function(){var e=(0,l.default)(this),t=e.data("filename"),n=e.data("compare-files-url"),r=e.data("rename-info");new v.default(t,n,r).decorate(e.find(".diff-actions")),new h.default(e.data("expand-context-url")+encodeURI(t),e.data("identifier"),!1).decorate(e)}),g.trigger("bb:compare:loaded"),(0,l.default)(document).trigger("bb:compare")}),g.bind("bb:compare:change",function(e,t){if(!A){var n=(0,l.default)(this),i=b.attr("data-full-url"),o=n.find('[name="source"] option:selected'),a=n.find('[name="dest"] option:selected'),s=C.default.get("w"),c=C.default.get("ts");if(!i){if(!o.val()||!a.val()||n.data("compare-view-disabled"))return;i=r(b.attr("data-base-url"),o,a)}if(i+=window.location.hash,u.removeClass("has-conflicts"),g.data("pjax")&&l.default.support.pjax)l.default.pjax({container:"#compare-content",url:i,push:!k,scrollTo:null,timeout:0,state:{source:o.val(),dest:a.val()}});else{y&&y.readyState<4&&(y.onreadystatechange=l.default.noop,y.abort());var d={},h=function(){b.trigger("pjax:start")},m=function(){b.trigger("pjax:end")},v=function(e){b.html(e),b.trigger("pjax:success"),(0,M.default)()},_=function(){b.trigger("pjax:error")};null!==s&&(d.w=s),c&&(d.ts=c),y=l.default.ajax({url:i,data:d,dataType:"html",beforeSend:h,complete:m,success:v,error:_})}var w=n.find(".repo-field").val().trim(),x=t&&t.data("field");x&&"dest"!==x||(0,O.default)(f,{branch:a.text().trim(),repo:w}),x&&"source"!==x||(0,O.default)(p,{branch:o.text().trim(),repo:w}),k=!1}}),(0,l.default)(window).on("hashchange",function(){i(N(),window.location.hash),L()}),(0,l.default)(document).bind("bb:compare",function(){(0,l.default)(function(){var e=N(),t=(0,l.default)("#compare-metadata"),n=t.data("has-conflicts");(0,l.default)("#compare-toolbar .conflict-warning").tooltip(),u.toggleClass("has-conflicts",n),window.location.hash&&i(e,window.location.hash),o.default.tabs.setup(),e.find(".menu-item a").on("click",function(){window.location.hash=(0,l.default)(this).attr("href")}),e.on("click",'a[href="#diff"]',function(){w.default.trackEvent("Compare","Diff tab")}).on("click",'a[href="#commits"]',function(){w.default.trackEvent("Compare","Commits tab")}),L()})});var E=(0,l.default)("#compare-create-pr"),P=(0,l.default)("#compare-merge"),S=g.data("pr-source-choices")||[],D=g.data("pr-dest-choices")||[];(0,l.default)(document).bind("bb:compare",function(){var e=(0,l.default)(this),t=e.find('[name="source"]').val(),n=e.find('[name="dest"]').val(),r=(0,l.default)("#compare-metadata").data("hasChanges");if(0!==E.length&&S&&D){var i=a(t,S),o=a(n,D);i&&o&&r?(E[0].search="source={0}&dest={1}".format(i,o),E.removeClass("disabled").removeAttr("aria-disabled")):(E[0].search="",E.addClass("disabled").attr("aria-disabled",!0))}}),(0,l.default)(document).bind("bb:compare",function(){var e=(0,l.default)("#compare-metadata"),t=e.data("hasChanges"),n=e.data("hasWrite"),r=e.data("has-branch-write");n&&t&&r?P.removeClass("disabled").removeAttr("aria-disabled"):P.addClass("disabled").attr("aria-disabled",!0)}),E.bind("click",function(e){(0,l.default)(this).hasClass("disabled")&&e.preventDefault()}),P.length&&(0,d.default)(P,{getData:function(){function e(e){return e.find('[value="{}"]'.format(e.val()))}function t(e,t){return e.filter('[data-repo="{}"]'.format(t)).find("img")}var n=c.find('[name="source"]'),r=(0,l.default)("#compare-metadata"),i=e(n),o=i.text(),a=c.find("#id_source_repo").val(),u=c.find('[name="dest"]'),s=e(u),d=s.text(),f=c.find("#id_dest_repo").val(),h=c.find('label[for="id_source_repo"] .repo-avatar-link'),p=t(h,a),m=c.find('label[for="id_dest_repo"] .repo-avatar-link'),g=t(m,f),v=r.data("has-conflicts"),b=!r.data("has-branch-close"),_=void 0,y=!1;return _=a===f?o:s.data("mainbranch")&&o===d?a:"{}/{}".format(a,o),a!==f||i.data("mainbranch")||b||(y=!0),{action:document.location.pathname,source:n.val(),sourceBranch:o,sourceRepo:a,sourceAvatar:p.attr("src"),sourceAvatarAltText:p.attr("alt"),dest:u.val(),destBranch:d,destRepo:f,destAvatar:g.attr("src"),destAvatarAltText:g.attr("alt"),sameRepo:a===f,canCloseBranch:y,hasConflicts:v,mergeCommands:v&&(0,l.default)("#merge-commands-content").html(),commitMessageSlug:_}}}),c.find("#compare-swap-link a").click(function(e){e.preventDefault();var n=c.find('[name="source"]').val(),r=c.find('[name="dest"]').val();A=!0;try{t(c,r,n)}finally{A=!1}g.trigger("bb:compare:change")}),g.trigger("bb:compare:change"),(0,T.default)(g)};var i=n(23),o=r(i),a=n(4),l=r(a);n(74);var u=n(2901),s=r(u),c=n(425),d=r(c),f=n(241),h=r(f),p=n(717),m=r(p),g=n(356),v=r(g),b=n(36),_=r(b),y=n(65),w=r(y),k=n(869),x=r(k),E=n(106),C=r(E),P=n(2881),O=r(P),S=n(310),T=r(S),D=n(3059),M=r(D),A=!1,N=function(){return(0,l.default)("#compare-tabs")},j=function(){if((0,l.default)(".compare-no-changes").length)return"empty";var e=N().find(".active-tab a").attr("href");return e?e.slice(1):void 0},R=function(e){(0,l.default)(document).trigger("bb:compare:"+e)},B=function(e){R("screen:"+e)},L=function(){var e=j();e&&B(e)};t.listenTo=function(e,t){return(0,l.default)(document).on(e,t)}},857:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1376),o=r(i),a=n(4),l=r(a);n(23),t.default=function(e){var t=(0,l.default)('<button\n        title="'+gettext("Copy to clipboard")+'"\n        type="button"\n        class="aui-button aui-button-subtle copy-to-clipboard--button"\n      >\n        <span class="aui-icon aui-icon-small aui-iconfont-copy-clipboard">'+gettext("Copy to clipboard")+"</span>\n      </button>");return e.prop("readonly",!0).addClass("copy-to-clipboard--input").after(t),t.tooltip(),new o.default(t.get(0),{target:function(){return e.get(0)}})},e.exports=t.default},860:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(31),o=r(i),a=n(19),l=r(a),u=n(429),s=r(u),c=n(27),d=r(c);t.default=o.default.View.extend({initialize:function(e){this.condition=e.condition||function(){return!0},this.auiAvatarSize=e.auiAvatarSize,this.emptyTemplate=e.emptyTemplate,this.collection.bind("reset",this.render,this),this.collection.bind("participants:refresh",l.default.bind(this.refreshParticipants,this))},refreshParticipants:function(){this.collection.fetch({reset:!0,cache:!1})},render:function(){return this.renderAvatars(),this},processParticipantsList:function(e){return e},renderAvatarsCompleted:function(e){},renderAvatars:function(){this.$el.empty(),this.$el.removeClass("loading");var e=this.collection.filter(this.condition),t=this.processParticipantsList(e);t.length?(this.$el.removeClass("empty"),t.reverse(),l.default.each(t,this.addAvatar,this)):(this.$el.addClass("empty"),this.emptyTemplate&&this.$el.append(d.default.toHtml(this.emptyTemplate))),this.renderAvatarsCompleted(e)},addAvatar:function(e){var t=s.default.participantHtml(e,this.collection.noun,this.auiAvatarSize);this.$el.append(t)}}),e.exports=t.default},869:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.split(":");return{repo:t.shift(),hash:t.shift()||null,branch:t.join(":")||null}},e.exports=t.default},872:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(e,t,r){n.refresh();var i=(0,l.default)(t);e.html(s.default.toHtml("unmapped-author-dialog",{link:i.attr("href"),raw_author:i.data("raw-author")})),r&&r()}var n=o.default.InlineDialog(e,"unmapped-user",t)};var i=n(23),o=r(i),a=n(4),l=r(a),u=n(27),s=r(u);e.exports=t.default},93:function(e,t,n){"use strict";var r=n(1),i=n(3);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getTheme",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"themed",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"AtlaskitThemeProvider",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"Appearance",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"Consumer",{enumerable:!0,get:function(){return p.Consumer}}),Object.defineProperty(t,"Provider",{enumerable:!0,get:function(){return p.Provider}}),Object.defineProperty(t,"Reset",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"Theme",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"withTheme",{enumerable:!0,get:function(){return v.withTheme}}),t.math=t.typography=t.elevation=t.colors=t.assistive=t.layers=t.codeFontFamily=t.fontFamily=t.fontSizeSmall=t.fontSize=t.gridSize=t.borderRadius=t.AtlasKitThemeProvider=void 0;var o=n(2),a=i(n(158));t.colors=a;var l=i(n(1081));t.elevation=l;var u=i(n(1083));t.typography=u;var s=i(n(1084));t.math=s;var c=r(n(484)),d=r(n(264)),f=r(n(1079)),h=r(n(1078)),p=n(194),m=r(n(1080)),g=r(n(482)),v=n(1082),b=f.default;t.AtlasKitThemeProvider=b;var _=function(){return 3};t.borderRadius=_;var y=function(){return 8};t.gridSize=y;var w=function(){return 14};t.fontSize=w;var k=function(){return 11};t.fontSizeSmall=k;var x=function(){return'-apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif'};t.fontFamily=x;var E=function(){return'"SFMono-Medium", "SF Mono", "Segoe UI Mono", "Roboto Mono", "Ubuntu Mono", Menlo, Consolas, Courier, monospace'};t.codeFontFamily=E;var C={card:function(){return 100},dialog:function(){return 200},navigation:function(){return 300},layer:function(){return 400},blanket:function(){return 500},modal:function(){return 510},flag:function(){return 600},spotlight:function(){return 700},tooltip:function(){return 800}};t.layers=C;var P=function(){return(0,o.css)(["\n  border: 0 !important;\n  clip: rect(1px, 1px, 1px, 1px) !important;\n  height: 1px !important;\n  overflow: hidden !important;\n  padding: 0 !important;\n  position: absolute !important;\n  width: 1px !important;\n  white-space: nowrap !important;\n"])};t.assistive=P}},[4179]);
//# sourceMappingURL=pullrequests.js.map